// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,na,oa,A,pa,qa,ta,ua,wa,xa,ya,T,za,Aa,Ba,Ca,Da,U,Ea,Fa,Ga,Ja,La,Ma,Na,Oa,Pa,Qa,Ra,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec={},fc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(b){return b.__proto__}:function(b){return b.constructor.prototype});
(function(){function b(a,d,h,e){this.set(a,d,h,e)}function n(){this.Gb=this.Fb=this.Jb=this.Ib=this.Rb=this.Qb=this.lb=this.kb=0}function g(a,d,h,e){a<d?h<e?(E=a<h?a:h,q=d>e?d:e):(E=a<e?a:e,q=d>h?d:h):h<e?(E=d<h?d:h,q=a>e?a:e):(E=d<e?d:e,q=a>h?a:h)}function k(){this.items=this.Ld=null;this.Ih=0;C&&(this.Ld=new Set);this.Rg=[];this.ye=!0}function p(a){D[K++]=a}function r(){this.ca=this.Lk=this.y=this.sl=0}function c(a){this.jb=[];this.Qi=this.Si=this.Ti=this.Ri=0;this.pi(a)}function a(a,d){this.xl=
a;this.wl=d;this.cells={}}function f(a,d){this.xl=a;this.wl=d;this.cells={}}function u(a,d,h){var e;return O.length?(e=O.pop(),e.cm=a,e.x=d,e.y=h,e):new aa(a,d,h)}function d(a,d,h){this.cm=a;this.x=d;this.y=h;this.qb=new ba}function e(a,d,h){var e;return B.length?(e=B.pop(),e.cm=a,e.x=d,e.y=h,e):new ca(a,d,h)}function t(a,d,h){this.cm=a;this.x=d;this.y=h;this.qb=[];this.kg=!0;this.Id=new ba;this.Vg=!1}function m(a,d){return a.wd-d.wd}da=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};ha=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var d=1;32>d;d<<=1)a=a|a>>d;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,d){return a>d?a:d};na=function(a,d){return a<d?a:d};oa=Math.PI;A=function(a){return 0<=a?a|0:(a|0)-1};pa=function(a){var d=a|0;return d===a?d:d+1};
qa=function(a,d,h,e,l,f,y,z){var F,m,u,c;a<h?(m=a,F=h):(m=h,F=a);l<y?(c=l,u=y):(c=y,u=l);if(F<c||m>u)return!1;d<e?(m=d,F=e):(m=e,F=d);f<z?(c=f,u=z):(c=z,u=f);if(F<c||m>u)return!1;F=l-a+y-h;m=f-d+z-e;a=h-a;d=e-d;l=y-l;f=z-f;z=ka(d*l-f*a);return ka(l*m-f*F)>z?!1:ka(a*m-d*F)<=z};b.prototype.set=function(a,d,h,e){this.left=a;this.top=d;this.right=h;this.bottom=e};b.prototype.$g=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};b.prototype.width=function(){return this.right-
this.left};b.prototype.height=function(){return this.bottom-this.top};b.prototype.offset=function(a,d){this.left+=a;this.top+=d;this.right+=a;this.bottom+=d;return this};b.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};b.prototype.jv=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};b.prototype.kv=function(a,d,h){return!(a.right+
d<this.left||a.bottom+h<this.top||a.left+d>this.right||a.top+h>this.bottom)};b.prototype.Tb=function(a,d){return a>=this.left&&a<=this.right&&d>=this.top&&d<=this.bottom};b.prototype.fh=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ta=b;n.prototype.Jg=function(a){this.kb=a.left;this.lb=a.top;this.Qb=a.right;this.Rb=a.top;this.Ib=a.right;this.Jb=a.bottom;this.Fb=a.left;this.Gb=a.bottom};n.prototype.br=function(a,d){if(0===d)this.Jg(a);else{var h=
Math.sin(d),e=Math.cos(d),l=a.left*h,f=a.top*h,y=a.right*h,h=a.bottom*h,z=a.left*e,m=a.top*e,u=a.right*e,e=a.bottom*e;this.kb=z-f;this.lb=m+l;this.Qb=u-f;this.Rb=m+y;this.Ib=u-h;this.Jb=e+y;this.Fb=z-h;this.Gb=e+l}};n.prototype.offset=function(a,d){this.kb+=a;this.lb+=d;this.Qb+=a;this.Rb+=d;this.Ib+=a;this.Jb+=d;this.Fb+=a;this.Gb+=d;return this};var E=0,q=0;n.prototype.Io=function(a){g(this.kb,this.Qb,this.Ib,this.Fb);a.left=E;a.right=q;g(this.lb,this.Rb,this.Jb,this.Gb);a.top=E;a.bottom=q};n.prototype.Tb=
function(a,d){var h=this.kb,e=this.lb,l=this.Qb-h,f=this.Rb-e,y=this.Ib-h,z=this.Jb-e,m=a-h,u=d-e,c=l*l+f*f,b=l*y+f*z,f=l*m+f*u,q=y*y+z*z,t=y*m+z*u,g=1/(c*q-b*b),l=(q*f-b*t)*g,c=(c*t-b*f)*g;if(0<=l&&0<c&&1>l+c)return!0;l=this.Fb-h;f=this.Gb-e;c=l*l+f*f;b=l*y+f*z;f=l*m+f*u;g=1/(c*q-b*b);l=(q*f-b*t)*g;c=(c*t-b*f)*g;return 0<=l&&0<c&&1>l+c};n.prototype.xe=function(a,d){if(d)switch(a){case 0:return this.kb;case 1:return this.Qb;case 2:return this.Ib;case 3:return this.Fb;case 4:return this.kb;default:return this.kb}else switch(a){case 0:return this.lb;
case 1:return this.Rb;case 2:return this.Jb;case 3:return this.Gb;case 4:return this.lb;default:return this.lb}};n.prototype.cq=function(){return(this.kb+this.Qb+this.Ib+this.Fb)/4};n.prototype.dq=function(){return(this.lb+this.Rb+this.Jb+this.Gb)/4};n.prototype.wp=function(a){var d=a.cq(),h=a.dq();if(this.Tb(d,h))return!0;d=this.cq();h=this.dq();if(a.Tb(d,h))return!0;var e,l,f,y,z,m,c,u;for(c=0;4>c;c++)for(u=0;4>u;u++)if(d=this.xe(c,!0),h=this.xe(c,!1),e=this.xe(c+1,!0),l=this.xe(c+1,!1),f=a.xe(u,
!0),y=a.xe(u,!1),z=a.xe(u+1,!0),m=a.xe(u+1,!1),qa(d,h,e,l,f,y,z,m))return!0;return!1};ua=n;wa=function(a,d){for(var h in d)d.hasOwnProperty(h)&&(a[h]=d[h]);return a};xa=function(a,d){var h,e;d=A(d);if(!(0>d||d>=a.length)){h=d;for(e=a.length-1;h<e;h++)a[h]=a[h+1];ya(a,e)}};ya=function(a,d){a.length=d};T=function(a){ya(a,0)};za=function(a,d){T(a);var h,e;h=0;for(e=d.length;h<e;++h)a[h]=d[h]};Aa=function(a,d){a.push.apply(a,d)};Ba=function(a,d){var h,e;h=0;for(e=a.length;h<e;++h)if(a[h]===d)return h;
return-1};Ca=function(a,d){var h=Ba(a,d);-1!==h&&xa(a,h)};Da=function(a,d,h){return a<d?d:a>h?h:a};U=function(a){return a/(180/oa)};Ea=function(a){return 180/oa*a};Fa=function(a){a%=360;0>a&&(a+=360);return a};Ga=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ja=function(a){return Fa(Ea(a))};La=function(a){return Ga(U(a))};Ma=function(a,d,h,e){return Math.atan2(e-d,h-a)};Na=function(a,d){if(a===d)return 0;var h=Math.sin(a),e=Math.cos(a),l=Math.sin(d),f=Math.cos(d),h=h*l+e*f;return 1<=h?0:-1>=h?oa:Math.acos(h)};
Oa=function(a,d,h){var e=Math.sin(a),l=Math.cos(a),f=Math.sin(d),y=Math.cos(d);return Math.acos(e*f+l*y)>h?0<l*f-e*y?Ga(a+h):Ga(a-h):Ga(d)};Pa=function(a,d){var h=Math.sin(a),e=Math.cos(a),l=Math.sin(d),f=Math.cos(d);return 0>=e*l-h*f};Qa=function(a,d,h,e,l,f){if(0===h)return f?a:d;var y=Math.sin(h);h=Math.cos(h);a-=e;d-=l;var z=a*y;a=a*h-d*y;d=d*h+z;return f?a+e:d+l};Ra=function(a,d,h,e){a=h-a;d=e-d;return Math.sqrt(a*a+d*d)};Xa=function(a,d){return!a!==!d};Ya=function(a){for(var d in a)if(a.hasOwnProperty(d))return!0;
return!1};Za=function(a){for(var d in a)a.hasOwnProperty(d)&&delete a[d]};var P=+new Date;$a=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-P};var h=!1,l=h=!1,x=!1;"undefined"!==typeof window&&(h=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
h=!h&&/safari/i.test(navigator.userAgent),l=/(iphone|ipod|ipad)/i.test(navigator.userAgent),x=window.c2ejecta);var C=!h&&!x&&!l&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;k.prototype.contains=function(a){return this.ae()?!1:C?this.Ld.has(a):this.items&&this.items.hasOwnProperty(a)};k.prototype.add=function(a){if(C)this.Ld.has(a)||(this.Ld.add(a),this.ye=!1);else{var d=a.toString(),h=this.items;h?h.hasOwnProperty(d)||(h[d]=a,this.Ih++,this.ye=!1):(this.items={},this.items[d]=
a,this.Ih=1,this.ye=!1)}};k.prototype.remove=function(a){if(!this.ae())if(C)this.Ld.has(a)&&(this.Ld["delete"](a),this.ye=!1);else if(this.items){a=a.toString();var d=this.items;d.hasOwnProperty(a)&&(delete d[a],this.Ih--,this.ye=!1)}};k.prototype.clear=function(){this.ae()||(C?this.Ld.clear():(this.items=null,this.Ih=0),T(this.Rg),this.ye=!0)};k.prototype.ae=function(){return 0===this.count()};k.prototype.count=function(){return C?this.Ld.size:this.Ih};var D=null,K=0;k.prototype.Lw=function(){if(!this.ye){if(C)T(this.Rg),
D=this.Rg,K=0,this.Ld.forEach(p),D=null,K=0;else{var a=this.Rg;T(a);var d,h=0,e=this.items;if(e)for(d in e)e.hasOwnProperty(d)&&(a[h++]=e[d])}this.ye=!0}};k.prototype.Xe=function(){this.Lw();return this.Rg};ba=k;new ba;ab=function(a,d){C?bb(a,d.Ld):cb(a,d.Xe())};bb=function(a,d){var h,e,l,f;e=h=0;for(l=a.length;h<l;++h)f=a[h],d.has(f)||(a[e++]=f);ya(a,e)};cb=function(a,d){var h,e,l,f;e=h=0;for(l=a.length;h<l;++h)f=a[h],-1===Ba(d,f)&&(a[e++]=f);ya(a,e)};r.prototype.add=function(a){this.y=a-this.sl;
this.Lk=this.ca+this.y;this.sl=this.Lk-this.ca-this.y;this.ca=this.Lk};r.prototype.reset=function(){this.ca=this.Lk=this.y=this.sl=0};db=r;eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};c.prototype.pi=function(a){this.Kq=a;this.qd=a.length/2;this.jb.length=a.length;this.Wi=this.Xi=-1;this.Lo=0};c.prototype.hg=function(){return!this.Kq.length};c.prototype.xa=function(){for(var a=this.jb,d=a[0],h=d,e=a[1],l=e,f,y,z=1,m=this.qd;z<m;++z)y=2*z,f=a[y],y=a[y+1],f<d&&(d=f),f>h&&(h=f),
y<e&&(e=y),y>l&&(l=y);this.Ri=d;this.Si=h;this.Ti=e;this.Qi=l};c.prototype.Jg=function(a,d,h){this.jb.length=8;this.qd=4;var e=this.jb;e[0]=a.left-d;e[1]=a.top-h;e[2]=a.right-d;e[3]=a.top-h;e[4]=a.right-d;e[5]=a.bottom-h;e[6]=a.left-d;e[7]=a.bottom-h;this.Xi=a.right-a.left;this.Wi=a.bottom-a.top;this.xa()};c.prototype.Ig=function(a,d,h,e,l){this.jb.length=8;this.qd=4;var f=this.jb;f[0]=a.kb-d;f[1]=a.lb-h;f[2]=a.Qb-d;f[3]=a.Rb-h;f[4]=a.Ib-d;f[5]=a.Jb-h;f[6]=a.Fb-d;f[7]=a.Gb-h;this.Xi=e;this.Wi=l;this.xa()};
c.prototype.$q=function(a){this.qd=a.qd;za(this.jb,a.jb);this.Ri=a.Ri;this.Ti-a.Ti;this.Si=a.Si;this.Qi=a.Qi};c.prototype.Uf=function(a,d,h){if(this.Xi!==a||this.Wi!==d||this.Lo!==h){this.Xi=a;this.Wi=d;this.Lo=h;var e,l,f,y,z,m=0,c=1,u=this.Kq,b=this.jb;0!==h&&(m=Math.sin(h),c=Math.cos(h));h=0;for(f=this.qd;h<f;h++)e=2*h,l=e+1,y=u[e]*a,z=u[l]*d,b[e]=y*c-z*m,b[l]=z*c+y*m;this.xa()}};c.prototype.Tb=function(a,d){var h=this.jb;if(a===h[0]&&d===h[1])return!0;var e,l,f,y=this.qd,z=this.Ri-110,m=this.Ti-
101,c=this.Si+131,u=this.Qi+120,b,q,t=0,g=0;for(e=0;e<y;e++)l=2*e,f=(e+1)%y*2,b=h[l],l=h[l+1],q=h[f],f=h[f+1],qa(z,m,a,d,b,l,q,f)&&t++,qa(c,u,a,d,b,l,q,f)&&g++;return 1===t%2||1===g%2};c.prototype.vh=function(a,d,h){var e=a.jb,l=this.jb;if(this.Tb(e[0]+d,e[1]+h)||a.Tb(l[0]-d,l[1]-h))return!0;var f,y,z,m,c,u,b,q,t,g,x,E;f=0;for(m=this.qd;f<m;f++)for(y=2*f,z=(f+1)%m*2,q=l[y],y=l[y+1],t=l[z],g=l[z+1],z=0,b=a.qd;z<b;z++)if(c=2*z,u=(z+1)%b*2,x=e[c]+d,c=e[c+1]+h,E=e[u]+d,u=e[u+1]+h,qa(q,y,t,g,x,c,E,u))return!0;
return!1};fb=c;a.prototype.Fe=function(a,d,h){var e;e=this.cells[a];return e?(e=e[d])?e:h?(e=u(this,a,d),this.cells[a][d]=e):null:h?(e=u(this,a,d),this.cells[a]={},this.cells[a][d]=e):null};a.prototype.Yb=function(a){return A(a/this.xl)};a.prototype.Zb=function(a){return A(a/this.wl)};a.prototype.update=function(a,d,h){var e,l,f,y,z;if(d)for(e=d.left,l=d.right;e<=l;++e)for(f=d.top,y=d.bottom;f<=y;++f)if(!h||!h.Tb(e,f))if(z=this.Fe(e,f,!1))z.remove(a),z.ae()&&(z.qb.clear(),1E3>O.length&&O.push(z),
this.cells[e][f]=null);if(h)for(e=h.left,l=h.right;e<=l;++e)for(f=h.top,y=h.bottom;f<=y;++f)d&&d.Tb(e,f)||this.Fe(e,f,!0).tm(a)};a.prototype.tk=function(a,d){var h,e,l,f,y,z;h=this.Yb(a.left);l=this.Zb(a.top);e=this.Yb(a.right);for(y=this.Zb(a.bottom);h<=e;++h)for(f=l;f<=y;++f)(z=this.Fe(h,f,!1))&&z.dump(d)};gb=a;f.prototype.Fe=function(a,d,h){var l;l=this.cells[a];return l?(l=l[d])?l:h?(l=e(this,a,d),this.cells[a][d]=l):null:h?(l=e(this,a,d),this.cells[a]={},this.cells[a][d]=l):null};f.prototype.Yb=
function(a){return A(a/this.xl)};f.prototype.Zb=function(a){return A(a/this.wl)};f.prototype.update=function(a,d,h){var e,l,f,y,z;if(d)for(e=d.left,l=d.right;e<=l;++e)for(f=d.top,y=d.bottom;f<=y;++f)if(!h||!h.Tb(e,f))if(z=this.Fe(e,f,!1))z.remove(a),z.ae()&&(z.reset(),1E3>B.length&&B.push(z),this.cells[e][f]=null);if(h)for(e=h.left,l=h.right;e<=l;++e)for(f=h.top,y=h.bottom;f<=y;++f)d&&d.Tb(e,f)||this.Fe(e,f,!0).tm(a)};f.prototype.tk=function(a,d,h,e,l){var f,y;a=this.Yb(a);d=this.Zb(d);h=this.Yb(h);
for(f=this.Zb(e);a<=h;++a)for(e=d;e<=f;++e)(y=this.Fe(a,e,!1))&&y.dump(l)};f.prototype.yv=function(a){var d,h,e,l,f;d=a.left;e=a.top;h=a.right;for(l=a.bottom;d<=h;++d)for(a=e;a<=l;++a)if(f=this.Fe(d,a,!1))f.kg=!1};hb=f;var O=[];d.prototype.ae=function(){return this.qb.ae()};d.prototype.tm=function(a){this.qb.add(a)};d.prototype.remove=function(a){this.qb.remove(a)};d.prototype.dump=function(a){Aa(a,this.qb.Xe())};aa=d;var B=[];t.prototype.ae=function(){if(!this.qb.length)return!0;if(this.qb.length>
this.Id.count())return!1;this.Pl();return!0};t.prototype.tm=function(a){this.Id.contains(a)?(this.Id.remove(a),this.Id.ae()&&(this.Vg=!1)):this.qb.length?(this.qb[this.qb.length-1].Ed()>a.Ed()&&(this.kg=!1),this.qb.push(a)):(this.qb.push(a),this.kg=!0)};t.prototype.remove=function(a){this.Id.add(a);this.Vg=!0;30<=this.Id.count()&&this.Pl()};t.prototype.Pl=function(){this.Vg&&(this.Id.count()===this.qb.length?this.reset():(ab(this.qb,this.Id),this.Id.clear(),this.Vg=!1))};t.prototype.Pt=function(){this.kg||
(this.qb.sort(m),this.kg=!0)};t.prototype.reset=function(){T(this.qb);this.kg=!0;this.Id.clear();this.Vg=!1};t.prototype.dump=function(a){this.Pl();this.Pt();this.qb.length&&a.push(this.qb)};ca=t;var v="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ib=function(a){return 0>=a||11<=a?"source-over":v[a-1]};jb=function(a,d,h){if(h)switch(a.Ob=h.ONE,a.Kb=h.ONE_MINUS_SRC_ALPHA,d){case 1:a.Ob=h.ONE;a.Kb=h.ONE;break;case 3:a.Ob=
h.ONE;a.Kb=h.ZERO;break;case 4:a.Ob=h.ONE_MINUS_DST_ALPHA;a.Kb=h.ONE;break;case 5:a.Ob=h.DST_ALPHA;a.Kb=h.ZERO;break;case 6:a.Ob=h.ZERO;a.Kb=h.SRC_ALPHA;break;case 7:a.Ob=h.ONE_MINUS_DST_ALPHA;a.Kb=h.ZERO;break;case 8:a.Ob=h.ZERO;a.Kb=h.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ob=h.DST_ALPHA;a.Kb=h.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ob=h.ONE_MINUS_DST_ALPHA,a.Kb=h.SRC_ALPHA}};kb=function(a){return Math.round(1E6*a)/1E6};mb=function(a,d){return"string"!==typeof a||"string"!==typeof d||a.length!==d.length?
!1:a===d?!0:a.toLowerCase()===d.toLowerCase()};nb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||mb(a.tagName,"canvas")?!0:!1}})();var gc="undefined"!==typeof Float32Array?Float32Array:Array;function hc(b){var n=new gc(3);b&&(n[0]=b[0],n[1]=b[1],n[2]=b[2]);return n}
function ic(b){var n=new gc(16);b&&(n[0]=b[0],n[1]=b[1],n[2]=b[2],n[3]=b[3],n[4]=b[4],n[5]=b[5],n[6]=b[6],n[7]=b[7],n[8]=b[8],n[9]=b[9],n[10]=b[10],n[11]=b[11],n[12]=b[12],n[13]=b[13],n[14]=b[14],n[15]=b[15]);return n}function jc(b,n){n[0]=b[0];n[1]=b[1];n[2]=b[2];n[3]=b[3];n[4]=b[4];n[5]=b[5];n[6]=b[6];n[7]=b[7];n[8]=b[8];n[9]=b[9];n[10]=b[10];n[11]=b[11];n[12]=b[12];n[13]=b[13];n[14]=b[14];n[15]=b[15]}
function kc(b,n){var g=n[0],k=n[1];n=n[2];b[0]*=g;b[1]*=g;b[2]*=g;b[3]*=g;b[4]*=k;b[5]*=k;b[6]*=k;b[7]*=k;b[8]*=n;b[9]*=n;b[10]*=n;b[11]*=n}
function lc(b,n,g,k){k||(k=ic());var p,r,c,a,f,u,d,e,t=b[0],m=b[1];b=b[2];r=g[0];c=g[1];p=g[2];g=n[1];u=n[2];t===n[0]&&m===g&&b===u?(b=k,b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1):(g=t-n[0],u=m-n[1],d=b-n[2],e=1/Math.sqrt(g*g+u*u+d*d),g*=e,u*=e,d*=e,n=c*d-p*u,p=p*g-r*d,r=r*u-c*g,(e=Math.sqrt(n*n+p*p+r*r))?(e=1/e,n*=e,p*=e,r*=e):r=p=n=0,c=u*r-d*p,a=d*n-g*r,f=g*p-u*n,(e=Math.sqrt(c*c+a*a+f*f))?(e=1/e,c*=e,a*=e,f*=e):f=a=c=0,
k[0]=n,k[1]=c,k[2]=g,k[3]=0,k[4]=p,k[5]=a,k[6]=u,k[7]=0,k[8]=r,k[9]=f,k[10]=d,k[11]=0,k[12]=-(n*t+p*m+r*b),k[13]=-(c*t+a*m+f*b),k[14]=-(g*t+u*m+d*b),k[15]=1)}
(function(){function b(a,f,c){this.be=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Ca=!!c;this.Hj=this.yh=!1;this.El=0;this.el=1;this.ho=1E3;this.Rw=(this.ho-this.el)/32768;this.tl=hc([0,0,100]);this.Np=hc([0,0,0]);this.Fr=hc([0,1,0]);this.Ji=hc([1,1,1]);this.Vo=!0;this.Xj=ic();this.Jc=ic();this.Fm=ic();this.Dl=ic();this.B=a;this.sp()}function n(a,f,c){this.B=a;this.qi=f;this.name=c;this.Wc=a.getAttribLocation(f,"aPos");this.Ne=a.getAttribLocation(f,
"aTex");this.Lp=a.getUniformLocation(f,"matP");this.Tj=a.getUniformLocation(f,"matMV");this.ug=a.getUniformLocation(f,"opacity");this.Om=a.getUniformLocation(f,"colorFill");this.Mp=a.getUniformLocation(f,"samplerFront");this.Th=a.getUniformLocation(f,"samplerBack");this.Bf=a.getUniformLocation(f,"destStart");this.Af=a.getUniformLocation(f,"destEnd");this.Vh=a.getUniformLocation(f,"seconds");this.Qm=a.getUniformLocation(f,"pixelWidth");this.Pm=a.getUniformLocation(f,"pixelHeight");this.Sh=a.getUniformLocation(f,
"layerScale");this.Rh=a.getUniformLocation(f,"layerAngle");this.Wh=a.getUniformLocation(f,"viewOrigin");this.Uh=a.getUniformLocation(f,"scrollPos");this.bv=!!(this.Qm||this.Pm||this.Vh||this.Th||this.Bf||this.Af||this.Sh||this.Rh||this.Wh||this.Uh);this.Vp=this.Wp=-999;this.Wj=1;this.Rp=this.Qp=0;this.Tp=this.Pp=this.Op=1;this.Zp=this.Yp=this.Xp=this.aq=this.$p=this.Sp=0;this.Em=[];this.Up=ic();this.ug&&a.uniform1f(this.ug,1);this.Om&&a.uniform4f(this.Om,1,1,1,1);this.Mp&&a.uniform1i(this.Mp,0);this.Th&&
a.uniform1i(this.Th,1);this.Bf&&a.uniform2f(this.Bf,0,0);this.Af&&a.uniform2f(this.Af,1,1);this.Sh&&a.uniform1f(this.Sh,1);this.Rh&&a.uniform1f(this.Rh,0);this.Wh&&a.uniform2f(this.Wh,0,0);this.Uh&&a.uniform2f(this.Uh,0,0);this.Vh&&a.uniform1f(this.Vh,0);this.pf=!1}function g(a,f){return a[0]===f[0]&&a[1]===f[1]&&a[2]===f[2]&&a[3]===f[3]&&a[4]===f[4]&&a[5]===f[5]&&a[6]===f[6]&&a[7]===f[7]&&a[8]===f[8]&&a[9]===f[9]&&a[10]===f[10]&&a[11]===f[11]&&a[12]===f[12]&&a[13]===f[13]&&a[14]===f[14]&&a[15]===
f[15]}function k(a,f){this.type=a;this.u=f;this.B=f.B;this.Tc=this.Pb=this.wq=0;this.U=this.ad=null;this.cr=[]}var p=ic();b.prototype.sp=function(){var a=this.B,f;this.Gp=1;this.vf=this.Je=null;this.dj=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Ca?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Hp=a.ONE;this.Fp=a.ONE_MINUS_SRC_ALPHA;
this.al=new Float32Array(8E3*(this.Ca?3:2));this.Mk=new Float32Array(16E3);this.rn=new Float32Array(32E3);this.qn=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.qn);a.bufferData(a.ARRAY_BUFFER,this.rn.byteLength,a.DYNAMIC_DRAW);this.Ii=Array(4);this.xi=Array(4);for(f=0;4>f;f++)this.Ii[f]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Ii[f]),a.bufferData(a.ARRAY_BUFFER,this.al.byteLength,a.DYNAMIC_DRAW),this.xi[f]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.xi[f]),a.bufferData(a.ARRAY_BUFFER,
this.Mk.byteLength,a.DYNAMIC_DRAW);this.Sd=0;this.hv=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.hv);for(var c=new Uint16Array(12E3),d=f=0;12E3>f;)c[f++]=d,c[f++]=d+1,c[f++]=d+2,c[f++]=d,c[f++]=d+2,c[f++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Dg=this.Ng=this.pe=0;this.Ra=[];f=this.Ca?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.ah({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},f,"<default>");this.Ra.push(c);c=this.ah({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ra.push(c);c=this.ah({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},f,"<earlyz>");this.Ra.push(c);c=this.ah({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
f,"<fill>");this.Ra.push(c);for(var e in mc)mc.hasOwnProperty(e)&&this.Ra.push(this.ah(mc[e],f,e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Qd=[];this.zd=0;this.Mb=this.xb=!1;this.Qo=this.Jh=-1;this.Wf=null;this.Nl=a.createFramebuffer();this.hj=this.vk=null;this.Go=!1;this.Ca&&(this.hj=a.createRenderbuffer());this.We=hc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.Bv=a[0];this.Tm=a[1];2048<this.Tm&&(this.Tm=2048);this.lc(0)};n.prototype.Yn=function(a){g(this.Up,
a)||(jc(a,this.Up),this.B.uniformMatrix4fv(this.Tj,!1,a))};b.prototype.ah=function(a,f,c){var d=this.B,e=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(e,a.src);d.compileShader(e);if(!d.getShaderParameter(e,d.COMPILE_STATUS))return d.deleteShader(e),null;var b=d.createShader(d.VERTEX_SHADER);d.shaderSource(b,f);d.compileShader(b);if(!d.getShaderParameter(b,d.COMPILE_STATUS))return d.deleteShader(e),d.deleteShader(b),null;f=d.createProgram();d.attachShader(f,e);d.attachShader(f,b);d.linkProgram(f);
if(!d.getProgramParameter(f,d.LINK_STATUS))return d.deleteShader(e),d.deleteShader(b),d.deleteProgram(f),null;d.useProgram(f);d.deleteShader(e);d.deleteShader(b);c=new n(d,f,c);c.Ll=a.Ll||0;c.Ml=a.Ml||0;c.Po=!!a.Po;c.nd=!!a.nd;c.Eo=!!a.Eo;c.W=a.W||[];a=0;for(e=c.W.length;a<e;a++)c.W[a][1]=d.getUniformLocation(f,c.W[a][0]),c.Em.push(0),d.uniform1f(c.W[a][1],0);return c};b.prototype.$l=function(a){var f,c;f=0;for(c=this.Ra.length;f<c;f++)if(this.Ra[f].name===a)return f;return-1};b.prototype.Jq=function(a,
f,c){var d=this.Jc,e=this.Xj,b=[0,0,0,0,0,0,0,0];b[0]=d[0]*a+d[4]*f+d[12];b[1]=d[1]*a+d[5]*f+d[13];b[2]=d[2]*a+d[6]*f+d[14];b[3]=d[3]*a+d[7]*f+d[15];b[4]=e[0]*b[0]+e[4]*b[1]+e[8]*b[2]+e[12]*b[3];b[5]=e[1]*b[0]+e[5]*b[1]+e[9]*b[2]+e[13]*b[3];b[6]=e[2]*b[0]+e[6]*b[1]+e[10]*b[2]+e[14]*b[3];b[7]=-b[2];0!==b[7]&&(b[7]=1/b[7],b[4]*=b[7],b[5]*=b[7],b[6]*=b[7],c[0]=(.5*b[4]+.5)*this.width,c[1]=(.5*b[5]+.5)*this.height)};b.prototype.If=function(a,f,c){if(this.width!==a||this.height!==f||c){this.Wd();c=this.B;
this.width=a;this.height=f;c.viewport(0,0,a,f);lc(this.tl,this.Np,this.Fr,this.Jc);if(this.Ca){var d=-a/2;a=a/2;var e=f/2;f=-f/2;var b=this.el,m=this.ho,g=this.Xj;g||(g=ic());var q=a-d,n=f-e,h=m-b;g[0]=2/q;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/n;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/h;g[11]=0;g[12]=-(d+a)/q;g[13]=-(f+e)/n;g[14]=-(m+b)/h;g[15]=1;this.Ji[0]=1;this.Ji[1]=1}else f=a/f,d=this.el,a=this.ho,g=this.Xj,m=d*Math.tan(45*Math.PI/360),f*=m,e=-f,b=-m,g||(g=ic()),q=f-e,n=m-b,h=a-d,g[0]=2*d/q,g[1]=0,
g[2]=0,g[3]=0,g[4]=0,g[5]=2*d/n,g[6]=0,g[7]=0,g[8]=(f+e)/q,g[9]=(m+b)/n,g[10]=-(a+d)/h,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(a*d*2)/h,g[15]=0,d=[0,0],a=[0,0],this.Jq(0,0,d),this.Jq(1,1,a),this.Ji[0]=1/(a[0]-d[0]),this.Ji[1]=-1/(a[1]-d[1]);d=0;for(a=this.Ra.length;d<a;d++)e=this.Ra[d],e.pf=!1,e.Lp&&(c.useProgram(e.qi),c.uniformMatrix4fv(e.Lp,!1,this.Xj));c.useProgram(this.Ra[this.Jh].qi);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);
this.vf=this.Je=null;this.hj&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Nl),c.bindRenderbuffer(c.RENDERBUFFER,this.hj),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.Go||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.hj),this.Go=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.vk=null)}};b.prototype.Yc=function(){lc(this.tl,this.Np,this.Fr,this.Jc);kc(this.Jc,this.Ji)};b.prototype.translate=function(a,
f){if(0!==a||0!==f){this.We[0]=a;this.We[1]=f;this.We[2]=0;var c=this.Jc,d=this.We,e=d[0],b=d[1],d=d[2];c[12]=c[0]*e+c[4]*b+c[8]*d+c[12];c[13]=c[1]*e+c[5]*b+c[9]*d+c[13];c[14]=c[2]*e+c[6]*b+c[10]*d+c[14];c[15]=c[3]*e+c[7]*b+c[11]*d+c[15]}};b.prototype.scale=function(a,f){if(1!==a||1!==f)this.We[0]=a,this.We[1]=f,this.We[2]=1,kc(this.Jc,this.We)};b.prototype.xk=function(a){if(0!==a){var f=this.Jc,c,d=Math.sin(a);a=Math.cos(a);var e=f[0],b=f[1],m=f[2],g=f[3],q=f[4],n=f[5],h=f[6],l=f[7];c?f!==c&&(c[8]=
f[8],c[9]=f[9],c[10]=f[10],c[11]=f[11],c[12]=f[12],c[13]=f[13],c[14]=f[14],c[15]=f[15]):c=f;c[0]=e*a+q*d;c[1]=b*a+n*d;c[2]=m*a+h*d;c[3]=g*a+l*d;c[4]=e*-d+q*a;c[5]=b*-d+n*a;c[6]=m*-d+h*a;c[7]=g*-d+l*a}};b.prototype.Mc=function(){if(!g(this.Fm,this.Jc)){var a=this.gc();a.type=5;a.U?jc(this.Jc,a.U):a.U=ic(this.Jc);jc(this.Jc,this.Fm);this.Mb=this.xb=!1}};b.prototype.Bk=function(a){this.Ca&&(32760<a&&(a=32760),this.El=this.tl[2]-this.el-a*this.Rw)};k.prototype.zt=function(){var a=this.B,f=this.u;0!==
this.Pb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,f.Nl),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),f.Hj=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),f.Hj=!1)};k.prototype.Dt=function(){this.B.bindTexture(this.B.TEXTURE_2D,this.ad)};k.prototype.Et=function(){var a=this.B;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.ad);
a.activeTexture(a.TEXTURE0)};k.prototype.At=function(){var a=this.wq,f=this.u;f.dj=a;f=f.Wf;f.ug&&f.Wj!==a&&(f.Wj=a,this.B.uniform1f(f.ug,a))};k.prototype.tt=function(){this.B.drawElements(this.B.TRIANGLES,this.Tc,this.B.UNSIGNED_SHORT,this.Pb)};k.prototype.wt=function(){this.B.blendFunc(this.Pb,this.Tc)};k.prototype.Ft=function(){var a,f,c,d=this.u.Ra,e=this.u.Qo;a=0;for(f=d.length;a<f;a++)c=d[a],a===e&&c.Tj?(c.Yn(this.U),c.pf=!0):c.pf=!1;jc(this.U,this.u.Dl)};k.prototype.ut=function(){var a=this.B,
f=this.u;this.ad?(f.vf===this.ad&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),f.vf=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,f.Nl),f.Hj||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.ad,0)):(f.Ca||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};k.prototype.ot=function(){var a=this.B,f=this.Pb;0===f?(a.clearColor(this.U[0],this.U[1],this.U[2],this.U[3]),a.clear(a.COLOR_BUFFER_BIT)):
1===f?(a.enable(a.SCISSOR_TEST),a.scissor(this.U[0],this.U[1],this.U[2],this.U[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};k.prototype.yt=function(){var a=this.B;0!==this.Pb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};k.prototype.qt=function(){var a=this.B,f=this.u;f.Ca&&a.disable(a.DEPTH_TEST);var c=f.Ra[1];a.useProgram(c.qi);!c.pf&&c.Tj&&(c.Yn(f.Dl),c.pf=!0);a.enableVertexAttribArray(c.Wc);a.bindBuffer(a.ARRAY_BUFFER,f.qn);a.vertexAttribPointer(c.Wc,
4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Pb/4,this.Tc);c=f.Wf;a.useProgram(c.qi);0<=c.Wc&&(a.enableVertexAttribArray(c.Wc),a.bindBuffer(a.ARRAY_BUFFER,f.Ii[f.Sd]),a.vertexAttribPointer(c.Wc,f.Ca?3:2,a.FLOAT,!1,0,0));0<=c.Ne&&(a.enableVertexAttribArray(c.Ne),a.bindBuffer(a.ARRAY_BUFFER,f.xi[f.Sd]),a.vertexAttribPointer(c.Ne,2,a.FLOAT,!1,0,0));f.Ca&&a.enable(a.DEPTH_TEST)};k.prototype.Bt=function(){var a=this.B,f=this.u,c=f.Ra[this.Pb];f.Qo=this.Pb;f.Wf=c;a.useProgram(c.qi);!c.pf&&c.Tj&&(c.Yn(f.Dl),
c.pf=!0);c.ug&&c.Wj!==f.dj&&(c.Wj=f.dj,a.uniform1f(c.ug,f.dj));0<=c.Wc&&(a.enableVertexAttribArray(c.Wc),a.bindBuffer(a.ARRAY_BUFFER,f.Ii[f.Sd]),a.vertexAttribPointer(c.Wc,f.Ca?3:2,a.FLOAT,!1,0,0));0<=c.Ne&&(a.enableVertexAttribArray(c.Ne),a.bindBuffer(a.ARRAY_BUFFER,f.xi[f.Sd]),a.vertexAttribPointer(c.Ne,2,a.FLOAT,!1,0,0))};k.prototype.xt=function(){var a=this.U;this.B.uniform4f(this.u.Wf.Om,a[0],a[1],a[2],a[3])};k.prototype.Ct=function(){var a,f,c=this.u.Wf,d=this.B;a=this.U;c.Th&&this.u.vf!==this.ad&&
(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.ad),this.u.vf=this.ad,d.activeTexture(d.TEXTURE0));var e=a[0];c.Qm&&e!==c.Wp&&(c.Wp=e,d.uniform1f(c.Qm,e));e=a[1];c.Pm&&e!==c.Vp&&(c.Vp=e,d.uniform1f(c.Pm,e));e=a[2];f=a[3];!c.Bf||e===c.Qp&&f===c.Rp||(c.Qp=e,c.Rp=f,d.uniform2f(c.Bf,e,f));e=a[4];f=a[5];!c.Af||e===c.Op&&f===c.Pp||(c.Op=e,c.Pp=f,d.uniform2f(c.Af,e,f));e=a[6];c.Sh&&e!==c.Tp&&(c.Tp=e,d.uniform1f(c.Sh,e));e=a[7];c.Rh&&e!==c.Sp&&(c.Sp=e,d.uniform1f(c.Rh,e));e=a[8];f=a[9];!c.Wh||
e===c.$p&&f===c.aq||(c.$p=e,c.aq=f,d.uniform2f(c.Wh,e,f));e=a[10];f=a[11];!c.Uh||e===c.Xp&&f===c.Yp||(c.Xp=e,c.Yp=f,d.uniform2f(c.Uh,e,f));e=a[12];c.Vh&&e!==c.Zp&&(c.Zp=e,d.uniform1f(c.Vh,e));if(c.W.length)for(a=0,f=c.W.length;a<f;a++)e=this.cr[a],e!==c.Em[a]&&(c.Em[a]=e,d.uniform1f(c.W[a][1],e))};b.prototype.gc=function(){this.zd===this.Qd.length&&this.Qd.push(new k(0,this));return this.Qd[this.zd++]};b.prototype.Wd=function(){if(0!==this.zd&&!this.B.isContextLost()){var a=this.B;0<this.Dg&&(a.bindBuffer(a.ARRAY_BUFFER,
this.qn),a.bufferSubData(a.ARRAY_BUFFER,0,this.rn.subarray(0,this.Dg)),c&&0<=c.Wc&&"<point>"===c.name&&a.vertexAttribPointer(c.Wc,4,a.FLOAT,!1,0,0));if(0<this.pe){var c=this.Wf;a.bindBuffer(a.ARRAY_BUFFER,this.Ii[this.Sd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.al.subarray(0,this.pe));c&&0<=c.Wc&&"<point>"!==c.name&&a.vertexAttribPointer(c.Wc,this.Ca?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.xi[this.Sd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Mk.subarray(0,this.Ng));c&&0<=c.Ne&&"<point>"!==
c.name&&a.vertexAttribPointer(c.Ne,2,a.FLOAT,!1,0,0)}for(var b,a=0,c=this.zd;a<c;a++)switch(b=this.Qd[a],b.type){case 1:b.tt();break;case 2:b.Dt();break;case 3:b.At();break;case 4:b.wt();break;case 5:b.Ft();break;case 6:b.ut();break;case 7:b.ot();break;case 8:b.qt();break;case 9:b.Bt();break;case 10:b.Ct();break;case 11:b.Et();break;case 12:b.xt();break;case 13:b.yt();break;case 14:b.zt()}this.Dg=this.Ng=this.pe=this.zd=0;this.Hj=this.Mb=this.xb=!1;this.Sd++;4<=this.Sd&&(this.Sd=0)}};b.prototype.Ue=
function(a){if(a!==this.Gp&&!this.yh){var c=this.gc();c.type=3;this.Gp=c.wq=a;this.Mb=this.xb=!1}};b.prototype.jc=function(a){if(a!==this.Je){var c=this.gc();c.type=2;this.Je=c.ad=a;this.Mb=this.xb=!1}};b.prototype.Te=function(a,c){if((a!==this.Hp||c!==this.Fp)&&!this.yh){var b=this.gc();b.type=4;b.Pb=a;b.Tc=c;this.Hp=a;this.Fp=c;this.Mb=this.xb=!1}};b.prototype.Tq=function(){this.Te(this.B.ONE,this.B.ONE_MINUS_SRC_ALPHA)};b.prototype.Eg=function(a,c,b,d,e,g,m,n){15992<=this.pe&&this.Wd();var q=this.pe,
p=this.Ng,h=this.al,l=this.Mk,x=this.El;if(this.xb)this.Qd[this.zd-1].Tc+=6;else{var r=this.gc();r.type=1;r.Pb=this.Ca?q:q/2*3;r.Tc=6;this.xb=!0;this.Mb=!1}this.Ca?(h[q++]=a,h[q++]=c,h[q++]=x,h[q++]=b,h[q++]=d,h[q++]=x,h[q++]=e,h[q++]=g,h[q++]=x,h[q++]=m,h[q++]=n,h[q++]=x):(h[q++]=a,h[q++]=c,h[q++]=b,h[q++]=d,h[q++]=e,h[q++]=g,h[q++]=m,h[q++]=n);l[p++]=0;l[p++]=0;l[p++]=1;l[p++]=0;l[p++]=1;l[p++]=1;l[p++]=0;l[p++]=1;this.pe=q;this.Ng=p};b.prototype.Jd=function(a,c,b,d,e,g,m,n,q){15992<=this.pe&&this.Wd();
var p=this.pe,h=this.Ng,l=this.al,x=this.Mk,r=this.El;if(this.xb)this.Qd[this.zd-1].Tc+=6;else{var k=this.gc();k.type=1;k.Pb=this.Ca?p:p/2*3;k.Tc=6;this.xb=!0;this.Mb=!1}var k=q.left,K=q.top,O=q.right;q=q.bottom;this.Ca?(l[p++]=a,l[p++]=c,l[p++]=r,l[p++]=b,l[p++]=d,l[p++]=r,l[p++]=e,l[p++]=g,l[p++]=r,l[p++]=m,l[p++]=n,l[p++]=r):(l[p++]=a,l[p++]=c,l[p++]=b,l[p++]=d,l[p++]=e,l[p++]=g,l[p++]=m,l[p++]=n);x[h++]=k;x[h++]=K;x[h++]=O;x[h++]=K;x[h++]=O;x[h++]=q;x[h++]=k;x[h++]=q;this.pe=p;this.Ng=h};b.prototype.Pv=
function(a,c,b,d){7996<=this.Dg&&this.Wd();var e=this.Dg,g=this.rn;if(this.Mb)this.Qd[this.zd-1].Tc++;else{var m=this.gc();m.type=8;m.Pb=e;m.Tc=1;this.Mb=!0;this.xb=!1}g[e++]=a;g[e++]=c;g[e++]=b;g[e++]=d;this.Dg=e};b.prototype.lc=function(a){if(this.Jh!==a){if(!this.Ra[a]){if(0===this.Jh)return;a=0}var c=this.gc();c.type=9;this.Jh=c.Pb=a;this.Mb=this.xb=!1}};b.prototype.gi=function(a){a=this.Ra[a];return!(!a.Bf&&!a.Af)};b.prototype.un=function(a){a=this.Ra[a];return!!(a.Bf||a.Af||a.Po)};b.prototype.tn=
function(a){return this.Ra[a].nd};b.prototype.Xv=function(a){a=this.Ra[a];return 0!==a.Ll||0!==a.Ml};b.prototype.Iu=function(a){return this.Ra[a].Ll};b.prototype.Ju=function(a){return this.Ra[a].Ml};b.prototype.Ku=function(a,c){return this.Ra[a].W[c][2]};b.prototype.qk=function(a){return this.Ra[a].Eo};b.prototype.Hg=function(a,c,b,d,e,g,m,p,q,n,h,l,x,r,k){var K=this.Ra[this.Jh],O,B;if(K.bv||k.length){O=this.gc();O.type=10;O.U?jc(this.Jc,O.U):O.U=ic();B=O.U;B[0]=c;B[1]=b;B[2]=d;B[3]=e;B[4]=g;B[5]=
m;B[6]=p;B[7]=q;B[8]=n;B[9]=h;B[10]=l;B[11]=x;B[12]=r;K.Th?O.ad=a:O.ad=null;if(k.length)for(b=O.cr,b.length=k.length,a=0,c=k.length;a<c;a++)b[a]=k[a];this.Mb=this.xb=!1}};b.prototype.clear=function(a,c,b,d){var e=this.gc();e.type=7;e.Pb=0;e.U||(e.U=ic());e.U[0]=a;e.U[1]=c;e.U[2]=b;e.U[3]=d;this.Mb=this.xb=!1};b.prototype.clearRect=function(a,c,b,d){if(!(0>b||0>d)){var e=this.gc();e.type=7;e.Pb=1;e.U||(e.U=ic());e.U[0]=a;e.U[1]=c;e.U[2]=b;e.U[3]=d;this.Mb=this.xb=!1}};b.prototype.Wq=function(a){if(this.Ca&&
(a=!!a,this.yh!==a)){var c=this.gc();c.type=14;c.Pb=a?1:0;this.Mb=this.xb=!1;this.yh=a;this.vk=null;this.yh?this.lc(2):this.lc(0)}};b.prototype.Vq=function(a){if(this.Ca){var c=this.gc();c.type=13;c.Pb=a?1:0;this.Mb=this.xb=!1}};b.prototype.ep=function(){jc(this.Fm,p);this.Yc();this.Mc();var a=this.width/2,c=this.height/2;this.Eg(-a,c,a,c,a,-c,-a,-c);jc(p,this.Jc);this.Mc()};b.prototype.Uq=function(a,c,b){this.lc(3);var d=this.gc();d.type=12;d.U||(d.U=ic());d.U[0]=a;d.U[1]=c;d.U[2]=b;d.U[3]=1;this.Mb=
this.xb=!1};b.prototype.xw=function(){this.lc(0)};b.prototype.fw=function(){this.lc(2)};b.prototype.Wv=function(){this.Wd();this.B.flush()};var r=[],c={};b.prototype.gt=function(){T(r);c={}};b.prototype.tg=function(a,f,b,d){f=!!f;b=!!b;var e=a.src+","+f+","+b+(f?",undefined":""),g=null;if("undefined"!==typeof a.src&&c.hasOwnProperty(e))return g=c[e],g.Vi++,g;this.Wd();var m=this.B,p=ia(a.width)&&ia(a.height),g=m.createTexture();m.bindTexture(m.TEXTURE_2D,g);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);var q=m.RGBA,n=m.RGBA,h=m.UNSIGNED_BYTE;if(d&&!this.be)switch(d){case 1:n=q=m.RGB;break;case 2:h=m.UNSIGNED_SHORT_4_4_4_4;break;case 3:h=m.UNSIGNED_SHORT_5_5_5_1;break;case 4:n=q=m.RGB,h=m.UNSIGNED_SHORT_5_6_5}if(!p&&f){d=document.createElement("canvas");d.width=ja(a.width);d.height=ja(a.height);var l=d.getContext("2d");"undefined"!==typeof l.imageSmoothingEnabled?l.imageSmoothingEnabled=b:(l.webkitImageSmoothingEnabled=b,l.mozImageSmoothingEnabled=b,l.msImageSmoothingEnabled=b);l.drawImage(a,
0,0,a.width,a.height,0,0,d.width,d.height);m.texImage2D(m.TEXTURE_2D,0,q,n,h,d)}else m.texImage2D(m.TEXTURE_2D,0,q,n,h,a);f?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.REPEAT)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE));b?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),p&&this.Vo?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR_MIPMAP_LINEAR),
m.generateMipmap(m.TEXTURE_2D)):m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST));m.bindTexture(m.TEXTURE_2D,null);this.Je=null;g.cf=a.width;g.bf=a.height;g.Vi=1;g.Ko=e;r.push(g);return c[e]=g};b.prototype.Dc=function(a,c,b,d){this.Wd();var e=this.B;this.be&&(d=!1);var g=e.createTexture();e.bindTexture(e.TEXTURE_2D,g);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,c,0,e.RGBA,
d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,b?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,b?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.Je=null;g.cf=a;g.bf=c;r.push(g);return g};b.prototype.Pw=function(a,c,b){this.Wd();var d=this.B;this.be&&(b=!1);d.bindTexture(d.TEXTURE_2D,c);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,b?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.Je=null};b.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Vi&&1<a.Vi?a.Vi--:(this.Wd(),a===this.Je&&(this.B.bindTexture(this.B.TEXTURE_2D,null),this.Je=null),a===this.vf&&(this.B.activeTexture(this.B.TEXTURE1),this.B.bindTexture(this.B.TEXTURE_2D,null),this.B.activeTexture(this.B.TEXTURE0),
this.vf=null),Ca(r,a),"undefined"!==typeof a.Ko&&delete c[a.Ko],this.B.deleteTexture(a)))};b.prototype.Zc=function(a){if(a!==this.vk){var c=this.gc();c.type=6;this.vk=c.ad=a;this.Mb=this.xb=!1}};ob=b})();
(function(){function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var d=this;this.qc=(this.xh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Vb=!!a.dc;this.xp="undefined"!==typeof window.AppMobi||
this.Vb;this.Uc=!!window.c2cocoonjs;this.jd=!!window.c2ejecta;this.Uc&&(CocoonJS.App.onSuspended.addEventListener(function(){d.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){d.setSuspended(!1)}));this.jd&&(document.addEventListener("pagehide",function(){d.setSuspended(!0)}),document.addEventListener("pageshow",function(){d.setSuspended(!1)}),document.addEventListener("resize",function(){d.setSize(window.innerWidth,window.innerHeight)}));this.Ka=this.Vb||this.Uc||this.jd;this.Ah=
/edge\//i.test(navigator.userAgent);this.be=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Ah;this.zp=/tizen/i.test(navigator.userAgent);this.Fj=/android/i.test(navigator.userAgent)&&!this.zp&&!this.be&&!this.Ah;this.Ep=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.be&&!this.Ah;this.uv=/ipad/i.test(navigator.userAgent);this.mg=this.Ep||this.uv||this.jd;this.wh=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.be&&!this.Ah;this.wm=/amazonwebappplatform/i.test(navigator.userAgent);this.nv=/firefox/i.test(navigator.userAgent);this.qv=/safari/i.test(navigator.userAgent)&&!this.wh&&!this.be&&!this.Ah;this.rv=/windows/i.test(navigator.userAgent);this.He="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Cp=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.tv=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.gg=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Cm=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Bp=!!window.cr_windows10;this.Ap=this.Cp||this.tv||this.Cm||this.Bp;this.mv=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Gj=this.Fj&&!this.wh&&!this.xh&&!this.nv&&!this.wm&&!this.Ka;this.devicePixelRatio=
1;this.de=this.qc||this.xh||this.xp||this.Uc||this.Fj||this.mg||this.gg||this.Cm||this.mv||this.zp||this.jd;this.de||(this.de=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Eh=!!(this.mg&&this.qc&&window.webkit);this.im=null;this.dv="";this.Eh&&(this.im=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.He||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.He=!0);this.canvas=a;this.Mo=document.getElementById("c2canvasdiv");this.u=this.B=null;this.am="(unavailable)";this.Ca=!1;this.jf=0;this.Ia=null;this.Rl="";this.pj=!1;this.qq=this.rq=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Vb&&(window.c2runtime=this);this.He&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=
function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Gj&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.K=this.width;this.J=this.height;this.bj=this.width;this.dh=this.height;this.qg=window.innerWidth;this.pg=window.innerHeight;this.vu=!1;this.qa=!0;this.Dh=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.A=[];this.Oa=
[];this.Mm={};this.ld=[];this.Kl={};this.Xd=[];this.Tg=[];this.Vk=[];this.Ss=[];this.Ts=[];this.kr=null;this.ef={};this.ym=this.Ge=!1;this.kd=0;this.xm=this.Am=!1;this.gd=[];this.zh=!1;this.ee=this.Nb=this.Pj=this.En="";this.ti=this.hr=!1;this.oj=[];this.hf=this.gf=0;this.fq=30;this.Bl=this.Xh=0;this.Og=1;this.yb=new db;this.qe=new db;this.Zj=this.tj=this.mf=this.bd=this.xf=this.Ql=this.Kj=0;this.Yg=null;this.ij=[];this.Jl=[];this.kj=-1;this.Rm=[[]];this.Un=this.Uj=0;this.sk(null);this.ih=this.lq=
this.ai=0;this.vi=[];this.Rn=this.wn=-1;this.Hh=!0;this.Sj=0;this.Bh=!1;this.Cw=0;this.Sf=null;this.Ta=this.Cj=!1;this.pq=new ba;this.$m=new ba;this.an=new ba;this.ki=[];this.sd=new fb([]);this.Qn=new fb([]);this.Rf=[];this.zj={};this.ze={};this.ve={};this.Sg={};this.Ho={};this.Kp=this.Oj=this.Wa=this.eb=this.Jp=this.Nj=this.ua=null;this.Qg=this.Dm=!1;this.Sl=[null,null];this.nf=0;this.Ol="";this.he={};this.ri=this.Le=null;this.ir="";this.Yj=[];this.ew()}}function n(a,d){return 128>=d?a[3]:256>=d?
a[2]:512>=d?a[1]:a[0]}function g(){try{return!!window.indexedDB}catch(a){return!1}}function k(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function p(a,d,h,e){try{var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=k;c.onerror=e;c.onsuccess=function(c){c=c.target.result;c.onerror=e;c.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:d}).onsuccess=h}}catch(l){e(l)}}function r(a,d,h){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=k;e.onerror=
h;e.onsuccess=function(e){e=e.target.result;e.onerror=h;var c=e.transaction(["saves"]).objectStore("saves").get(a);c.onsuccess=function(){c.result?d(c.result.data):d(null)}}}catch(c){h(c)}}function c(){da("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var d,h={};for(d in a)!a.hasOwnProperty(d)||a[d]instanceof ba||a[d]&&"undefined"!==typeof a[d].Xx||
"spriteCreatedDestroyCallback"!==d&&(h[d]=a[d]);return h}var f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.ew=function(){var a=this;if(this.Eh)this.im?this.im.startServer({port:0,localhost_only:!0},function(d){a.dv=d;a.bp(function(d){a.sg(JSON.parse(d))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)}):this.bp(function(d){a.sg(JSON.parse(d))},
function(){alert("Error fetching data.js")});else{var d;this.gg?d=new ActiveXObject("Microsoft.XMLHTTP"):d=new XMLHttpRequest;var h="data.js";if(this.Cp||this.gg||this.Cm||this.Bp)h="data.json";d.open("GET",h,!0);var e=!1;if(!this.Ka&&"response"in d&&"responseType"in d)try{d.responseType="json",e="json"===d.responseType}catch(c){e=!1}if(!e&&"responseType"in d)try{d.responseType="text"}catch(l){}if("overrideMimeType"in d)try{d.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.gg?d.onreadystatechange=
function(){4===d.readyState&&a.sg(JSON.parse(d.responseText))}:(d.onload=function(){if(e)a.sg(d.response);else if(a.jd){var h=d.responseText,h=h.substr(h.indexOf("{"));a.sg(JSON.parse(h))}else a.sg(JSON.parse(d.responseText))},d.onerror=function(a){ea("Error requesting "+h+":");ea(a)});d.send()}};b.prototype.iv=function(){var a=this,d,h,e,c,l,f,b,m,g;this.uf=(!this.Ka||this.jd||this.qc)&&this.Mw&&!this.Gj;0===this.Ub&&this.mg&&(this.uf=!1);this.devicePixelRatio=this.uf?window.devicePixelRatio||window.webkitDevicePixelRatio||
window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Db();h=!(!this.vu&&(!this.ml||this.He||this.Ap||this.gg||this.xh||this.qc||this.wm));0<this.Ub&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Nt&&(this.Uc||this.jd||!this.Ka)&&(d={alpha:h,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.B=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(q){}if(this.B){if(d=this.B.getExtension("WEBGL_debug_renderer_info"))this.am=this.B.getParameter(d.UNMASKED_RENDERER_WEBGL)+
" ["+this.B.getParameter(d.UNMASKED_VENDOR_WEBGL)+"]";this.Ca&&(this.am+=" [front-to-back enabled]");this.Ka||(this.Ab=document.createElement("canvas"),jQuery(this.Ab).appendTo(this.canvas.parentNode),this.Ab.oncontextmenu=function(){return!1},this.Ab.onselectstart=function(){return!1},this.Ab.width=Math.round(this.bj*this.devicePixelRatio),this.Ab.height=Math.round(this.dh*this.devicePixelRatio),jQuery(this.Ab).css({width:this.bj+"px",height:this.dh+"px"}),this.Iq(),this.pn=this.Ab.getContext("2d"));
this.u=new ob(this.B,this.de,this.Ca);this.u.If(this.canvas.width,this.canvas.height);this.u.Vo=0!==this.Gt;this.Ia=null;this.canvas.addEventListener("webglcontextlost",function(d){d.preventDefault();a.Ev();da("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.u.sp();a.u.If(a.u.width,a.u.height,!0);a.eb=null;a.Wa=null;a.Sl[0]=null;a.Sl[1]=null;a.Fv();a.qa=!0;da("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},
!1);d=0;for(h=this.A.length;d<h;d++)for(l=this.A[d],e=0,c=l.S.length;e<c;e++)b=l.S[e],b.Za=this.u.$l(b.id),b.nd=this.u.tn(b.Za),this.Qg=this.Qg||this.u.gi(b.Za);d=0;for(h=this.ld.length;d<h;d++){m=this.ld[d];e=0;for(c=m.S.length;e<c;e++)b=m.S[e],b.Za=this.u.$l(b.id),b.nd=this.u.tn(b.Za);m.vd();e=0;for(c=m.T.length;e<c;e++){g=m.T[e];l=0;for(f=g.S.length;l<f;l++)b=g.S[l],b.Za=this.u.$l(b.id),b.nd=this.u.tn(b.Za),this.Qg=this.Qg||this.u.gi(b.Za);g.vd()}}}else{if(0<this.Ub&&this.Vb){this.canvas=null;
document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ia=AppMobi.canvas.getContext("2d");try{this.Ia.samplingMode=this.Da?"smooth":"sharp",this.Ia.globalScale=1,this.Ia.HTML5CompatibilityMode=!0,this.Ia.imageSmoothingEnabled=this.Da}catch(x){}0!==this.width&&0!==this.height&&(this.Ia.width=this.width,this.Ia.height=this.height)}this.Ia||(this.Uc?(d={antialias:!!this.Da,alpha:h},this.Ia=this.canvas.getContext("2d",d)):(d={alpha:h},this.Ia=this.canvas.getContext("2d",
d)),this.Ak(this.Ia,this.Da));this.pn=this.Ab=null}this.sr=function(d){a.Na(!1,d)};window==window.top||this.Ka||this.Ap||this.gg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Uc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(da("Reloading for continuous preview"),this.Pj="__c2_continuouspreview",
this.ti=!0),this.Nv&&!this.de&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var d=window.parent;d&&d.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Qe()});this.Ka||(d=function(a){if(nb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(d){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",
d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.Ub&&this.uf&&1<this.devicePixelRatio&&this.setSize(this.hb,this.gb,!0);this.Cr();this.Zu();this.go();this.M={}};b.prototype.setSize=function(a,d,h){var e=0,c=0,l=0,f=0,f=0;if(this.qg!==a||this.pg!==d||h){this.qg=a;this.pg=d;var b=this.Ub,m=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||
document.fullScreen||this.Bh)&&!this.qc;if(m||0!==this.Ub||h)m&&0<this.nf&&(b=this.nf),h=this.devicePixelRatio,4<=b?(l=this.hb/this.gb,a/d>l?(l*=d,5===b?(f=l*h/this.hb,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.hb*f/h,f=this.gb*f/h,e=(a-l)/2,c=(d-f)/2,a=l,d=f):(e=(a-l)/2,a=l)):(f=a/l,5===b?(f=f*h/this.gb,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.hb*f/h,f=this.gb*f/h,e=(a-l)/2,c=(d-f)/2,a=l):c=(d-f)/2,d=f),m&&!this.He&&(c=e=0)):this.He&&this.Bh&&0===this.fp&&(e=Math.floor((a-this.hb)/
2),c=Math.floor((d-this.gb)/2),a=this.hb,d=this.gb),2>b&&(this.Xg=h),this.bj=Math.round(a),this.dh=Math.round(d),this.width=Math.round(a*h),this.height=Math.round(d*h),this.qa=!0,this.Nr?(this.K=this.width,this.J=this.height,this.Fc=!0):this.width<this.hb&&this.height<this.gb||1===b?(this.K=this.width,this.J=this.height,this.Fc=!0):(this.K=this.hb,this.J=this.gb,this.Fc=!1,2===b?(l=this.hb/this.gb,b=this.qg/this.pg,b<l?this.K=this.J*b:b>l&&(this.J=this.K/b)):3===b&&(l=this.hb/this.gb,b=this.qg/this.pg,
b>l?this.K=this.J*b:b<l&&(this.J=this.K/b))),this.Mo&&!this.Ka&&(jQuery(this.Mo).css({width:Math.round(a)+"px",height:Math.round(d)+"px","margin-left":Math.floor(e)+"px","margin-top":Math.floor(c)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(d)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*h),this.canvas.height=Math.round(d*h),this.jd?(this.canvas.style.left=Math.floor(e)+"px",this.canvas.style.top=Math.floor(c)+"px",this.canvas.style.width=
Math.round(a)+"px",this.canvas.style.height=Math.round(d)+"px"):this.uf&&!this.Ka&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(d)+"px")),this.Ab&&(this.Ab.width=Math.round(a*h),this.Ab.height=Math.round(d*h),this.Ab.style.width=this.bj+"px",this.Ab.style.height=this.dh+"px"),this.u&&this.u.If(Math.round(a*h),Math.round(d*h)),this.Vb&&this.Ia&&(this.Ia.width=Math.round(a),this.Ia.height=Math.round(d)),this.Ia&&this.Ak(this.Ia,this.Da),this.Cr(),this.Ep&&!this.qc&&
window.scrollTo(0,0)}};b.prototype.Cr=function(){if(this.Vs&&0!==this.mn){var a="portrait";2===this.mn&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(d){console&&console.warn&&console.warn("Failed to lock orientation: ",
d)}}};b.prototype.Ev=function(){this.u.gt();this.Dm=!0;var a,d,h;a=0;for(d=this.A.length;a<d;a++)h=this.A[a],h.di&&h.di()};b.prototype.Fv=function(){this.Dm=!1;var a,d,h;a=0;for(d=this.A.length;a<d;a++)h=this.A[a],h.ak&&h.ak()};b.prototype.Iq=function(){if(!this.Ka){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Bh)&&!this.qc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Ab).css(a)}};
var u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var d;if(a&&!this.Dh)for(da("[Construct 2] Suspending"),this.Dh=!0,-1!==this.wn&&u&&u(this.wn),-1!==this.Rn&&clearTimeout(this.Rn),a=0,d=this.vi.length;a<d;a++)this.vi[a](!0);else if(!a&&this.Dh){da("[Construct 2] Resuming");this.Dh=!1;this.Kj=$a();this.xf=$a();a=this.Xh=this.tj=0;for(d=this.vi.length;a<
d;a++)this.vi[a](!1);this.Na(!1)}};b.prototype.Qs=function(a){this.vi.push(a)};b.prototype.te=function(a){return this.Yj[a]};b.prototype.sg=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.dp=a[1];this.Ub=a[12];this.fp=a[12];this.hb=a[10];this.gb=a[11];this.Dq=this.hb/2;this.Eq=this.gb/2;this.Ka&&!this.jd&&(4<=a[12]||0===a[12])&&(da("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.fp=
this.Ub=3);this.ao=a[18];this.Me=a[19];if(0===this.Me){var d=new Image;d.crossOrigin="anonymous";this.Xq(d,"loading-logo.png");this.Le={Vj:d}}else if(4===this.Me){d=new Image;d.src="";var h=new Image;h.src="";var e=new Image;e.src="";var c=new Image;c.src="";var l=new Image;l.src="";var f=new Image;f.src="";var b=new Image;b.src="";var m=new Image;m.src="";var g=new Image;g.src="";var q=new Image;q.src="";var x=new Image;x.src="";var p=new Image;p.src="";this.Le={Vj:[d,h,e,c],Tv:[l,f,b,m],Qw:[g,q,
x,p]}}this.ai=a[21];this.Yj=nc();this.Md=new X(this);d=0;for(h=a[2].length;d<h;d++)b=a[2][d],e=this.te(b[0]),pb(b,e.prototype),m=new e(this),m.Ek=b[1],m.Ie=b[2],m.hq=b[9],m.V&&m.V(),this.plugins.push(m);this.Yj=nc();d=0;for(h=a[3].length;d<h;d++){b=a[3][d];l=this.te(b[1]);m=null;e=0;for(c=this.plugins.length;e<c;e++)if(this.plugins[e]instanceof l){m=this.plugins[e];break}g=new m.ya(m);g.name=b[0];g.G=b[2];g.um=b[3].slice(0);g.Ow=b[3].length;g.Ws=b[4];g.xu=b[5];g.aa=b[11];g.G?(g.wg=[],g.Yd=this.ih++,
g.Ja=null):(g.wg=null,g.Yd=-1,g.Ja=[]);g.mj=null;g.Zf=null;g.Wo=null;g.rc=!1;g.nc=null;b[6]?(g.Nk=b[6][0],g.Ok=b[6][1],g.yi=b[6][2]):(g.Nk=null,g.Ok=0,g.yi=0);b[7]?g.mc=b[7]:g.mc=null;g.index=d;g.d=[];g.fj=[];g.me=[new qb(g)];g.Ad=0;g.Rc=null;g.lt=0;g.Mg=!0;g.Xk=rb;g.lp=sb;g.Gu=tb;g.da=ub;g.ii=vb;g.rk=wb;g.Hf=yb;g.vj=zb;g.Tl=Ab;g.Wl=Bb;g.Pc=Cb;g.Xl=Db;g.Zi=new gb(this.hb,this.gb);g.Oi=!0;g.Pi=!1;g.M={};g.toString=Eb;g.Oa=[];e=0;for(c=b[8].length;e<c;e++){q=b[8][e];x=this.te(q[1]);p=null;l=0;for(f=
this.Oa.length;l<f;l++)if(this.Oa[l]instanceof x){p=this.Oa[l];break}p||(p=new x(this),p.Ym=[],p.Xm=new ba,p.V&&p.V(),this.Oa.push(p),fc.Bw&&p instanceof fc.Bw&&(this.kr=p));-1===p.Ym.indexOf(g)&&p.Ym.push(g);l=new p.ya(p,g);l.name=q[0];l.aa=q[2];l.V();g.Oa.push(l)}g.global=b[9];g.zm=b[10];g.S=[];e=0;for(c=b[12].length;e<c;e++)g.S.push({id:b[12][e][0],name:b[12][e][1],Za:-1,nd:!1,mb:!0,index:e});g.uy=b[13];this.ao&&!g.G&&!g.zm&&m.Ie||g.V();g.name&&(this.types[g.name]=g);this.A.push(g);m.Ek&&(e=new m.na(g),
e.uid=this.ai++,e.Lq=this.lq++,e.rf=0,e.oh=Fb,e.toString=Gb,e.L=b[14],e.V(),g.d.push(e),this.he[e.uid.toString()]=e)}d=0;for(h=a[4].length;d<h;d++)for(l=a[4][d],f=this.A[l[0]],e=1,c=l.length;e<c;e++)b=this.A[l[e]],b.Ja.push(f),f.wg.push(b);d=0;for(h=a[28].length;d<h;d++){l=a[28][d];f=[];e=0;for(c=l.length;e<c;e++)f.push(this.A[l[e]]);e=0;for(c=f.length;e<c;e++)f[e].rc=!0,f[e].nc=f}if(0<this.ih)for(d=0,h=this.A.length;d<h;d++)if(b=this.A[d],!b.G&&b.Ja.length){b.mj=Array(this.ih);b.Zf=Array(this.ih);
b.Wo=Array(this.ih);g=[];e=p=x=q=0;for(c=b.Ja.length;e<c;e++)for(m=b.Ja[e],b.mj[m.Yd]=q,q+=m.Ow,b.Zf[m.Yd]=x,x+=m.Ws,b.Wo[m.Yd]=p,p+=m.xu,l=0,f=m.S.length;l<f;l++)g.push(wa({},m.S[l]));b.S=g.concat(b.S);e=0;for(c=b.S.length;e<c;e++)b.S[e].index=e}d=0;for(h=a[5].length;d<h;d++)b=a[5][d],e=new Hb(this,b),this.Mm[e.name]=e,this.ld.push(e);d=0;for(h=a[6].length;d<h;d++)b=a[6][d],e=new Ib(this,b),this.Kl[e.name]=e,this.Xd.push(e);d=0;for(h=this.Xd.length;d<h;d++)this.Xd[d].Ua();d=0;for(h=this.Xd.length;d<
h;d++)this.Xd[d].Xn();d=0;for(h=this.Vk.length;d<h;d++)this.Vk[d].Ua();T(this.Vk);this.Us=a[7];this.Ol=a[8];this.Kc=a[9];this.Xg=1;this.Nt=a[13];this.Da=a[14];this.ml=a[15];this.Mw=a[17];this.mn=a[20];this.Vs=0<this.mn;this.Nv=a[22];this.Fc=this.Nr=a[23];this.Gt=a[24];this.Uv=a[25];this.Ca=a[27]&&!this.be;this.Ik=Date.now();T(this.Yj);this.iv()};var d=!1;b.prototype.co=function(a,h){a.cocoonLazyLoad=!0;a.onerror=function(h){d=a.Jo=!0;console&&console.error&&console.error("Error loading image '"+a.src+
"': ",h)};this.jd?a.src=h:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(h,function(d){a.src=d},function(e){d=a.Jo=!0;console&&console.error&&console.error("Error extracting image '"+h+"' from expansion file: ",e)}):(a.crossOrigin="anonymous",this.Xq(a,h)));this.Tg.push(a)};b.prototype.uu=function(a){var d,h;d=0;for(h=this.Tg.length;d<h;d++)if(this.Tg[d].ht===a)return this.Tg[d];return null};var e=0,t=!1;b.prototype.Zu=function(){this.Sf&&(e=this.Sf.vw(this.Us))};b.prototype.Fo=function(){var a=
e,d=0,h=0,c=!0,l,b,h=0;for(l=this.Tg.length;h<l;h++){b=this.Tg[h];var f=b.Cl;if(!f||0>=f)f=5E4;a+=f;b.src&&(b.complete||b.loaded)&&!b.Jo?d+=f:c=!1}c&&this.Uv&&this.Sf&&(t||(this.Sf.Dw(),t=!0),h=this.Sf.Hu(),d+=h,h<e&&(c=!1));this.od=0==a?1:d/a;return c};var m=!1;b.prototype.go=function(){if(this.Ia||this.u){var a=this.Ia||this.pn;this.Ab&&this.Iq();var h=window.innerWidth,e=window.innerHeight;this.qg===h&&this.pg===e||this.setSize(h,e);this.od=0;this.Ip=-1;var c=this;if(this.Fo()&&(4!==this.Me||m))this.$u();
else{e=Date.now()-this.Ik;if(a){var l=this.width,b=this.height,h=this.devicePixelRatio;if(3>this.Me&&(this.Uc||500<=e&&this.Ip!=this.od)){a.clearRect(0,0,l,b);var e=l/2,b=b/2,l=0===this.Me&&this.Le.Vj.complete,g=40*h,q=0,x=80*h,p;if(l){var t=this.Le.Vj,x=t.width*h;p=t.height*h;g=x/2;q=p/2;a.drawImage(t,A(e-g),A(b-q),x,p)}1>=this.Me?(e=A(e-g)+.5,b=A(b+(q+(l?12*h:0)))+.5,a.fillStyle=d?"red":"DodgerBlue",a.fillRect(e,b,Math.floor(x*this.od),6*h),a.strokeStyle="black",a.strokeRect(e,b,x,6*h),a.strokeStyle=
"white",a.strokeRect(e-1*h,b-1*h,x+2*h,8*h)):2===this.Me&&(a.font=this.jd?"12pt ArialMT":"12pt Arial",a.fillStyle=d?"#f00":"#999",a.ty="middle",h=Math.round(100*this.od)+"%",l=a.measureText?a.measureText(h):null,a.fillText(h,e-(l?l.width:0)/2,b));this.Ip=this.od}else if(4===this.Me){this.Lt(a);f?f(function(){c.go()}):setTimeout(function(){c.go()},16);return}}setTimeout(function(){c.go()},this.Uc?10:100)}}};var E=-1,q="undefined"===typeof cr_is_preview?200:0,P=!0,h=!1,l=0,x=0,C="undefined"===typeof cr_is_preview?
3E3:0,D=null,K=null,O=0;b.prototype.Lt=function(a){if(!m){for(var e=Math.ceil(this.width),c=Math.ceil(this.height),b=this.Le.Vj,f=this.Le.Tv,g=this.Le.Qw,p=0;4>p;++p)if(!b[p].complete||!f[p].complete||!g[p].complete)return;0===O&&(E=Date.now());var p=Date.now(),t=!1,k=a,r,u;P||h?(a.clearRect(0,0,e,c),D&&D.width===e&&D.height===c||(D=document.createElement("canvas"),D.width=e,D.height=c,K=D.getContext("2d")),k=K,t=!0,P&&1===O&&(E=Date.now())):a.globalAlpha=1;k.fillStyle="#333333";k.fillRect(0,0,e,
c);256<this.dh?(r=Da(.22*c,105,.6*e),u=.25*r,k.drawImage(n(f,r),.5*e-r/2,.2*c-u/2,r,u),u=r=Math.min(.395*c,.95*e),k.drawImage(n(b,r),.5*e-r/2,.485*c-u/2,r,u),r=Da(.22*c,105,.6*e),u=.25*r,k.drawImage(n(g,r),.5*e-r/2,.868*c-u/2,r,u),k.fillStyle="#3C3C3C",r=e,u=Math.max(.005*c,2),k.fillRect(0,.8*c-u/2,r,u),k.fillStyle=d?"red":"#E0FF65",r=e*this.od,k.fillRect(.5*e-r/2,.8*c-u/2,r,u)):(u=r=.55*c,k.drawImage(n(b,r),.5*e-r/2,.45*c-u/2,r,u),k.fillStyle="#3C3C3C",r=e,u=Math.max(.005*c,2),k.fillRect(0,.85*c-
u/2,r,u),k.fillStyle=d?"red":"#E0FF65",r=e*this.od,k.fillRect(.5*e-r/2,.85*c-u/2,r,u));t&&(P?a.globalAlpha=0===O?0:Math.min((p-E)/300,1):h&&(a.globalAlpha=Math.max(1-(p-x)/300,0)),a.drawImage(D,0,0,e,c));P&&300<=p-E&&2<=O&&(P=!1,l=p);!P&&p-l>=C&&!h&&1<=this.od&&(h=!0,x=p);if(h&&p-x>=300+q||"undefined"!==typeof cr_is_preview&&1<=this.od&&500>Date.now()-E)m=!0,h=P=!1,this.Le=K=D=null;++O}};b.prototype.$u=function(){this.Ab&&(this.canvas.parentNode.removeChild(this.Ab),this.Ab=this.pn=null);this.Ik=
Date.now();this.xf=$a();var a,d,h;if(this.ao)for(a=0,d=this.A.length;a<d;a++)h=this.A[a],h.G||h.zm||!h.za.Ie||h.V();else this.Hh=!1;a=0;for(d=this.ld.length;a<d;a++)this.ld[a].it();2<=this.Ub&&(a=this.hb/this.gb,d=this.width/this.height,this.Xg=2!==this.Ub&&d>a||2===this.Ub&&d<a?this.height/this.gb:this.width/this.hb);this.dp?this.Mm[this.dp].On():this.ld[0].On();this.ao||(this.Sj=1,this.trigger(X.prototype.n.oo,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(d=this.A.length;a<d;a++)h=this.A[a],h.Dv&&h.Dv();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Na(!1);this.Vb&&AppMobi.webview.execute("onGameReady();")};b.prototype.Na=function(a,d,h){if(this.ua){var e=$a();if(h||!this.Dh||a){a||(f?this.wn=f(this.sr):this.Rn=setTimeout(this.sr,this.de?1:16));d=d||e;var c=this.Ub;((h=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.qc)||this.Bh)&&0<this.nf&&(c=this.nf);if(0<c){var c=window.innerWidth,l=window.innerHeight;this.qg===c&&this.pg===l||this.setSize(c,l)}this.Ka||(h?(this.pj||(this.Rl=jQuery(this.canvas).css("margin")||"0",this.pj=!0),this.wh||this.He||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.pj?(this.wh||this.He||jQuery(this.canvas).css("margin",this.Rl),
this.Rl="",this.pj=!1,0===this.Ub&&this.setSize(Math.round(this.rq/this.devicePixelRatio),Math.round(this.qq/this.devicePixelRatio),!0)):(this.rq=this.width,this.qq=this.height));this.Hh&&(h=this.Fo(),this.Sj=this.od,h&&(this.Hh=!1,this.od=1,this.trigger(X.prototype.n.oo,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.xv(d);!this.qa&&!this.Uc||this.Dm||this.ti||a||(this.qa=!1,this.u?this.Lb():this.Ec(),this.ri&&(this.canvas&&this.canvas.toDataURL&&(this.ir=this.canvas.toDataURL(this.ri[0],
this.ri[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.ir),this.trigger(X.prototype.n.ks,null)),this.ri=null));this.by||(this.bd++,this.mf++,this.tj++);this.Xh+=$a()-e}}};b.prototype.xv=function(a){var d,h,e,c,l,b,f,m;1E3<=a-this.xf&&(this.xf+=1E3,1E3<=a-this.xf&&(this.xf=a),this.Ql=this.tj,this.tj=0,this.Bl=this.Xh,this.Xh=0);d=0;0!==this.Kj&&(d=a-this.Kj,0>d&&(d=0),this.hf=d/=1E3,.5<this.hf?this.hf=0:this.hf>1/this.fq&&(this.hf=1/this.fq));this.Kj=a;this.gf=this.hf*this.Og;this.yb.add(this.gf);
this.qe.add(d);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Bh)&&!this.qc;2<=this.Ub||a&&0<this.nf?(d=this.hb/this.gb,h=this.width/this.height,e=this.Ub,a&&0<this.nf&&(e=this.nf),this.Xg=2!==e&&h>d||2===e&&h<d?this.height/this.gb:this.width/this.hb,this.ua&&(this.ua.Rq(this.ua.scrollX),this.ua.Sq(this.ua.scrollY))):this.Xg=this.uf?this.devicePixelRatio:1;this.Db();this.kd++;this.Md.jw();this.kd--;this.Db();this.kd++;h=this.pq.Xe();
a=0;for(d=h.length;a<d;a++)h[a].my();a=0;for(d=this.A.length;a<d;a++)if(b=this.A[a],!b.G&&(b.Oa.length||b.Ja.length))for(h=0,e=b.d.length;h<e;h++)for(f=b.d[h],c=0,l=f.R.length;c<l;c++)f.R[c].Na();a=0;for(d=this.A.length;a<d;a++)if(b=this.A[a],!b.G&&(b.Oa.length||b.Ja.length))for(h=0,e=b.d.length;h<e;h++)for(f=b.d[h],c=0,l=f.R.length;c<l;c++)m=f.R[c],m.Sv&&m.Sv();h=this.$m.Xe();a=0;for(d=h.length;a<d;a++)h[a].Na();this.kd--;this.av();for(a=0;this.Yg&&10>a++;)this.Uo(this.Yg);a=0;for(d=this.Xd.length;a<
d;a++)this.Xd[a].hm=!1;this.ua.kf&&this.ua.kf.Ya();T(this.ki);this.kd++;a=0;for(d=this.A.length;a<d;a++)if(b=this.A[a],!b.G&&(b.Oa.length||b.Ja.length))for(h=0,e=b.d.length;h<e;h++)for(f=b.d[h],c=0,l=f.R.length;c<l;c++)m=f.R[c],m.Ai&&m.Ai();h=this.an.Xe();a=0;for(d=h.length;a<d;a++)h[a].Ai();this.kd--};b.prototype.Qe=function(){var a,d,h,e,c,l,b,f,m;a=0;for(d=this.A.length;a<d;a++)if(b=this.A[a],!b.G)for(h=0,e=b.d.length;h<e;h++)if(f=b.d[h],f.Qe&&f.Qe(),f.R)for(c=0,l=f.R.length;c<l;c++)m=f.R[c],m.Qe&&
m.Qe()};b.prototype.Uo=function(a){var d=this.ua;this.ua.Ew();var h,e,c;if(this.u)for(h=0,e=this.A.length;h<e;h++)c=this.A[h],c.G||!c.Wk||c.global&&0!==c.d.length||-1!==a.uh.indexOf(c)||c.Wk();d==a&&T(this.Md.Ac);T(this.ki);this.Oq(!0);a.On();this.Oq(!1);this.qa=!0;this.Db()};b.prototype.Oq=function(a){var d,h,e,c,l,b,f,m,g;d=0;for(h=this.Oa.length;d<h;d++)e=this.Oa[d],a?e.bi&&e.bi():e.ci&&e.ci();d=0;for(h=this.A.length;d<h;d++)if(e=this.A[d],e.global||e.za.Ek)for(c=0,l=e.d.length;c<l;c++)if(b=e.d[c],
a?b.bi&&b.bi():b.ci&&b.ci(),b.R)for(f=0,m=b.R.length;f<m;f++)g=b.R[f],a?g.bi&&g.bi():g.ci&&g.ci()};b.prototype.Bi=function(a){this.$m.add(a)};b.prototype.Gw=function(a){this.an.add(a)};b.prototype.ag=function(a){return a&&-1!==a.$h?this.hf*a.$h:this.gf};b.prototype.Ec=function(){this.ua.Ec(this.Ia);this.Vb&&this.Ia.present()};b.prototype.Lb=function(){this.Ca&&(this.jf=1,this.ua.ff(this.u));this.ua.Lb(this.u);this.u.Wv()};b.prototype.kl=function(a){a&&this.ij.push(a)};b.prototype.dw=function(a){Ca(this.ij,
a)};b.prototype.mh=function(a){a=a.toString();return this.he.hasOwnProperty(a)?this.he[a]:null};var B=[];b.prototype.se=function(a){var d,h;d=a.type.name;var e=null;if(this.ef.hasOwnProperty(d)){if(e=this.ef[d],e.contains(a))return}else e=B.length?B.pop():new ba,this.ef[d]=e;e.add(a);this.Ge=!0;if(a.rc)for(d=0,h=a.siblings.length;d<h;d++)this.se(a.siblings[d]);this.ym&&e.Rg.push(a);this.xm||(this.kd++,this.trigger(Object.getPrototypeOf(a.type.za).n.ms,a),this.kd--)};b.prototype.Db=function(){if(this.Ge){var a,
d,h,e,c,l;this.ym=!0;h=0;for(c=this.gd.length;h<c;++h)for(a=this.gd[h],d=a.type,d.d.push(a),e=0,l=d.Ja.length;e<l;++e)d.Ja[e].d.push(a),d.Ja[e].Mg=!0;T(this.gd);this.cs();Za(this.ef);this.Ge=this.ym=!1}};b.prototype.cs=function(){for(var a in this.ef)this.ef.hasOwnProperty(a)&&this.Sr(this.ef[a])};b.prototype.Sr=function(a){var d=a.Xe(),h=d[0].type,e,c,l,b,f,m;ab(h.d,a);h.Mg=!0;0===h.d.length&&(h.Pi=!1);e=0;for(c=h.Ja.length;e<c;++e)m=h.Ja[e],ab(m.d,a),m.Mg=!0;e=0;for(c=this.Md.Ac.length;e<c;++e)if(f=
this.Md.Ac[e],f.zc.hasOwnProperty(h.index)&&ab(f.zc[h.index].tf,a),!h.G)for(l=0,b=h.Ja.length;l<b;++l)m=h.Ja[l],f.zc.hasOwnProperty(m.index)&&ab(f.zc[m.index].tf,a);if(f=d[0].k){if(f.Nc)for(l=f.d,e=0,c=l.length;e<c;++e)b=l[e],a.contains(b)&&(b.xa(),f.Bb.update(b,b.hc,null),b.hc.set(0,0,-1,-1));ab(f.d,a);f.oi(0)}for(e=0;e<d.length;++e)this.Rr(d[e],h);a.clear();B.push(a);this.qa=!0};b.prototype.Rr=function(a,d){var h,e,c;h=0;for(e=this.ij.length;h<e;++h)this.ij[h](a);a.Ae&&d.Zi.update(a,a.Ae,null);
(h=a.k)&&h.Fg(a,!0);if(a.R)for(h=0,e=a.R.length;h<e;++h)c=a.R[h],c.Ff&&c.Ff(),c.behavior.Xm.remove(a);this.pq.remove(a);this.$m.remove(a);this.an.remove(a);a.Ff&&a.Ff();this.he.hasOwnProperty(a.uid.toString())&&delete this.he[a.uid.toString()];this.Zj--;100>d.fj.length&&d.fj.push(a)};b.prototype.Oo=function(a,d,h,e){if(a.G){var c=A(Math.random()*a.wg.length);return this.Oo(a.wg[c],d,h,e)}return a.Rc?this.Be(a.Rc,d,!1,h,e,!1):null};var v=[];b.prototype.Be=function(a,d,h,e,c,l){var b,f,m,g;if(!a)return null;
var q=this.A[a[1]],x=q.za.Ie;if(this.Hh&&x&&!q.zm||x&&!this.u&&11===a[0][11])return null;var p=d;x||(d=null);var t;q.fj.length?(t=q.fj.pop(),t.xc=!0,q.za.na.call(t,q)):(t=new q.za.na(q),t.xc=!1);!h||l||this.he.hasOwnProperty(a[2].toString())?t.uid=this.ai++:t.uid=a[2];this.he[t.uid.toString()]=t;t.Lq=this.lq++;t.rf=q.d.length;b=0;for(f=this.gd.length;b<f;++b)this.gd[b].type===q&&t.rf++;t.oh=Fb;t.toString=Gb;m=a[3];if(t.xc)Za(t.M);else{t.M={};if("undefined"!==typeof cr_is_preview)for(t.vp=[],t.vp.length=
m.length,b=0,f=m.length;b<f;b++)t.vp[b]=m[b][1];t.cb=[];t.cb.length=m.length}b=0;for(f=m.length;b<f;b++)t.cb[b]=m[b][0];if(x){var n=a[0];t.x=fa(e)?n[0]:e;t.y=fa(c)?n[1]:c;t.z=n[2];t.width=n[3];t.height=n[4];t.depth=n[5];t.i=n[6];t.opacity=n[7];t.ac=n[8];t.cc=n[9];t.Eb=n[10];b=n[11];!this.u&&q.S.length&&(t.Eb=b);t.Zg=ib(t.Eb);this.B&&jb(t,t.Eb,this.B);if(t.xc){b=0;for(f=n[12].length;b<f;b++)for(m=0,g=n[12][b].length;m<g;m++)t.Pa[b][m]=n[12][b][m];t.Ba.set(0,0,0,0);t.Ae.set(0,0,-1,-1);t.hc.set(0,0,
-1,-1);t.Hb.Jg(t.Ba);T(t.rl)}else{t.Pa=n[12].slice(0);b=0;for(f=t.Pa.length;b<f;b++)t.Pa[b]=n[12][b].slice(0);t.fa=[];t.ue=[];t.ue.length=q.S.length;t.Ba=new ta(0,0,0,0);t.Ae=new ta(0,0,-1,-1);t.hc=new ta(0,0,-1,-1);t.Hb=new ua;t.rl=[];t.I=Jb;t.Rs=Kb;t.Tb=Lb;t.xa=Mb;t.Jr=Nb;t.$n=Ob;t.Ed=Pb}t.Ci=!1;t.Jw=0;t.Iw=0;t.Hw=null;14===n.length&&(t.Ci=!0,t.Jw=n[13][0],t.Iw=n[13][1],t.Hw=n[13][2]);b=0;for(f=q.S.length;b<f;b++)t.ue[b]=!0;t.ke=!0;t.vd=Qb;t.vd();t.Kr=!!t.fa.length;t.Ui=!0;t.ul=!0;q.Oi=!0;t.visible=
!0;t.$h=-1;t.k=d;t.wd=d.d.length;t.jf=0;"undefined"===typeof t.ja&&(t.ja=null);this.qa=t.Rd=!0}var r;T(v);b=0;for(f=q.Ja.length;b<f;b++)v.push.apply(v,q.Ja[b].Oa);v.push.apply(v,q.Oa);if(t.xc)for(b=0,f=v.length;b<f;b++){var k=v[b];r=t.R[b];r.xc=!0;k.behavior.na.call(r,k,t);n=a[4][b];m=0;for(g=n.length;m<g;m++)r.L[m]=n[m];r.V();k.behavior.Xm.add(t)}else for(t.R=[],b=0,f=v.length;b<f;b++)k=v[b],r=new k.behavior.na(k,t),r.xc=!1,r.L=a[4][b].slice(0),r.V(),t.R.push(r),k.behavior.Xm.add(t);n=a[5];if(t.xc)for(b=
0,f=n.length;b<f;b++)t.L[b]=n[b];else t.L=n.slice(0);this.gd.push(t);this.Ge=!0;d&&(d.Wg(t,!0),1!==d.ec||1!==d.fc)&&(q.Pi=!0);this.Zj++;if(q.rc){if(t.rc=!0,t.xc?T(t.siblings):t.siblings=[],!h&&!l){b=0;for(f=q.nc.length;b<f;b++)if(q.nc[b]!==q){if(!q.nc[b].Rc)return null;t.siblings.push(this.Be(q.nc[b].Rc,p,!1,x?t.x:e,x?t.y:c,!0))}b=0;for(f=t.siblings.length;b<f;b++)for(t.siblings[b].siblings.push(t),m=0;m<f;m++)b!==m&&t.siblings[b].siblings.push(t.siblings[m])}}else t.rc=!1,t.siblings=null;t.V();b=
0;for(f=t.R.length;b<f;b++)t.R[b].Rv&&t.R[b].Rv();return t};b.prototype.lh=function(a){var d,h;d=0;for(h=this.ua.T.length;d<h;d++){var e=this.ua.T[d];if(mb(e.name,a))return e}return null};b.prototype.$d=function(a){a=A(a);0>a&&(a=0);a>=this.ua.T.length&&(a=this.ua.T.length-1);return this.ua.T[a]};b.prototype.zl=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].da().wa=!0};b.prototype.ii=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].ii()};b.prototype.rk=function(a){var d,h;d=0;for(h=a.length;d<
h;d++)a[d].rk()};b.prototype.Hf=function(a){var d,h;d=0;for(h=a.length;d<h;d++)a[d].Hf()};b.prototype.Hr=function(a){if(a.Oi){var d,h,e=a.d;d=0;for(h=e.length;d<h;++d)e[d].$n();e=this.gd;d=0;for(h=e.length;d<h;++d)e[d].type===a&&e[d].$n();a.Oi=!1}};b.prototype.ip=function(a,d,h,e){var c,b,l=a?1!==a.ec||1!==a.fc:!1;if(d.G)for(a=0,c=d.wg.length;a<c;++a)b=d.wg[a],l||b.Pi?Aa(e,b.d):(this.Hr(b),b.Zi.tk(h,e));else l||d.Pi?Aa(e,d.d):(this.Hr(d),d.Zi.tk(h,e))};b.prototype.Mu=function(a,d,h,e){var c,b;c=0;
for(b=d.length;c<b;++c)this.ip(a,d[c],h,e)};b.prototype.Lu=function(a,d,h){var e=this.kr;e&&this.Mu(a,e.Ym,d,h)};b.prototype.wi=function(a,d,h){var e=a.da(),c,b,l,f,m=this.wb().oc.Xc,g,q,t;if(e.wa)for(e.wa=!1,T(e.d),c=0,f=a.d.length;c<f;c++)l=a.d[c],l.xa(),g=l.k.$a(d,h,!0),q=l.k.$a(d,h,!1),l.Tb(g,q)?e.d.push(l):m&&e.X.push(l);else{b=0;t=m?e.X:e.d;c=0;for(f=t.length;c<f;c++)l=t[c],l.xa(),g=l.k.$a(d,h,!0),q=l.k.$a(d,h,!1),l.Tb(g,q)&&(m?e.d.push(l):(e.d[b]=e.d[c],b++));t.length=b}a.Pc();return e.gm()};
b.prototype.Kf=function(a,d){if(!(a&&d&&a!==d&&a.Rd&&d.Rd))return!1;a.xa();d.xa();var h=a.k,e=d.k,c,b,l,f,m,g,q,t;if(h===e||h.ec===e.ec&&e.fc===e.fc&&h.scale===e.scale&&h.i===e.i&&h.Sb===e.Sb){if(!a.Ba.jv(d.Ba)||!a.Hb.wp(d.Hb)||a.Ci&&d.Ci)return!1;if(a.Ci)return this.or(a,d);if(d.Ci)return this.or(d,a);q=a.ja&&!a.ja.hg();c=d.ja&&!d.ja.hg();if(!q&&!c)return!0;q?(a.ja.Uf(a.width,a.height,a.i),q=a.ja):(this.sd.Ig(a.Hb,a.x,a.y,a.width,a.height),q=this.sd);c?(d.ja.Uf(d.width,d.height,d.i),t=d.ja):(this.sd.Ig(d.Hb,
d.x,d.y,d.width,d.height),t=this.sd);return q.vh(t,d.x-a.x,d.y-a.y)}q=a.ja&&!a.ja.hg();c=d.ja&&!d.ja.hg();q?(a.ja.Uf(a.width,a.height,a.i),this.sd.$q(a.ja)):this.sd.Ig(a.Hb,a.x,a.y,a.width,a.height);q=this.sd;c?(d.ja.Uf(d.width,d.height,d.i),this.Qn.$q(d.ja)):this.Qn.Ig(d.Hb,d.x,d.y,d.width,d.height);t=this.Qn;c=0;for(b=q.qd;c<b;c++)l=2*c,f=l+1,m=q.jb[l],g=q.jb[f],q.jb[l]=h.La(m+a.x,g+a.y,!0),q.jb[f]=h.La(m+a.x,g+a.y,!1);q.xa();c=0;for(b=t.qd;c<b;c++)l=2*c,f=l+1,m=t.jb[l],g=t.jb[f],t.jb[l]=e.La(m+
d.x,g+d.y,!0),t.jb[f]=e.La(m+d.x,g+d.y,!1);t.xa();return q.vh(t,0,0)};var N=new ua;new ta(0,0,0,0);var W=[];b.prototype.or=function(a,d){var h,e,c,b,l=d.Ba,f=a.x,m=a.y;a.$x(l,W);var g=d.ja&&!d.ja.hg();h=0;for(e=W.length;h<e;++h)if(c=W[h],b=c.qy,l.kv(b,f,m)&&(N.Jg(b),N.offset(f,m),N.wp(d.Hb)))if(g)if(d.ja.Uf(d.width,d.height,d.i),c.sn){if(c.sn.vh(d.ja,d.x-(f+b.left),d.y-(m+b.top)))return T(W),!0}else{if(this.sd.Ig(N,0,0,b.right-b.left,b.bottom-b.top),this.sd.vh(d.ja,d.x,d.y))return T(W),!0}else if(c.sn){if(this.sd.Ig(d.Hb,
0,0,d.width,d.height),c.sn.vh(this.sd,-(f+b.left),-(m+b.top)))return T(W),!0}else return T(W),!0;T(W);return!1};b.prototype.Dr=function(a,d){if(!d)return!1;var h,e,c,b,l;h=0;for(e=a.Oa.length;h<e;h++)if(a.Oa[h].behavior instanceof d)return!0;if(!a.G)for(h=0,e=a.Ja.length;h<e;h++)for(l=a.Ja[h],c=0,b=l.Oa.length;c<b;c++)if(l.Oa[c].behavior instanceof d)return!0;return!1};b.prototype.Vn=function(a){return this.Dr(a,fc.wx)};b.prototype.Wn=function(a){return this.Dr(a,fc.xx)};var Q=[];b.prototype.td=function(a){var d,
h,e;a.xa();this.Lu(a.k,a.Ba,Q);d=0;for(h=Q.length;d<h;++d)if(e=Q[d],e.M.solidEnabled&&this.Kf(a,e))return T(Q),e;T(Q);return null};b.prototype.$v=function(a,d,h,e){e=e||50;var c=a.x,b=a.y,l,f=null,m=null;for(l=0;l<e;l++)if(a.x=c+d*l,a.y=b+h*l,a.I(),!this.Kf(a,f)&&((f=this.td(a))&&(m=f),!f&&!f))return m&&this.Yv(a,d,h,m),!0;a.x=c;a.y=b;a.I();return!1};b.prototype.Yv=function(a,d,h,e){var c=2,b,l=!1;b=!1;for(var f=a.x,m=a.y;16>=c;)b=1/c,c*=2,a.x+=d*b*(l?1:-1),a.y+=h*b*(l?1:-1),a.I(),this.Kf(a,e)?b=
l=!0:(b=l=!1,f=a.x,m=a.y);b&&(a.x=f,a.y=m,a.I())};b.prototype.Mq=function(a,d){var h=fa(d)?100:d,e=0,c=a.x,b=a.y,l=0,f=0,m=0,g=this.td(a);if(!g)return!0;for(;e<=h;){switch(l){case 0:f=0;m=-1;e++;break;case 1:f=1;m=-1;break;case 2:f=1;m=0;break;case 3:m=f=1;break;case 4:f=0;m=1;break;case 5:f=-1;m=1;break;case 6:f=-1;m=0;break;case 7:m=f=-1}l=(l+1)%8;a.x=A(c+f*e);a.y=A(b+m*e);a.I();if(!this.Kf(a,g)&&(g=this.td(a),!g))return!0}a.x=c;a.y=b;a.I();return!1};b.prototype.ji=function(a,d){a.Rd&&d.Rd&&this.ki.push([a,
d])};b.prototype.dt=function(a,d){var h,e,c;h=0;for(e=this.ki.length;h<e;h++)if(c=this.ki[h],c[0]==a&&c[1]==d||c[0]==d&&c[1]==a)return!0;return!1};b.prototype.$s=function(a,d,h){var e=a.x,c=a.y,b=la(10,Ra(d,h,e,c)),l=Ma(d,h,e,c),f=this.td(a);if(!f)return Ga(l+oa);var m=f,g,q,t,x,p=U(5);for(g=1;36>g;g++)if(q=l-g*p,a.x=d+Math.cos(q)*b,a.y=h+Math.sin(q)*b,a.I(),!this.Kf(a,m)&&(m=this.td(a),!m)){t=q;break}36===g&&(t=Ga(l+oa));m=f;for(g=1;36>g;g++)if(q=l+g*p,a.x=d+Math.cos(q)*b,a.y=h+Math.sin(q)*b,a.I(),
!this.Kf(a,m)&&(m=this.td(a),!m)){x=q;break}36===g&&(x=Ga(l+oa));a.x=e;a.y=c;a.I();if(x===t)return x;a=Na(x,t)/2;a=Pa(x,t)?Ga(t+a+oa):Ga(x+a);t=Math.cos(l);l=Math.sin(l);x=Math.cos(a);a=Math.sin(a);d=t*x+l*a;return Ma(0,0,t-2*d*x,l-2*d*a)};var H=-1;b.prototype.trigger=function(a,d,h){if(!this.ua)return!1;var e=this.ua.kf;if(!e)return!1;var c=!1,b,l,f;H++;var m=e.Gl;l=0;for(f=m.length;l<f;++l)b=this.Ar(a,d,m[l],h),c=c||b;b=this.Ar(a,d,e,h);H--;return c||b};b.prototype.Ar=function(a,d,h,e){var c=!1,
b,l,f,m;if(d)for(f=this.Tn(a,d,d.type.name,h,e),c=c||f,m=d.type.Ja,b=0,l=m.length;b<l;++b)f=this.Tn(a,d,m[b].name,h,e),c=c||f;else f=this.Tn(a,d,"system",h,e),c=c||f;return c};b.prototype.Tn=function(a,d,h,e,c){var b,l=!1,f=!1,f="undefined"!==typeof c,m=(f?e.Yo:e.Br)[h];if(!m)return l;var g=null;e=0;for(b=m.length;e<b;++e)if(m[e].method==a){g=m[e].hh;break}if(!g)return l;var q;f?q=g[c]:q=g;if(!q)return null;e=0;for(b=q.length;e<b;e++)a=q[e][0],c=q[e][1],f=this.su(d,h,a,c),l=l||f;return l};b.prototype.su=
function(a,d,h,e){var c,b,l=!1;this.Un++;var f=this.wb().oc;f&&this.ii(f.Ve);var m=1<this.Un;this.ii(h.Ve);m&&this.Zv();var g=this.sk(h);g.oc=h;a&&(c=this.types[d].da(),c.wa=!1,T(c.d),c.d[0]=a,this.types[d].Pc());a=!0;if(h.parent){d=g.nr;for(c=h.parent;c;)d.push(c),c=c.parent;d.reverse();c=0;for(b=d.length;c<b;c++)if(!d[c].lw()){a=!1;break}}a&&(this.mf++,h.Xc?h.kw(e):h.Ya(),l=l||g.wf);this.mk();m&&this.Qv();this.Hf(h.Ve);f&&this.Hf(f.Ve);this.Ge&&0===this.kd&&0===H&&!this.Am&&this.Db();this.Un--;
return l};b.prototype.Ul=function(){var a=this.wb();return a.oc.ob[a.nb]};b.prototype.Bu=function(){var a=this.wb();return a.oc.Oc[a.Bc]};b.prototype.Zv=function(){this.Uj++;this.Uj>=this.Rm.length&&this.Rm.push([])};b.prototype.Qv=function(){this.Uj--};b.prototype.jp=function(){return this.Rm[this.Uj]};b.prototype.sk=function(a){this.kj++;this.kj>=this.Jl.length&&this.Jl.push(new Rb);var d=this.wb();d.reset(a);return d};b.prototype.mk=function(){this.kj--};b.prototype.wb=function(){return this.Jl[this.kj]};
b.prototype.kp=function(a,d){for(var h,e,c,b,l,f;d;){h=0;for(e=d.$c.length;h<e;h++)if(f=d.$c[h],f instanceof Sb&&mb(a,f.name))return f;d=d.parent}h=0;for(e=this.Xd.length;h<e;h++)for(l=this.Xd[h],c=0,b=l.De.length;c<b;c++)if(f=l.De[c],f instanceof Sb&&mb(a,f.name))return f;return null};b.prototype.mp=function(a){var d,h;d=0;for(h=this.ld.length;d<h;d++)if(this.ld[d].aa===a)return this.ld[d];return null};b.prototype.xj=function(a){var d,h;d=0;for(h=this.A.length;d<h;d++)if(this.A[d].aa===a)return this.A[d];
return null};b.prototype.Cu=function(a){var d,h;d=0;for(h=this.Rf.length;d<h;d++)if(this.Rf[d].aa===a)return this.Rf[d];return null};b.prototype.mt=function(a,d){this.ri=[a,d];this.qa=!0};b.prototype.av=function(){var a=this,d=this.En,h=this.ee,e=this.Pj,b=!1;this.hr&&(b=!0,d="__c2_continuouspreview",this.hr=!1);if(d.length){this.Db();h=this.qw();if(g()&&!this.Uc)p(d,h,function(){da("Saved state to IndexedDB storage ("+h.length+" bytes)");a.ee=h;a.trigger(X.prototype.n.hl,null);a.ee="";b&&c()},function(e){try{localStorage.setItem("__c2save_"+
d,h),da("Saved state to WebStorage ("+h.length+" bytes)"),a.ee=h,a.trigger(X.prototype.n.hl,null),a.ee="",b&&c()}catch(l){da("Failed to save game state: "+e+"; "+l),a.trigger(X.prototype.n.so,null)}});else try{localStorage.setItem("__c2save_"+d,h),da("Saved state to WebStorage ("+h.length+" bytes)"),a.ee=h,this.trigger(X.prototype.n.hl,null),a.ee="",b&&c()}catch(l){da("Error saving to WebStorage: "+l),a.trigger(X.prototype.n.so,null)}this.Nb=this.Pj=this.En=""}if(e.length){if(g()&&!this.Uc)r(e,function(d){d?
(a.Nb=d,da("Loaded state from IndexedDB storage ("+a.Nb.length+" bytes)")):(a.Nb=localStorage.getItem("__c2save_"+e)||"",da("Loaded state from WebStorage ("+a.Nb.length+" bytes)"));a.ti=!1;a.Nb.length||a.trigger(X.prototype.n.fl,null)},function(){a.Nb=localStorage.getItem("__c2save_"+e)||"";da("Loaded state from WebStorage ("+a.Nb.length+" bytes)");a.ti=!1;a.Nb.length||a.trigger(X.prototype.n.fl,null)});else{try{this.Nb=localStorage.getItem("__c2save_"+e)||"",da("Loaded state from WebStorage ("+this.Nb.length+
" bytes)")}catch(f){this.Nb=""}this.ti=!1;a.Nb.length||a.trigger(X.prototype.n.fl,null)}this.En=this.Pj=""}this.Nb.length&&(this.Db(),this.wv(this.Nb),this.ee=this.Nb,this.trigger(X.prototype.n.vs,null),this.Nb=this.ee="")};b.prototype.qw=function(){var d,h,e,c,b,l,f,m={c2save:!0,version:1,rt:{time:this.yb.ca,walltime:this.qe.ca,timescale:this.Og,tickcount:this.bd,execcount:this.mf,next_uid:this.ai,running_layout:this.ua.aa,start_time_offset:Date.now()-this.Ik},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};d=0;for(h=this.A.length;d<h;d++)if(b=this.A[d],!b.G&&!this.Vn(b)){l={instances:[]};Ya(b.M)&&(l.ex=a(b.M));e=0;for(c=b.d.length;e<c;e++)l.instances.push(this.Dn(b.d[e]));m.types[b.aa.toString()]=l}d=0;for(h=this.ld.length;d<h;d++)e=this.ld[d],m.layouts[e.aa.toString()]=e.Cb();c=m.events.groups;d=0;for(h=this.Rf.length;d<h;d++)e=this.Rf[d],c[e.aa.toString()]=this.zj[e.qh].ph;h=m.events.cnds;for(f in this.ze)this.ze.hasOwnProperty(f)&&(d=this.ze[f],Ya(d.M)&&(h[f]={ex:a(d.M)}));
h=m.events.acts;for(f in this.ve)this.ve.hasOwnProperty(f)&&(d=this.ve[f],Ya(d.M)&&(h[f]={ex:a(d.M)}));h=m.events.vars;for(f in this.Sg)this.Sg.hasOwnProperty(f)&&(d=this.Sg[f],d.Ij||d.parent&&!d.Gh||(h[f]=d.data));m.system=this.Md.Cb();return JSON.stringify(m)};b.prototype.Nq=function(){var a,d,h,e,c,b;this.he={};a=0;for(d=this.A.length;a<d;a++)if(h=this.A[a],!h.G)for(e=0,c=h.d.length;e<c;e++)b=h.d[e],this.he[b.uid.toString()]=b};b.prototype.wv=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.zh=
!0;var d=a.rt;this.yb.reset();this.yb.ca=d.time;this.qe.reset();this.qe.ca=d.walltime||0;this.Og=d.timescale;this.bd=d.tickcount;this.mf=d.execcount;this.Ik=Date.now()-d.start_time_offset;var h=d.running_layout;if(h!==this.ua.aa)if(h=this.mp(h))this.Uo(h);else return;var e,c,b,l,f,m,g;m=a.types;for(c in m)if(m.hasOwnProperty(c)&&(l=this.xj(parseInt(c,10)))&&!l.G&&!this.Vn(l)){m[c].ex?l.M=m[c].ex:Za(l.M);f=l.d;b=m[c].instances;h=0;for(e=na(f.length,b.length);h<e;h++)this.Qj(f[h],b[h]);h=b.length;for(e=
f.length;h<e;h++)this.se(f[h]);h=f.length;for(e=b.length;h<e;h++){f=null;if(l.za.Ie&&(f=this.ua.wj(b[h].w.l),!f))continue;f=this.Be(l.Rc,f,!1,0,0,!0);this.Qj(f,b[h])}l.Mg=!0}this.Db();this.Nq();e=a.layouts;for(c in e)e.hasOwnProperty(c)&&(h=this.mp(parseInt(c,10)))&&h.Wb(e[c]);e=a.events.groups;for(c in e)e.hasOwnProperty(c)&&(h=this.Cu(parseInt(c,10)))&&this.zj[h.qh]&&this.zj[h.qh].sw(e[c]);h=a.events.cnds;for(c in this.ze)this.ze.hasOwnProperty(c)&&(h.hasOwnProperty(c)?this.ze[c].M=h[c].ex:this.ze[c].M=
{});h=a.events.acts;for(c in this.ve)this.ve.hasOwnProperty(c)&&(h.hasOwnProperty(c)?this.ve[c].M=h[c].ex:this.ve[c].M={});h=a.events.vars;for(c in h)h.hasOwnProperty(c)&&this.Sg.hasOwnProperty(c)&&(this.Sg[c].data=h[c]);this.ai=d.next_uid;this.zh=!1;h=0;for(e=this.oj.length;h<e;++h)f=this.oj[h],this.trigger(Object.getPrototypeOf(f.type.za).n.Ki,f);T(this.oj);this.Md.Wb(a.system);h=0;for(e=this.A.length;h<e;h++)if(l=this.A[h],!l.G&&!this.Vn(l))for(c=0,a=l.d.length;c<a;c++){f=l.d[c];if(l.rc)for(m=
f.oh(),T(f.siblings),d=0,b=l.nc.length;d<b;d++)g=l.nc[d],l!==g&&f.siblings.push(g.d[m]);f.xd&&f.xd();if(f.R)for(d=0,b=f.R.length;d<b;d++)m=f.R[d],m.xd&&m.xd()}this.qa=!0}};b.prototype.Dn=function(d,h){var e,c,b,l,f;l=d.type;b=l.za;var m={};h?m.c2=!0:m.uid=d.uid;Ya(d.M)&&(m.ex=a(d.M));if(d.cb&&d.cb.length)for(m.ivs={},e=0,c=d.cb.length;e<c;e++)m.ivs[d.type.um[e].toString()]=d.cb[e];if(b.Ie){b={x:d.x,y:d.y,w:d.width,h:d.height,l:d.k.aa,zi:d.Ed()};0!==d.i&&(b.a=d.i);1!==d.opacity&&(b.o=d.opacity);.5!==
d.ac&&(b.hX=d.ac);.5!==d.cc&&(b.hY=d.cc);0!==d.Eb&&(b.bm=d.Eb);d.visible||(b.v=d.visible);d.Rd||(b.ce=d.Rd);-1!==d.$h&&(b.mts=d.$h);if(l.S.length)for(b.fx=[],e=0,c=l.S.length;e<c;e++)f=l.S[e],b.fx.push({name:f.name,active:d.ue[f.index],params:d.Pa[f.index]});m.w=b}if(d.R&&d.R.length)for(m.behs={},e=0,c=d.R.length;e<c;e++)l=d.R[e],l.Cb&&(m.behs[l.type.aa.toString()]=l.Cb());d.Cb&&(m.data=d.Cb());return m};b.prototype.Eu=function(a,d){var h,e;h=0;for(e=a.um.length;h<e;h++)if(a.um[h]===d)return h;return-1};
b.prototype.Au=function(a,d){var h,e;h=0;for(e=a.R.length;h<e;h++)if(a.R[h].type.aa===d)return h;return-1};b.prototype.Qj=function(a,d,h){var e,c,b,l,f;f=a.type;l=f.za;if(h){if(!d.c2)return}else a.uid=d.uid;d.ex?a.M=d.ex:Za(a.M);if(c=d.ivs)for(e in c)c.hasOwnProperty(e)&&(b=this.Eu(f,parseInt(e,10)),0>b||b>=a.cb.length||(a.cb[b]=c[e]));if(l.Ie){b=d.w;a.k.aa!==b.l&&(c=a.k,a.k=this.ua.wj(b.l),a.k?(c.Fg(a,!0),a.k.Wg(a,!0),a.I(),a.k.oi(0)):(a.k=c,h||this.se(a)));a.x=b.x;a.y=b.y;a.width=b.w;a.height=b.h;
a.wd=b.zi;a.i=b.hasOwnProperty("a")?b.a:0;a.opacity=b.hasOwnProperty("o")?b.o:1;a.ac=b.hasOwnProperty("hX")?b.hX:.5;a.cc=b.hasOwnProperty("hY")?b.hY:.5;a.visible=b.hasOwnProperty("v")?b.v:!0;a.Rd=b.hasOwnProperty("ce")?b.ce:!0;a.$h=b.hasOwnProperty("mts")?b.mts:-1;a.Eb=b.hasOwnProperty("bm")?b.bm:0;a.Zg=ib(a.Eb);this.B&&jb(a,a.Eb,this.B);a.I();if(b.hasOwnProperty("fx"))for(h=0,c=b.fx.length;h<c;h++)l=f.Wl(b.fx[h].name),0>l||(a.ue[l]=b.fx[h].active,a.Pa[l]=b.fx[h].params);a.vd()}if(f=d.behs)for(e in f)f.hasOwnProperty(e)&&
(h=this.Au(a,parseInt(e,10)),0>h||a.R[h].Wb(f[e]));d.data&&a.Wb(d.data)};b.prototype.Zo=function(a,d,h){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(d,h)},h)};b.prototype.bp=function(a,d){this.Zo("data.js",function(h){var e=new FileReader;e.onload=function(d){a(d.target.result)};e.onerror=d;e.readAsText(h)},d)};var w=[],L=0;b.prototype.Um=function(){if(w.length&&!(8<=L)){L++;var a=w.shift();this.pt(a.filename,a.Fw,a.Qt)}};b.prototype.$o=function(a,
d,h){var e=this;w.push({filename:a,Fw:function(a){L--;e.Um();d(a)},Qt:function(a){L--;e.Um();h(a)}});this.Um()};b.prototype.pt=function(a,d,h){this.Zo(a,function(a){var h=new FileReader;h.onload=function(a){d(a.target.result)};h.readAsArrayBuffer(a)},h)};b.prototype.tu=function(a,d,h){this.$o(a,function(a){a=URL.createObjectURL(new Blob([a]));d(a)},h)};b.prototype.lv=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};b.prototype.Xq=function(a,d){this.Eh&&
!this.lv(d)?this.tu(d,function(d){a.src=d},function(a){alert("Failed to load image: "+a)}):a.src=d};b.prototype.Ak=function(a,d){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=d:(a.webkitImageSmoothingEnabled=d,a.mozImageSmoothingEnabled=d,a.msImageSmoothingEnabled=d)};Tb=function(a){return new b(document.getElementById(a))};Ub=function(a,d){return new b({dc:!0,width:a,height:d})};window.cr_createRuntime=Tb;window.cr_createDCRuntime=Ub;window.createCocoonJSRuntime=function(){window.c2cocoonjs=
!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.ql=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a}})();window.cr_getC2Runtime=function(){var b=document.getElementById("c2canvas");return b?b.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(b,n){var g=window.cr_getC2Runtime();g&&g.mt(b,n)};window.cr_sizeCanvas=function(b,n){if(0!==b&&0!==n){var g=window.cr_getC2Runtime();g&&g.setSize(b,n)}};window.cr_setSuspended=function(b){var n=window.cr_getC2Runtime();n&&n.setSuspended(b)};
(function(){function b(a,e){this.b=a;this.kf=null;this.scrollX=this.b.hb/2;this.scrollY=this.b.gb/2;this.scale=1;this.i=0;this.$f=!0;this.name=e[0];this.Lv=e[1];this.Kv=e[2];this.width=e[1];this.height=e[2];this.Er=e[3];this.dr=e[4];this.aa=e[5];var c=e[6],b,f;this.T=[];this.uh=[];b=0;for(f=c.length;b<f;b++){var g=new Vb(this,c[b]);g.nq=b;this.T.push(g)}c=e[7];this.sf=[];b=0;for(f=c.length;b<f;b++){var g=c[b],p=this.b.A[g[1]];p.Rc||(p.Rc=g);this.sf.push(g);-1===this.uh.indexOf(p)&&this.uh.push(p)}this.S=
[];this.fa=[];this.ke=!0;this.Pa=[];b=0;for(f=e[8].length;b<f;b++)this.S.push({id:e[8][b][0],name:e[8][b][1],Za:-1,nd:!1,mb:!0,index:b}),this.Pa.push(e[8][b][2].slice(0));this.vd();this.Se=new ta(0,0,1,1);this.xn=new ta(0,0,1,1);this.Re={}}function n(a,e){return a.wd-e.wd}function g(a,e){this.fb=a;this.b=a.b;this.d=[];this.scale=1;this.i=0;this.Vd=!1;this.ne=new ta(0,0,0,0);this.tr=new ua;this.ra=this.ma=this.ta=this.la=0;this.Nf=!1;this.re=-1;this.Al=0;this.name=e[0];this.index=e[1];this.aa=e[2];
this.visible=e[3];this.ed=e[4];this.ud=e[5];this.ec=e[6];this.fc=e[7];this.opacity=e[8];this.sj=e[9];this.Nc=e[10];this.Sb=e[11];this.Eb=e[12];this.Mt=e[13];this.Zg="source-over";this.Kb=this.Ob=0;this.Bb=null;this.fe=k();this.rd=!0;this.rg=new ta(0,0,-1,-1);this.tb=new ta(0,0,-1,-1);this.Nc&&(this.Bb=new hb(this.b.hb,this.b.gb));this.Kd=!1;var c=e[14],b,f;this.lr=[];this.Hc=[];this.bh=[];b=0;for(f=c.length;b<f;b++){var g=c[b],p=this.b.A[g[1]];p.Rc||(p.Rc=g,p.lt=this.index);this.Hc.push(g);-1===this.fb.uh.indexOf(p)&&
this.fb.uh.push(p)}za(this.lr,this.Hc);this.S=[];this.fa=[];this.ke=!0;this.Pa=[];b=0;for(f=e[15].length;b<f;b++)this.S.push({id:e[15][b][0],name:e[15][b][1],Za:-1,nd:!1,mb:!0,index:b}),this.Pa.push(e[15][b][2].slice(0));this.vd();this.Se=new ta(0,0,1,1);this.xn=new ta(0,0,1,1)}function k(){return a.length?a.pop():[]}function p(d){T(d);a.push(d)}b.prototype.pw=function(a){var e=a.type.aa.toString();this.Re.hasOwnProperty(e)||(this.Re[e]=[]);this.Re[e].push(this.b.Dn(a))};b.prototype.op=function(){var a=
this.T[0];return!a.ud&&1===a.opacity&&!a.sj&&a.visible};b.prototype.vd=function(){T(this.fa);this.ke=!0;var a,e,c;a=0;for(e=this.S.length;a<e;a++)c=this.S[a],c.mb&&(this.fa.push(c),c.nd||(this.ke=!1))};b.prototype.Vl=function(a){var e,c,b;e=0;for(c=this.S.length;e<c;e++)if(b=this.S[e],b.name===a)return b;return null};var r=[],c=!0;b.prototype.On=function(){this.dr&&(this.kf=this.b.Kl[this.dr],this.kf.Xn());this.b.ua=this;this.width=this.Lv;this.height=this.Kv;this.scrollX=this.b.hb/2;this.scrollY=
this.b.gb/2;var a,e,b,f,g,q,p;a=0;for(b=this.b.A.length;a<b;a++)if(e=this.b.A[a],!e.G)for(g=e.d,e=0,f=g.length;e<f;e++)if(q=g[e],q.k){var h=q.k.nq;h>=this.T.length&&(h=this.T.length-1);q.k=this.T[h];-1===q.k.d.indexOf(q)&&q.k.d.push(q);q.k.Nf=!0}if(!c)for(a=0,b=this.T.length;a<b;++a)this.T[a].d.sort(n);T(r);this.Ys();a=0;for(b=this.T.length;a<b;a++)q=this.T[a],q.jt(),q.Zk();g=!1;if(!this.$f){for(p in this.Re)if(this.Re.hasOwnProperty(p)&&(e=this.b.xj(parseInt(p,10)))&&!e.G&&this.b.Wn(e)){f=this.Re[p];
a=0;for(b=f.length;a<b;a++){q=null;if(e.za.Ie&&(q=this.wj(f[a].w.l),!q))continue;q=this.b.Be(e.Rc,q,!1,0,0,!0);this.b.Qj(q,f[a]);g=!0;r.push(q)}T(f)}a=0;for(b=this.T.length;a<b;a++)this.T[a].d.sort(n),this.T[a].Nf=!0}g&&(this.b.Db(),this.b.Nq());for(a=0;a<r.length;a++)if(q=r[a],q.type.rc)for(b=q.oh(),e=0,f=q.type.nc.length;e<f;e++)p=q.type.nc[e],q.type!==p&&(p.d.length>b?q.siblings.push(p.d[b]):p.Rc&&(g=this.b.Be(p.Rc,q.k,!0,q.x,q.y,!0),this.b.Db(),p.Xk(),q.siblings.push(g),r.push(g)));a=0;for(b=
this.sf.length;a<b;a++)this.b.Be(this.sf[a],null,!0);this.b.Yg=null;this.b.Db();if(this.b.Ia&&!this.b.Ka)for(a=0,b=this.b.A.length;a<b;a++)p=this.b.A[a],!p.G&&p.d.length&&p.pk&&p.pk(this.b.Ia);if(this.b.zh)za(this.b.oj,r);else for(a=0,b=r.length;a<b;a++)q=r[a],this.b.trigger(Object.getPrototypeOf(q.type.za).n.Ki,q);T(r);this.b.zh||this.b.trigger(X.prototype.n.no,null);this.$f=!1};b.prototype.it=function(){var a,e,c,b,f;e=a=0;for(c=this.sf.length;a<c;a++)b=this.sf[a],f=this.b.A[b[1]],f.global?f.rc||
this.b.Be(b,null,!0):(this.sf[e]=b,e++);ya(this.sf,e)};b.prototype.Ew=function(){this.b.zh||this.b.trigger(X.prototype.n.us,null);this.b.xm=!0;T(this.b.Md.Ac);var a,e,b,f,g,q;if(!this.$f)for(a=0,e=this.T.length;a<e;a++)for(this.T[a].Zn(),g=this.T[a].d,b=0,f=g.length;b<f;b++)q=g[b],q.type.global||this.b.Wn(q.type)&&this.pw(q);a=0;for(e=this.T.length;a<e;a++){g=this.T[a].d;b=0;for(f=g.length;b<f;b++)q=g[b],q.type.global||this.b.se(q);this.b.Db();T(g);this.T[a].Nf=!0}a=0;for(e=this.b.A.length;a<e;a++)if(g=
this.b.A[a],!(g.global||g.za.Ie||g.za.Ek||g.G)){b=0;for(f=g.d.length;b<f;b++)this.b.se(g.d[b]);this.b.Db()}c=!1;this.b.xm=!1};new ta(0,0,0,0);b.prototype.Ec=function(a){var e,c=a,b=!1,f=!this.b.Fc;f&&(this.b.Oj||(this.b.Oj=document.createElement("canvas"),e=this.b.Oj,e.width=this.b.K,e.height=this.b.J,this.b.Kp=e.getContext("2d"),b=!0),e=this.b.Oj,c=this.b.Kp,e.width!==this.b.K&&(e.width=this.b.K,b=!0),e.height!==this.b.J&&(e.height=this.b.J,b=!0),b&&this.b.Ak(c,this.b.Da));c.globalAlpha=1;c.globalCompositeOperation=
"source-over";this.b.ml&&!this.op()&&c.clearRect(0,0,this.b.K,this.b.J);var g,p,b=0;for(g=this.T.length;b<g;b++)p=this.T[b],p.visible&&0<p.opacity&&11!==p.Eb&&(p.d.length||!p.ud)?p.Ec(c):p.Zk();f&&a.drawImage(e,0,0,this.b.width,this.b.height)};b.prototype.ff=function(a){a.Wq(!0);this.b.Wa||(this.b.Wa=a.Dc(this.b.K,this.b.J,this.b.Da));if(this.b.Wa.cf!==this.b.K||this.b.Wa.bf!==this.b.J)a.deleteTexture(this.b.Wa),this.b.Wa=a.Dc(this.b.K,this.b.J,this.b.Da);a.Zc(this.b.Wa);this.b.Fc||a.If(this.b.K,
this.b.J);var e,c;for(e=this.T.length-1;0<=e;--e)c=this.T[e],c.visible&&1===c.opacity&&c.ke&&0===c.Eb&&(c.d.length||!c.ud)?c.ff(a):c.Zk();a.Wq(!1)};b.prototype.Lb=function(a){var e=0<this.fa.length||this.b.Qg||!this.b.Fc||this.b.Ca;if(e){this.b.Wa||(this.b.Wa=a.Dc(this.b.K,this.b.J,this.b.Da));if(this.b.Wa.cf!==this.b.K||this.b.Wa.bf!==this.b.J)a.deleteTexture(this.b.Wa),this.b.Wa=a.Dc(this.b.K,this.b.J,this.b.Da);a.Zc(this.b.Wa);this.b.Fc||a.If(this.b.K,this.b.J)}else this.b.Wa&&(a.Zc(null),a.deleteTexture(this.b.Wa),
this.b.Wa=null);this.b.ml&&!this.op()&&a.clear(0,0,0,0);var c,b,f;c=0;for(b=this.T.length;c<b;c++)f=this.T[c],f.visible&&0<f.opacity&&(f.d.length||!f.ud)?f.Lb(a):f.Zk();e&&(0===this.fa.length||1===this.fa.length&&this.b.Fc?(1===this.fa.length?(e=this.fa[0].index,a.lc(this.fa[0].Za),a.Hg(null,1/this.b.K,1/this.b.J,0,0,1,1,this.scale,this.i,0,0,this.b.K/2,this.b.J/2,this.b.yb.ca,this.Pa[e]),a.qk(this.fa[0].Za)&&(this.b.qa=!0)):a.lc(0),this.b.Fc||a.If(this.b.width,this.b.height),a.Zc(null),a.Vq(!1),
a.Ue(1),a.jc(this.b.Wa),a.Tq(),a.Yc(),a.Mc(),e=this.b.width/2,c=this.b.height/2,a.Eg(-e,c,e,c,e,-c,-e,-c),a.jc(null),a.Vq(!0)):this.yn(a,null,null,null))};b.prototype.nh=function(){return 0<this.fa.length||this.b.Qg||!this.b.Fc||this.b.Ca?this.b.Wa:null};b.prototype.np=function(){var a=this.T[0].$b(),e,c,b;e=1;for(c=this.T.length;e<c;e++)b=this.T[e],(0!==b.ec||0!==b.fc)&&b.$b()<a&&(a=b.$b());return a};b.prototype.Rq=function(a){if(!this.Er){var e=1/this.np()*this.b.K/2;a>this.width-e&&(a=this.width-
e);a<e&&(a=e)}this.scrollX!==a&&(this.scrollX=a,this.b.qa=!0)};b.prototype.Sq=function(a){if(!this.Er){var e=1/this.np()*this.b.J/2;a>this.height-e&&(a=this.height-e);a<e&&(a=e)}this.scrollY!==a&&(this.scrollY=a,this.b.qa=!0)};b.prototype.Ys=function(){this.Rq(this.scrollX);this.Sq(this.scrollY)};b.prototype.yn=function(a,e,c,b){var f=c?c.fa:e?e.fa:this.fa,g=1,p=0,h=0,l=0,x=this.b.K,n=this.b.J;c?(g=c.k.$b(),p=c.k.bb(),h=c.k.la,l=c.k.ma,x=c.k.ta,n=c.k.ra):e&&(g=e.$b(),p=e.bb(),h=e.la,l=e.ma,x=e.ta,
n=e.ra);var r=this.b.Sl,k,u,B,v,N=0,W=1,Q,H,w=this.b.K,L=this.b.J,y=w/2,z=L/2,F=e?e.Se:this.Se,J=e?e.xn:this.xn,M=0,R=0,I=0,G=0,V=w,sa=w,S=L,va=L,ma=B=0;v=c?c.k.bb():0;if(c){k=0;for(u=f.length;k<u;k++)B+=a.Iu(f[k].Za),ma+=a.Ju(f[k].Za);G=c.Ba;M=e.La(G.left,G.top,!0,!0);I=e.La(G.left,G.top,!1,!0);V=e.La(G.right,G.bottom,!0,!0);S=e.La(G.right,G.bottom,!1,!0);0!==v&&(k=e.La(G.right,G.top,!0,!0),u=e.La(G.right,G.top,!1,!0),R=e.La(G.left,G.bottom,!0,!0),G=e.La(G.left,G.bottom,!1,!0),v=Math.min(M,V,k,R),
V=Math.max(M,V,k,R),M=v,v=Math.min(I,S,u,G),S=Math.max(I,S,u,G),I=v);M-=B;I-=ma;V+=B;S+=ma;J.left=M/w;J.top=1-I/L;J.right=V/w;J.bottom=1-S/L;R=M=A(M);G=I=A(I);sa=V=pa(V);va=S=pa(S);R-=B;G-=ma;sa+=B;va+=ma;0>M&&(M=0);0>I&&(I=0);V>w&&(V=w);S>L&&(S=L);0>R&&(R=0);0>G&&(G=0);sa>w&&(sa=w);va>L&&(va=L);F.left=M/w;F.top=1-I/L;F.right=V/w;F.bottom=1-S/L}else F.left=J.left=0,F.top=J.top=0,F.right=J.right=1,F.bottom=J.bottom=1;ma=c&&(a.gi(f[0].Za)||0!==B||0!==ma||1!==c.opacity||c.type.za.hq)||e&&!c&&1!==e.opacity;
a.Tq();if(ma){r[N]||(r[N]=a.Dc(w,L,this.b.Da));if(r[N].cf!==w||r[N].bf!==L)a.deleteTexture(r[N]),r[N]=a.Dc(w,L,this.b.Da);a.lc(0);a.Zc(r[N]);H=va-G;a.clearRect(R,L-G-H,sa-R,H);c?c.Lb(a):(a.jc(this.b.eb),a.Ue(e.opacity),a.Yc(),a.translate(-y,-z),a.Mc(),a.Jd(M,S,V,S,V,I,M,I,F));J.left=J.top=0;J.right=J.bottom=1;c&&(v=F.top,F.top=F.bottom,F.bottom=v);N=1;W=0}a.Ue(1);B=f.length-1;var Ha=a.un(f[B].Za)||!e&&!c&&!this.b.Fc;k=v=0;for(u=f.length;k<u;k++){r[N]||(r[N]=a.Dc(w,L,this.b.Da));if(r[N].cf!==w||r[N].bf!==
L)a.deleteTexture(r[N]),r[N]=a.Dc(w,L,this.b.Da);a.lc(f[k].Za);v=f[k].index;a.qk(f[k].Za)&&(this.b.qa=!0);0!=k||ma?(a.Hg(b,1/w,1/L,J.left,J.top,J.right,J.bottom,g,p,h,l,(h+x)/2,(l+n)/2,this.b.yb.ca,c?c.Pa[v]:e?e.Pa[v]:this.Pa[v]),a.jc(null),k!==B||Ha?(a.Zc(r[N]),H=va-G,Q=L-G-H,a.clearRect(R,Q,sa-R,H)):(c?a.Te(c.Ob,c.Kb):e&&a.Te(e.Ob,e.Kb),a.Zc(b)),a.jc(r[W]),a.Yc(),a.translate(-y,-z),a.Mc(),a.Jd(M,S,V,S,V,I,M,I,F),k!==B||Ha||a.jc(null)):(a.Zc(r[N]),H=va-G,Q=L-G-H,a.clearRect(R,Q,sa-R,H),c?(c.sb&&
c.sb.N?(Q=c.sb.N,W=1/Q.width,Q=1/Q.height):(W=1/c.width,Q=1/c.height),a.Hg(b,W,Q,J.left,J.top,J.right,J.bottom,g,p,h,l,(h+x)/2,(l+n)/2,this.b.yb.ca,c.Pa[v]),c.Lb(a)):(a.Hg(b,1/w,1/L,0,0,1,1,g,p,h,l,(h+x)/2,(l+n)/2,this.b.yb.ca,e?e.Pa[v]:this.Pa[v]),a.jc(e?this.b.eb:this.b.Wa),a.Yc(),a.translate(-y,-z),a.Mc(),a.Jd(M,S,V,S,V,I,M,I,F)),J.left=J.top=0,J.right=J.bottom=1,c&&!Ha&&(v=S,S=I,I=v));N=0===N?1:0;W=0===N?1:0}Ha&&(a.lc(0),c?a.Te(c.Ob,c.Kb):e?a.Te(e.Ob,e.Kb):this.b.Fc||(a.If(this.b.width,this.b.height),
y=this.b.width/2,z=this.b.height/2,I=M=0,V=this.b.width,S=this.b.height),a.Zc(b),a.jc(r[W]),a.Yc(),a.translate(-y,-z),a.Mc(),c&&1===f.length&&!ma?a.Jd(M,I,V,I,V,S,M,S,F):a.Jd(M,S,V,S,V,I,M,I,F),a.jc(null))};b.prototype.wj=function(a){var e,c;e=0;for(c=this.T.length;e<c;e++)if(this.T[e].aa===a)return this.T[e];return null};b.prototype.Cb=function(){var a,e,c,b={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.$f,persist:this.Re,fx:[],layers:{}};a=0;for(e=this.S.length;a<
e;a++)c=this.S[a],b.fx.push({name:c.name,active:c.mb,params:this.Pa[c.index]});a=0;for(e=this.T.length;a<e;a++)c=this.T[a],b.layers[c.aa.toString()]=c.Cb();return b};b.prototype.Wb=function(a){var e,c,b,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.Re=a.persist;"undefined"!==typeof a.fv&&(this.$f=a.fv);var g=a.fx;e=0;for(c=g.length;e<c;e++)if(b=this.Vl(g[e].name))b.mb=g[e].active,this.Pa[b.index]=g[e].params;this.vd();e=a.layers;for(f in e)e.hasOwnProperty(f)&&
(a=this.wj(parseInt(f,10)))&&a.Wb(e[f])};Hb=b;g.prototype.vd=function(){T(this.fa);this.ke=!0;var a,e,c;a=0;for(e=this.S.length;a<e;a++)c=this.S[a],c.mb&&(this.fa.push(c),c.nd||(this.ke=!1))};g.prototype.Vl=function(a){var e,c,b;e=0;for(c=this.S.length;e<c;e++)if(b=this.S[e],b.name===a)return b;return null};g.prototype.jt=function(){var a,c,b,f,g,q;c=a=0;for(b=this.Hc.length;a<b;a++){f=this.Hc[a];g=this.b.A[f[1]];q=this.b.Wn(g);g=!0;if(!q||this.fb.$f){f=this.b.Be(f,this,!0);if(!f)continue;r.push(f);
f.type.global&&(g=!1,this.bh.push(f.uid))}g&&(this.Hc[c]=this.Hc[a],c++)}this.Hc.length=c;this.b.Db();!this.b.u&&this.S.length&&(this.Eb=this.Mt);this.Zg=ib(this.Eb);this.b.B&&jb(this,this.Eb,this.b.B);this.rd=!0};g.prototype.Fg=function(a,c){var b=Ba(this.d,a);0>b||(c&&this.Nc&&a.hc&&a.hc.right>=a.hc.left&&(a.xa(),this.Bb.update(a,a.hc,null),a.hc.set(0,0,-1,-1)),b===this.d.length-1?this.d.pop():(xa(this.d,b),this.oi(b)),this.rd=!0)};g.prototype.Wg=function(a,c){a.wd=this.d.length;this.d.push(a);
c&&this.Nc&&a.hc&&a.I();this.rd=!0};g.prototype.Vv=function(a){this.d.unshift(a);this.oi(0)};g.prototype.Cv=function(a,c,b){var f=a.Ed();c=c.Ed();xa(this.d,f);f<c&&c--;b&&c++;c===this.d.length?this.d.push(a):this.d.splice(c,0,a);this.oi(f<c?f:c)};g.prototype.oi=function(a){-1===this.re?this.re=a:a<this.re&&(this.re=a);this.rd=this.Nf=!0};g.prototype.Zn=function(){if(this.Nf){-1===this.re&&(this.re=0);var a,c,b;if(this.Nc)for(a=this.re,c=this.d.length;a<c;++a)b=this.d[a],b.wd=a,this.Bb.yv(b.hc);else for(a=
this.re,c=this.d.length;a<c;++a)this.d[a].wd=a;this.Nf=!1;this.re=-1}};g.prototype.$b=function(a){return this.Fu()*(this.b.Fc||a?this.b.Xg:1)};g.prototype.Fu=function(){return(this.scale*this.fb.scale-1)*this.Sb+1};g.prototype.bb=function(){return this.Vd?0:Ga(this.fb.i+this.i)};var a=[],f=[],u=[];g.prototype.Zl=function(){this.Zn();this.Bb.tk(this.la,this.ma,this.ta,this.ra,u);if(!u.length)return k();if(1===u.length){var a=k();za(a,u[0]);T(u);return a}for(var c=!0;1<u.length;){for(var a=u,b=void 0,
g=void 0,n=void 0,q=void 0,r=void 0,b=0,g=a.length;b<g-1;b+=2){var n=a[b],q=a[b+1],r=k(),h=n,l=q,x=r,C=0,D=0,K=0,O=h.length,B=l.length,v=void 0,N=void 0;for(x.length=O+B;C<O&&D<B;++K)v=h[C],N=l[D],v.wd<N.wd?(x[K]=v,++C):(x[K]=N,++D);for(;C<O;++C,++K)x[K]=h[C];for(;D<B;++D,++K)x[K]=l[D];c||(p(n),p(q));f.push(r)}1===g%2&&(c?(n=k(),za(n,a[g-1]),f.push(n)):f.push(a[g-1]));za(a,f);T(f);c=!1}a=u[0];T(u);return a};g.prototype.Ec=function(a){this.Kd=this.sj||1!==this.opacity||0!==this.Eb;var c=this.b.canvas,
b=a,f=!1;this.Kd&&(this.b.Nj||(this.b.Nj=document.createElement("canvas"),c=this.b.Nj,c.width=this.b.K,c.height=this.b.J,this.b.Jp=c.getContext("2d"),f=!0),c=this.b.Nj,b=this.b.Jp,c.width!==this.b.K&&(c.width=this.b.K,f=!0),c.height!==this.b.J&&(c.height=this.b.J,f=!0),f&&this.b.Ak(b,this.b.Da),this.ud&&b.clearRect(0,0,this.b.K,this.b.J));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.ud||(b.fillStyle="rgb("+this.ed[0]+","+this.ed[1]+","+this.ed[2]+")",b.fillRect(0,0,this.b.K,this.b.J));
b.save();this.Vd=!0;var f=this.$a(0,0,!0,!0),g=this.$a(0,0,!1,!0);this.Vd=!1;this.b.Kc&&(f=Math.round(f),g=Math.round(g));this.wk(f,g,b);var q=this.$b();b.scale(q,q);b.translate(-f,-g);this.Nc?(this.tb.left=this.Bb.Yb(this.la),this.tb.top=this.Bb.Zb(this.ma),this.tb.right=this.Bb.Yb(this.ta),this.tb.bottom=this.Bb.Zb(this.ra),this.rd||!this.tb.fh(this.rg)?(p(this.fe),f=this.Zl(),this.rd=!1,this.rg.$g(this.tb)):f=this.fe):f=this.d;for(var n,h=null,g=0,q=f.length;g<q;++g)n=f[g],n!==h&&(this.Ht(n,b),
h=n);this.Nc&&(this.fe=f);b.restore();this.Kd&&(a.globalCompositeOperation=this.Zg,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};g.prototype.Ht=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.xa();var b=a.Ba;b.right<this.la||b.bottom<this.ma||b.left>this.ta||b.top>this.ra||(c.globalCompositeOperation=a.Zg,a.Ec(c))}};g.prototype.Zk=function(){this.Vd=!0;var a=this.$a(0,0,!0,!0),c=this.$a(0,0,!1,!0);this.Vd=!1;this.b.Kc&&(a=Math.round(a),c=Math.round(c));this.wk(a,c,null)};g.prototype.wk=
function(a,c,b){var f=this.$b();this.la=a;this.ma=c;this.ta=a+1/f*this.b.K;this.ra=c+1/f*this.b.J;this.la>this.ta&&(a=this.la,this.la=this.ta,this.ta=a);this.ma>this.ra&&(a=this.ma,this.ma=this.ra,this.ra=a);a=this.bb();0!==a&&(b&&(b.translate(this.b.K/2,this.b.J/2),b.rotate(-a),b.translate(this.b.K/-2,this.b.J/-2)),this.ne.set(this.la,this.ma,this.ta,this.ra),this.ne.offset((this.la+this.ta)/-2,(this.ma+this.ra)/-2),this.tr.br(this.ne,a),this.tr.Io(this.ne),this.ne.offset((this.la+this.ta)/2,(this.ma+
this.ra)/2),this.la=this.ne.left,this.ma=this.ne.top,this.ta=this.ne.right,this.ra=this.ne.bottom)};g.prototype.ff=function(a){if(this.Kd=this.sj){this.b.eb||(this.b.eb=a.Dc(this.b.K,this.b.J,this.b.Da));if(this.b.eb.cf!==this.b.K||this.b.eb.bf!==this.b.J)a.deleteTexture(this.b.eb),this.b.eb=a.Dc(this.b.K,this.b.J,this.b.Da);a.Zc(this.b.eb)}this.Vd=!0;var c=this.$a(0,0,!0,!0),b=this.$a(0,0,!1,!0);this.Vd=!1;this.b.Kc&&(c=Math.round(c),b=Math.round(b));this.wk(c,b,null);c=this.$b();a.Yc();a.scale(c,
c);a.xk(-this.bb());a.translate((this.la+this.ta)/-2,(this.ma+this.ra)/-2);a.Mc();this.Nc?(this.tb.left=this.Bb.Yb(this.la),this.tb.top=this.Bb.Zb(this.ma),this.tb.right=this.Bb.Yb(this.ta),this.tb.bottom=this.Bb.Zb(this.ra),this.rd||!this.tb.fh(this.rg)?(p(this.fe),c=this.Zl(),this.rd=!1,this.rg.$g(this.tb)):c=this.fe):c=this.d;for(var f,g=null,b=c.length-1;0<=b;--b)f=c[b],f!==g&&(this.Jt(c[b],a),g=f);this.Nc&&(this.fe=c);this.ud||(this.Al=this.b.jf++,a.Bk(this.Al),a.Uq(1,1,1),a.ep(),a.fw())};g.prototype.Lb=
function(a){var c=0,b=0;if(this.Kd=this.sj||1!==this.opacity||0<this.fa.length||0!==this.Eb){this.b.eb||(this.b.eb=a.Dc(this.b.K,this.b.J,this.b.Da));if(this.b.eb.cf!==this.b.K||this.b.eb.bf!==this.b.J)a.deleteTexture(this.b.eb),this.b.eb=a.Dc(this.b.K,this.b.J,this.b.Da);a.Zc(this.b.eb);this.ud&&a.clear(0,0,0,0)}this.ud||(this.b.Ca?(a.Bk(this.Al),a.Uq(this.ed[0]/255,this.ed[1]/255,this.ed[2]/255),a.ep(),a.xw()):a.clear(this.ed[0]/255,this.ed[1]/255,this.ed[2]/255,1));this.Vd=!0;var f=this.$a(0,0,
!0,!0),c=this.$a(0,0,!1,!0);this.Vd=!1;this.b.Kc&&(f=Math.round(f),c=Math.round(c));this.wk(f,c,null);f=this.$b();a.Yc();a.scale(f,f);a.xk(-this.bb());a.translate((this.la+this.ta)/-2,(this.ma+this.ra)/-2);a.Mc();this.Nc?(this.tb.left=this.Bb.Yb(this.la),this.tb.top=this.Bb.Zb(this.ma),this.tb.right=this.Bb.Yb(this.ta),this.tb.bottom=this.Bb.Zb(this.ra),this.rd||!this.tb.fh(this.rg)?(p(this.fe),c=this.Zl(),this.rd=!1,this.rg.$g(this.tb)):c=this.fe):c=this.d;var g,q,n=null,b=0;for(g=c.length;b<g;++b)q=
c[b],q!==n&&(this.It(c[b],a),n=q);this.Nc&&(this.fe=c);this.Kd&&(c=this.fa.length?this.fa[0].Za:0,b=this.fa.length?this.fa[0].index:0,0===this.fa.length||1===this.fa.length&&!a.un(c)&&1===this.opacity?(1===this.fa.length?(a.lc(c),a.Hg(this.fb.nh(),1/this.b.K,1/this.b.J,0,0,1,1,f,this.bb(),this.la,this.ma,(this.la+this.ta)/2,(this.ma+this.ra)/2,this.b.yb.ca,this.Pa[b]),a.qk(c)&&(this.b.qa=!0)):a.lc(0),a.Zc(this.fb.nh()),a.Ue(this.opacity),a.jc(this.b.eb),a.Te(this.Ob,this.Kb),a.Yc(),a.Mc(),f=this.b.K/
2,c=this.b.J/2,a.Eg(-f,c,f,c,f,-c,-f,-c),a.jc(null)):this.fb.yn(a,this,null,this.fb.nh()))};g.prototype.It=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.xa();var b=a.Ba;b.right<this.la||b.bottom<this.ma||b.left>this.ta||b.top>this.ra||(c.Bk(a.jf),a.Kr?this.Kt(a,c):(c.lc(0),c.Te(a.Ob,a.Kb),a.Lb(c)))}};g.prototype.Jt=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.xa();var b=a.Ba;b.right<this.la||b.bottom<this.ma||b.left>this.ta||b.top>this.ra||(a.jf=this.b.jf++,0===a.Eb&&1===a.opacity&&
a.ke&&a.ff&&(c.Bk(a.jf),a.ff(c)))}};g.prototype.Kt=function(a,c){var b=a.fa[0].Za,f=a.fa[0].index,g=this.$b();if(1!==a.fa.length||c.un(b)||c.Xv(b)||(a.i||a.k.bb())&&c.gi(b)||1!==a.opacity||a.type.za.hq)this.fb.yn(c,this,a,this.Kd?this.b.eb:this.fb.nh()),c.Yc(),c.scale(g,g),c.xk(-this.bb()),c.translate((this.la+this.ta)/-2,(this.ma+this.ra)/-2),c.Mc();else{c.lc(b);c.Te(a.Ob,a.Kb);c.qk(b)&&(this.b.qa=!0);var q=0,p=0,h=0,l=0;c.gi(b)&&(l=a.Ba,q=this.La(l.left,l.top,!0,!0),p=this.La(l.left,l.top,!1,!0),
h=this.La(l.right,l.bottom,!0,!0),l=this.La(l.right,l.bottom,!1,!0),q=q/windowWidth,p=1-p/windowHeight,h=h/windowWidth,l=1-l/windowHeight);var x;a.sb&&a.sb.N?(x=a.sb.N,b=1/x.width,x=1/x.height):(b=1/a.width,x=1/a.height);c.Hg(this.Kd?this.b.eb:this.fb.nh(),b,x,q,p,h,l,g,this.bb(),this.la,this.ma,(this.la+this.ta)/2,(this.ma+this.ra)/2,this.b.yb.ca,a.Pa[f]);a.Lb(c)}};g.prototype.$a=function(a,c,b,f){var g=this.b.devicePixelRatio;this.b.uf&&(a*=g,c*=g);var g=this.b.Dq,q=this.b.Eq,g=(this.fb.scrollX-
g)*this.ec+g,q=(this.fb.scrollY-q)*this.fc+q,p=g,h=q,l=1/this.$b(!f);f?(p-=this.b.K*l/2,h-=this.b.J*l/2):(p-=this.b.width*l/2,h-=this.b.height*l/2);p+=a*l;h+=c*l;c=this.bb();0!==c&&(p-=g,h-=q,a=Math.cos(c),c=Math.sin(c),f=p*a-h*c,h=h*a+p*c,p=f+g,h+=q);return b?p:h};g.prototype.La=function(a,c,b,f){var g=this.b.Dq,q=this.b.Eq,p=(this.fb.scrollX-g)*this.ec+g,h=(this.fb.scrollY-q)*this.fc+q,q=p,g=h,l=this.bb();if(0!==l){a-=p;c-=h;var x=Math.cos(-l),l=Math.sin(-l),n=a*x-c*l;c=c*x+a*l;a=n+p;c+=h}p=1/this.$b(!f);
f?(q-=this.b.K*p/2,g-=this.b.J*p/2):(q-=this.b.width*p/2,g-=this.b.height*p/2);q=(a-q)/p;g=(c-g)/p;a=this.b.devicePixelRatio;this.b.uf&&!f&&(q/=a,g/=a);return b?q:g};g.prototype.Cb=function(){var a,c,b,f={s:this.scale,a:this.i,vl:this.la,vt:this.ma,vr:this.ta,vb:this.ra,v:this.visible,bc:this.ed,t:this.ud,px:this.ec,py:this.fc,o:this.opacity,zr:this.Sb,fx:[],cg:this.bh,instances:[]};a=0;for(c=this.S.length;a<c;a++)b=this.S[a],f.fx.push({name:b.name,active:b.mb,params:this.Pa[b.index]});return f};
g.prototype.Wb=function(a){var c,b,f;this.scale=a.s;this.i=a.a;this.la=a.vl;this.ma=a.vt;this.ta=a.vr;this.ra=a.vb;this.visible=a.v;this.ed=a.bc;this.ud=a.t;this.ec=a.px;this.fc=a.py;this.opacity=a.o;this.Sb=a.zr;this.bh=a.cg||[];za(this.Hc,this.lr);var g=new ba;c=0;for(f=this.bh.length;c<f;++c)g.add(this.bh[c]);b=c=0;for(f=this.Hc.length;c<f;++c)g.contains(this.Hc[c][2])||(this.Hc[b]=this.Hc[c],++b);ya(this.Hc,b);b=a.fx;c=0;for(f=b.length;c<f;c++)if(a=this.Vl(b[c].name))a.mb=b[c].active,this.Pa[a.index]=
b[c].params;this.vd();this.d.sort(n);this.Nf=!0};Vb=g})();
(function(){function b(a,c){var b,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<d;b++)if(a[b]!==c[b])return!1;return!0}}function n(a,c){return a.index-c.index}function g(a){var c,d,e,f;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(n);a.length>=E.length&&(E.length=a.length+1);E[a.length]||(E[a.length]=[]);f=E[a.length];c=0;for(d=f.length;c<d;c++)if(e=f[c],b(a,e))return e;f.push(a);return a}
function k(a,c){this.b=a;this.Br={};this.Yo={};this.hm=!1;this.rp=new ba;this.Gl=[];this.nl=[];this.name=c[0];var b=c[1];this.De=[];var d,e;d=0;for(e=b.length;d<e;d++)this.tp(b[d],null,this.De)}function p(a){this.type=a;this.d=[];this.X=[];this.wa=!0}function r(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.Ma=[];this.Ve=[];this.pp=this.Rk=this.Sn=this.om=this.group=this.jr=!1;this.ob=[];this.Oc=[];this.$c=[];this.qh="";this.ph=this.om=this.group=!1;this.$i=null;b[1]&&(this.qh=b[1][1].toLowerCase(),
this.group=!0,this.om=!!b[1][0],this.$i=[],this.ph=this.om,this.b.Rf.push(this),this.b.zj[this.qh]=this);this.Xc=b[2];this.aa=b[4];this.group||(this.b.Ho[this.aa.toString()]=this);var d=b[5];a=0;for(c=d.length;a<c;a++){var e=new Wb(this,d[a]);e.index=a;this.ob.push(e);this.Co(e.type)}d=b[6];a=0;for(c=d.length;a<c;a++)e=new Xb(this,d[a]),e.index=a,this.Oc.push(e);if(8===b.length)for(b=b[7],a=0,c=b.length;a<c;a++)this.sheet.tp(b[a],this,this.$c);this.Jj=!1;this.ob.length&&(this.Jj=null==this.ob[0].type&&
this.ob[0].ub==X.prototype.n.Wr)}function c(a,c){var b,d,e;if(a&&(-1===c.indexOf(a)&&c.push(a),a.rc))for(b=0,d=a.nc.length;b<d;b++)e=a.nc[b],a!==e&&-1===c.indexOf(e)&&c.push(e)}function a(a,c){this.Cc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Qa=[];this.M={};this.index=-1;this.Ug=!1;this.ub=this.b.te(c[1]);this.trigger=0<c[3];this.Xo=2===c[3];this.Fd=c[4];this.vm=c[5];this.vv=c[6];this.aa=c[7];this.b.ze[this.aa.toString()]=this;-1===c[0]?(this.type=null,this.Ya=this.Cn,this.$e=null,this.fd=-1):
(this.type=this.b.A[c[0]],this.Ya=this.vv?this.mw:this.Bn,c[2]?(this.$e=this.type.vj(c[2]),this.fd=this.type.Tl(c[2])):(this.$e=null,this.fd=-1),this.Cc.parent&&this.Cc.parent.Ck());this.Xo&&(this.Ya=this.ow);if(10===c.length){var b,d,e=c[9];b=0;for(d=e.length;b<d;b++){var f=new Yb(this,e[b]);this.W.push(f)}this.Qa.length=e.length}}function f(a,c){this.Cc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Qa=[];this.M={};this.index=-1;this.Ug=!1;this.ub=this.b.te(c[1]);-1===c[0]?(this.type=null,this.Ya=
this.Cn,this.$e=null,this.fd=-1):(this.type=this.b.A[c[0]],this.Ya=this.Bn,c[2]?(this.$e=this.type.vj(c[2]),this.fd=this.type.Tl(c[2])):(this.$e=null,this.fd=-1));this.aa=c[3];this.b.ve[this.aa.toString()]=this;if(6===c.length){var b,d,e=c[5];b=0;for(d=e.length;b<d;b++){var f=new Yb(this,e[b]);this.W.push(f)}this.Qa.length=e.length}}function u(){P++;q.length===P&&q.push(new Zb);return q[P]}function d(a,c){this.Ea=a;this.Cc=a.Cc;this.sheet=a.sheet;this.b=a.b;this.type=c[0];this.Cd=null;this.le=0;this.get=
null;this.No=0;this.fb=null;this.key=0;this.object=null;this.index=0;this.Gi=this.Jf=this.Gi=this.Jf=this.cp=this.lf=this.Hi=null;this.cd=!1;var b,d,e;switch(c[0]){case 0:case 7:this.Cd=new $b(this,c[1]);this.le=0;this.get=this.Qu;break;case 1:this.Cd=new $b(this,c[1]);this.le=0;this.get=this.Ru;break;case 5:this.Cd=new $b(this,c[1]);this.le=0;this.get=this.Vu;break;case 3:case 8:this.No=c[1];this.get=this.Ou;break;case 6:this.fb=this.b.Mm[c[1]];this.get=this.Wu;break;case 9:this.key=c[1];this.get=
this.Uu;break;case 4:this.object=this.b.A[c[1]];this.get=this.Xu;this.Cc.Co(this.object);this.Ea instanceof Xb?this.Cc.Ck():this.Cc.parent&&this.Cc.parent.Ck();break;case 10:this.index=c[1];a.type&&a.type.G?(this.get=this.Su,this.cd=!0):this.get=this.Tu;break;case 11:this.Hi=c[1];this.lf=null;this.get=this.Pu;break;case 2:case 12:this.cp=c[1];this.get=this.Nu;break;case 13:for(this.get=this.Yu,this.Jf=[],this.Gi=[],b=1,d=c.length;b<d;b++)e=new Yb(this.Ea,c[b]),this.Jf.push(e),this.Gi.push(0)}}function e(a,
c,b){this.sheet=a;this.parent=c;this.b=a.b;this.Ma=[];this.name=b[1];this.Mr=b[2];this.nm=b[3];this.Gh=!!b[4];this.Ij=!!b[5];this.aa=b[6];this.b.Sg[this.aa.toString()]=this;this.data=this.nm;this.parent?(this.Cf=this.Gh||this.Ij?-1:this.b.Cw++,this.b.Ts.push(this)):(this.Cf=-1,this.b.Ss.push(this))}function t(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.Ma=[];this.sh=null;this.gv=b[1];this.mb=!0}function m(){this.nr=[];this.reset(null)}var E=[];k.prototype.toString=function(){return this.name};
k.prototype.tp=function(a,c,b){switch(a[0]){case 0:a=new ac(this,c,a);if(a.Xc)for(b.push(a),b=0,c=a.ob.length;b<c;b++)a.ob[b].trigger&&this.up(a,b);else a.Dp()?this.up(a,0):b.push(a);break;case 1:a=new Sb(this,c,a);b.push(a);break;case 2:a=new bc(this,c,a),b.push(a)}};k.prototype.Ua=function(){var a,c;a=0;for(c=this.De.length;a<c;a++)this.De[a].Ua(a<c-1&&this.De[a+1].Jj)};k.prototype.Xn=function(){T(this.Gl);T(this.nl);this.Bo(this);T(this.nl)};k.prototype.Bo=function(a){var c,b,d,e,f=a.Gl,g=a.nl,
m=this.rp.Xe();c=0;for(b=m.length;c<b;++c)d=m[c],e=d.sh,!d.mb||a===e||-1<g.indexOf(e)||(g.push(e),e.Bo(a),f.push(e))};k.prototype.Ya=function(a){this.b.ry||(this.hm=!0,a||(this.b.Am=!0));var c,b;c=0;for(b=this.De.length;c<b;c++){var d=this.De[c];d.Ya();this.b.zl(d.Ma);this.b.Ge&&this.b.Db()}a||(this.b.Am=!1)};k.prototype.up=function(a,c){a.Xc||this.b.Vk.push(a);var b,d,e=a.ob[c],f;e.type?f=e.type.name:f="system";var g=(b=e.Xo)?this.Yo:this.Br;g[f]||(g[f]=[]);f=g[f];g=e.ub;if(b){if(e.W.length&&(e=
e.W[0],1===e.type&&2===e.Cd.type)){e=e.Cd.value.toLowerCase();b=0;for(d=f.length;b<d;b++)if(f[b].method==g){b=f[b].hh;b[e]?b[e].push([a,c]):b[e]=[[a,c]];return}b={};b[e]=[[a,c]];f.push({method:g,hh:b})}}else{b=0;for(d=f.length;b<d;b++)if(f[b].method==g){f[b].hh.push([a,c]);return}oc&&g===oc.prototype.n.Qf?f.unshift({method:g,hh:[[a,c]]}):f.push({method:g,hh:[[a,c]]})}};Ib=k;p.prototype.gm=function(){return this.wa?this.type.d.length:this.d.length};p.prototype.pc=function(){return this.wa?this.type.d:
this.d};p.prototype.Cg=function(a){a&&(a.b.wb().oc.Xc?(this.wa&&(T(this.d),za(this.X,a.type.d),this.wa=!1),a=this.X.indexOf(a),-1!==a&&(this.d.push(this.X[a]),this.X.splice(a,1))):(this.wa=!1,T(this.d),this.d[0]=a))};qb=p;window._c2hh_="ADB18A574F0943D84AE2EABA4880551CA6193B49";r.prototype.Ua=function(a){var c,b=this.parent;if(this.group)for(this.Rk=!0;b;){if(!b.group){this.Rk=!1;break}b=b.parent}this.Sn=!this.Dp()&&(!this.parent||this.parent.group&&this.parent.Rk);this.pp=!!a;this.Ve=this.Ma.slice(0);
for(b=this.parent;b;){a=0;for(c=b.Ma.length;a<c;a++)this.Ps(b.Ma[a]);b=b.parent}this.Ma=g(this.Ma);this.Ve=g(this.Ve);a=0;for(c=this.ob.length;a<c;a++)this.ob[a].Ua();a=0;for(c=this.Oc.length;a<c;a++)this.Oc[a].Ua();a=0;for(c=this.$c.length;a<c;a++)this.$c[a].Ua(a<c-1&&this.$c[a+1].Jj)};r.prototype.sw=function(a){if(this.ph!==!!a){this.ph=!!a;var c;a=0;for(c=this.$i.length;a<c;++a)this.$i[a].Gr();0<c&&this.b.ua.kf&&this.b.ua.kf.Xn()}};r.prototype.Co=function(a){c(a,this.Ma)};r.prototype.Ps=function(a){c(a,
this.Ve)};r.prototype.Ck=function(){this.jr=!0;this.parent&&this.parent.Ck()};r.prototype.Dp=function(){return this.ob.length?this.ob[0].trigger:!1};r.prototype.Ya=function(){var a,c,b=!1,d=this.b,e=this.b.wb();e.oc=this;var f=this.ob;this.Jj||(e.Il=!1);if(this.Xc){0===f.length&&(b=!0);e.nb=0;for(a=f.length;e.nb<a;e.nb++)c=f[e.nb],c.trigger||(c=c.Ya())&&(b=!0);(e.wf=b)&&this.yk()}else{e.nb=0;for(a=f.length;e.nb<a;e.nb++)if(c=f[e.nb].Ya(),!c){e.wf=!1;this.Sn&&d.Ge&&d.Db();return}e.wf=!0;this.yk()}this.Ot(e)};
r.prototype.Ot=function(a){a.wf&&this.pp&&(a.Il=!0);this.Sn&&this.b.Ge&&this.b.Db()};r.prototype.kw=function(a){this.b.wb().oc=this;this.ob[a].Ya()&&(this.yk(),this.b.wb().wf=!0)};r.prototype.yk=function(){var a=this.b.wb(),c;a.Bc=0;for(c=this.Oc.length;a.Bc<c;a.Bc++)if(this.Oc[a.Bc].Ya())return;this.Pq()};r.prototype.hw=function(){var a=this.b.wb(),c;for(c=this.Oc.length;a.Bc<c;a.Bc++)if(this.Oc[a.Bc].Ya())return;this.Pq()};r.prototype.Pq=function(){if(this.$c.length){var a,c,b,d,e=this.$c.length-
1;this.b.sk(this);if(this.jr)for(a=0,c=this.$c.length;a<c;a++)b=this.$c[a],(d=!this.Rk||!this.group&&a<e)&&this.b.rk(b.Ma),b.Ya(),d?this.b.Hf(b.Ma):this.b.zl(b.Ma);else for(a=0,c=this.$c.length;a<c;a++)this.$c[a].Ya();this.b.mk()}};r.prototype.lw=function(){var a=this.b.wb();a.oc=this;var c=!1,b;a.nb=0;for(b=this.ob.length;a.nb<b;a.nb++)if(this.ob[a.nb].Ya())c=!0;else if(!this.Xc)return!1;return this.Xc?c:!0};r.prototype.iw=function(){this.b.mf++;var a=this.b.wb().nb,c=this.b.sk(this);if(!this.Xc)for(c.nb=
a+1,a=this.ob.length;c.nb<a;c.nb++)if(!this.ob[c.nb].Ya()){this.b.mk();return}this.yk();this.b.mk()};r.prototype.ov=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=c;--c)if(this.ob[c].type===a.type)return!1;return!0};ac=r;a.prototype.Ua=function(){var a,c,b;a=0;for(c=this.W.length;a<c;a++)b=this.W[a],b.Ua(),b.cd&&(this.Ug=!0)};a.prototype.ow=function(){return!0};a.prototype.Cn=function(){var a,c;a=0;for(c=this.W.length;a<c;a++)this.Qa[a]=this.W[a].get();return Xa(this.ub.apply(this.b.Md,this.Qa),
this.vm)};a.prototype.mw=function(){var a,c;a=0;for(c=this.W.length;a<c;a++)this.Qa[a]=this.W[a].get();a=this.ub.apply(this.$e?this.$e:this.type,this.Qa);this.type.Pc();return a};a.prototype.Bn=function(){var a,c,b,d,e,f,g,m,q=this.type,p=q.da(),n=this.Cc.Xc&&!this.trigger;c=0;var r=q.rc,k=q.G,u=q.Yd,t=this.fd,E=-1<t,P=this.Ug,F=this.W,J=this.Qa,M=this.vm,R=this.ub,I;if(P)for(c=0,e=F.length;c<e;++c)f=F[c],f.cd||(J[c]=f.get(0));else for(c=0,e=F.length;c<e;++c)J[c]=F[c].get(0);if(p.wa){T(p.d);T(p.X);
I=q.d;a=0;for(d=I.length;a<d;++a){m=I[a];if(P)for(c=0,e=F.length;c<e;++c)f=F[c],f.cd&&(J[c]=f.get(a));E?(c=0,k&&(c=m.type.Zf[u]),c=R.apply(m.R[t+c],J)):c=R.apply(m,J);(g=Xa(c,M))?p.d.push(m):n&&p.X.push(m)}q.finish&&q.finish(!0);p.wa=!1;q.Pc();return p.gm()}b=0;I=(g=n&&!this.Cc.ov(this))?p.X:p.d;var G=!1;a=0;for(d=I.length;a<d;++a){m=I[a];if(P)for(c=0,e=F.length;c<e;++c)f=F[c],f.cd&&(J[c]=f.get(a));E?(c=0,k&&(c=m.type.Zf[u]),c=R.apply(m.R[t+c],J)):c=R.apply(m,J);if(Xa(c,M))if(G=!0,g){if(p.d.push(m),
r)for(c=0,e=m.siblings.length;c<e;c++)f=m.siblings[c],f.type.da().d.push(f)}else{I[b]=m;if(r)for(c=0,e=m.siblings.length;c<e;c++)f=m.siblings[c],f.type.da().d[b]=f;b++}else if(g){I[b]=m;if(r)for(c=0,e=m.siblings.length;c<e;c++)f=m.siblings[c],f.type.da().X[b]=f;b++}else if(n&&(p.X.push(m),r))for(c=0,e=m.siblings.length;c<e;c++)f=m.siblings[c],f.type.da().X.push(f)}ya(I,b);if(r)for(k=q.nc,a=0,d=k.length;a<d;a++)m=k[a].da(),g?ya(m.X,b):ya(m.d,b);b=G;if(g&&!G)for(a=0,d=p.d.length;a<d;a++){m=p.d[a];if(P)for(c=
0,e=F.length;c<e;c++)f=F[c],f.cd&&(J[c]=f.get(a));c=E?R.apply(m.R[t],J):R.apply(m,J);if(Xa(c,M)){G=!0;break}}q.finish&&q.finish(b||n);return n?G:p.gm()};Wb=a;f.prototype.Ua=function(){var a,c,b;a=0;for(c=this.W.length;a<c;a++)b=this.W[a],b.Ua(),b.cd&&(this.Ug=!0)};f.prototype.Cn=function(){var a=this.b,c,b,d=this.W,e=this.Qa;c=0;for(b=d.length;c<b;++c)e[c]=d[c].get();return this.ub.apply(a.Md,e)};f.prototype.Bn=function(){var a=this.type,c=this.fd,b=a.Yd,d=this.Ug,e=this.W,f=this.Qa,g=this.ub,m=a.da().pc(),
a=a.G,q=-1<c,p,n,r,k,u,t;if(d)for(n=0,k=e.length;n<k;++n)u=e[n],u.cd||(f[n]=u.get(0));else for(n=0,k=e.length;n<k;++n)f[n]=e[n].get(0);p=0;for(r=m.length;p<r;++p){t=m[p];if(d)for(n=0,k=e.length;n<k;++n)u=e[n],u.cd&&(f[n]=u.get(p));q?(n=0,a&&(n=t.type.Zf[b]),g.apply(t.R[c+n],f)):g.apply(t,f)}return!1};Xb=f;var q=[],P=-1;d.prototype.Ua=function(){var a,c;if(11===this.type)this.lf=this.b.kp(this.Hi,this.Cc.parent);else if(13===this.type)for(a=0,c=this.Jf.length;a<c;a++)this.Jf[a].Ua();this.Cd&&this.Cd.Ua()};
d.prototype.Av=function(a){this.cd||!a||a.za.Ek||(this.cd=!0)};d.prototype.Zq=function(){this.cd=!0};d.prototype.Qu=function(a){this.le=a||0;a=u();this.Cd.get(a);P--;return a.data};d.prototype.Ru=function(a){this.le=a||0;a=u();this.Cd.get(a);P--;return ha(a.data)?a.data:""};d.prototype.Xu=function(){return this.object};d.prototype.Ou=function(){return this.No};d.prototype.Vu=function(a){this.le=a||0;a=u();this.Cd.get(a);P--;return a.pb()?this.b.$d(a.data):this.b.lh(a.data)};d.prototype.Wu=function(){return this.fb};
d.prototype.Uu=function(){return this.key};d.prototype.Tu=function(){return this.index};d.prototype.Su=function(a){a=a||0;var c=this.Ea.type,b=null,b=c.da(),d=b.pc();if(d.length)b=d[a%d.length].type;else if(b.X.length)b=b.X[a%b.X.length].type;else if(c.d.length)b=c.d[a%c.d.length].type;else return 0;return this.index+b.mj[c.Yd]};d.prototype.Pu=function(){return this.lf};d.prototype.Nu=function(){return this.cp};d.prototype.Yu=function(){var a,c;a=0;for(c=this.Jf.length;a<c;a++)this.Gi[a]=this.Jf[a].get();
return this.Gi};Yb=d;e.prototype.Ua=function(){this.Ma=g(this.Ma)};e.prototype.Dk=function(a){var c=this.b.jp();this.parent&&!this.Gh&&c?(this.Cf>=c.length&&(c.length=this.Cf+1),c[this.Cf]=a):this.data=a};e.prototype.yj=function(){var a=this.b.jp();return!this.parent||this.Gh||!a||this.Ij?this.data:this.Cf>=a.length||"undefined"===typeof a[this.Cf]?this.nm:a[this.Cf]};e.prototype.Ya=function(){!this.parent||this.Gh||this.Ij||this.Dk(this.nm)};Sb=e;t.prototype.toString=function(){return"include:"+
this.sh.toString()};t.prototype.Ua=function(){this.sh=this.b.Kl[this.gv];this.sheet.rp.add(this);this.Ma=g(this.Ma);for(var a=this.parent;a;)a.group&&a.$i.push(this),a=a.parent;this.Gr()};t.prototype.Ya=function(){this.parent&&this.b.ii(this.b.A);this.sh.hm||this.sh.Ya(!0);this.parent&&this.b.Hf(this.b.A)};t.prototype.Gr=function(){for(var a=this.parent;a;){if(a.group&&!a.ph){this.mb=!1;return}a=a.parent}this.mb=!0};bc=t;m.prototype.reset=function(a){this.oc=a;this.Bc=this.nb=0;T(this.nr);this.Il=
this.wf=!1};Rb=m})();
(function(){function b(c,a){this.Ea=c;this.b=c.b;this.type=a[0];this.get=[this.fu,this.bu,this.ou,this.ru,this.Rt,this.pu,this.ju,this.Zt,this.iu,this.nu,this.St,this.mu,this.$t,this.ku,this.gu,this.hu,this.cu,this.du,this.Yt,this.qu,this.lu,this.eu,this.Xt,this.au][this.type];var b=null;this.ge=this.W=this.Qa=this.ub=this.Qk=this.second=this.first=this.value=null;this.fd=-1;this.hd=null;this.Lr=-1;this.lf=this.Hi=null;this.Gg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new $b(c,a[1]);break;case 18:this.first=new $b(c,a[1]);this.second=new $b(c,a[2]);this.Qk=new $b(c,a[3]);break;case 19:this.ub=this.b.te(a[1]);this.ub!==X.prototype.Sa.random&&this.ub!==X.prototype.Sa.et||this.Ea.Zq();this.Qa=[];this.W=[];3===a.length?(b=a[2],this.Qa.length=b.length+1):this.Qa.length=1;break;case 20:this.ge=this.b.A[a[1]];this.fd=-1;this.ub=this.b.te(a[2]);this.Gg=a[3];ec.Function&&this.ub===ec.Function.prototype.Sa.Yw&&this.Ea.Zq();a[4]?this.hd=new $b(c,a[4]):this.hd=null;this.Qa=
[];this.W=[];6===a.length?(b=a[5],this.Qa.length=b.length+1):this.Qa.length=1;break;case 21:this.ge=this.b.A[a[1]];this.Gg=a[2];a[3]?this.hd=new $b(c,a[3]):this.hd=null;this.Lr=a[4];break;case 22:this.ge=this.b.A[a[1]];this.ge.vj(a[2]);this.fd=this.ge.Tl(a[2]);this.ub=this.b.te(a[3]);this.Gg=a[4];a[5]?this.hd=new $b(c,a[5]):this.hd=null;this.Qa=[];this.W=[];7===a.length?(b=a[6],this.Qa.length=b.length+1):this.Qa.length=1;break;case 23:this.Hi=a[1],this.lf=null}this.Ea.Av(this.ge);4<=this.type&&17>=
this.type&&(this.first=new $b(c,a[1]),this.second=new $b(c,a[2]));if(b){var g,d;g=0;for(d=b.length;g<d;g++)this.W.push(new $b(c,b[g]))}}function n(){++r;p.length===r&&p.push(new Zb);return p[r]}function g(c,a,b){var g,d;g=0;for(d=c.length;g<d;++g)c[g].get(b),a[g+1]=b.data}function k(c,a){this.type=c||cc.Pf;this.data=a||0;this.Ef=null;this.type==cc.Pf&&(this.data=Math.floor(this.data))}b.prototype.Ua=function(){23===this.type&&(this.lf=this.Ea.b.kp(this.Hi,this.Ea.Cc.parent));this.first&&this.first.Ua();
this.second&&this.second.Ua();this.Qk&&this.Qk.Ua();this.hd&&this.hd.Ua();if(this.W){var c,a;c=0;for(a=this.W.length;c<a;c++)this.W[c].Ua()}};var p=[],r=-1;b.prototype.qu=function(c){var a=this.W,b=this.Qa;b[0]=c;c=n();g(a,b,c);--r;this.ub.apply(this.b.Md,b)};b.prototype.lu=function(c){var a=this.ge,b=this.Qa,p=this.W,d=this.hd,e=this.ub,k=this.Ea.le,m=a.da(),E=m.pc();if(!E.length)if(m.X.length)E=m.X;else{this.Gg?c.yc(""):c.Fa(0);return}b[0]=c;c.Ef=a;c=n();g(p,b,c);d&&(d.get(c),c.pb()&&(k=c.data,
E=a.d));--r;a=E.length;if(k>=a||k<=-a)k%=a;0>k&&(k+=a);e.apply(E[k],b)};b.prototype.Xt=function(c){var a=this.ge,b=this.Qa,p=this.W,d=this.hd,e=this.fd,k=this.ub,m=this.Ea.le,E=a.da(),q=E.pc();if(!q.length)if(E.X.length)q=E.X;else{this.Gg?c.yc(""):c.Fa(0);return}b[0]=c;c.Ef=a;c=n();g(p,b,c);d&&(d.get(c),c.pb()&&(m=c.data,q=a.d));--r;p=q.length;if(m>=p||m<=-p)m%=p;0>m&&(m+=p);m=q[m];q=0;a.G&&(q=m.type.Zf[a.Yd]);k.apply(m.R[e+q],b)};b.prototype.eu=function(c){var a=this.hd,b=this.ge,g=this.Lr,d=this.Ea.le,
e=b.da(),p=e.pc();if(!p.length)if(e.X.length)p=e.X;else{this.Gg?c.yc(""):c.Fa(0);return}if(a){e=n();a.get(e);if(e.pb()){d=e.data;p=b.d;0!==p.length&&(d%=p.length,0>d&&(d+=p.length));d=b.Xl(d);b=d.cb[g];ha(b)?c.yc(b):c.C(b);--r;return}--r}a=p.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=p[d];p=0;b.G&&(p=d.type.mj[b.Yd]);b=d.cb[g+p];ha(b)?c.yc(b):c.C(b)};b.prototype.fu=function(c){c.type=cc.Pf;c.data=this.value};b.prototype.bu=function(c){c.type=cc.Of;c.data=this.value};b.prototype.ou=function(c){c.type=
cc.String;c.data=this.value};b.prototype.ru=function(c){this.first.get(c);c.pb()&&(c.data=-c.data)};b.prototype.Rt=function(c){this.first.get(c);var a=n();this.second.get(a);c.pb()&&a.pb()&&(c.data+=a.data,a.ig()&&c.vg());--r};b.prototype.pu=function(c){this.first.get(c);var a=n();this.second.get(a);c.pb()&&a.pb()&&(c.data-=a.data,a.ig()&&c.vg());--r};b.prototype.ju=function(c){this.first.get(c);var a=n();this.second.get(a);c.pb()&&a.pb()&&(c.data*=a.data,a.ig()&&c.vg());--r};b.prototype.Zt=function(c){this.first.get(c);
var a=n();this.second.get(a);c.pb()&&a.pb()&&(c.data/=a.data,c.vg());--r};b.prototype.iu=function(c){this.first.get(c);var a=n();this.second.get(a);c.pb()&&a.pb()&&(c.data%=a.data,a.ig()&&c.vg());--r};b.prototype.nu=function(c){this.first.get(c);var a=n();this.second.get(a);c.pb()&&a.pb()&&(c.data=Math.pow(c.data,a.data),a.ig()&&c.vg());--r};b.prototype.St=function(c){this.first.get(c);var a=n();this.second.get(a);a.lg()||c.lg()?this.Ut(c,a):this.Tt(c,a);--r};b.prototype.Ut=function(c,a){c.lg()&&
a.lg()?this.Wt(c,a):this.Vt(c,a)};b.prototype.Wt=function(c,a){c.data+=a.data};b.prototype.Vt=function(c,a){c.lg()?c.data+=(Math.round(1E10*a.data)/1E10).toString():c.yc(c.data.toString()+a.data)};b.prototype.Tt=function(c,a){c.Fa(c.data&&a.data?1:0)};b.prototype.mu=function(c){this.first.get(c);var a=n();this.second.get(a);c.pb()&&a.pb()&&(c.data||a.data?c.Fa(1):c.Fa(0));--r};b.prototype.Yt=function(c){this.first.get(c);c.data?this.second.get(c):this.Qk.get(c)};b.prototype.$t=function(c){this.first.get(c);
var a=n();this.second.get(a);c.Fa(c.data===a.data?1:0);--r};b.prototype.ku=function(c){this.first.get(c);var a=n();this.second.get(a);c.Fa(c.data!==a.data?1:0);--r};b.prototype.gu=function(c){this.first.get(c);var a=n();this.second.get(a);c.Fa(c.data<a.data?1:0);--r};b.prototype.hu=function(c){this.first.get(c);var a=n();this.second.get(a);c.Fa(c.data<=a.data?1:0);--r};b.prototype.cu=function(c){this.first.get(c);var a=n();this.second.get(a);c.Fa(c.data>a.data?1:0);--r};b.prototype.du=function(c){this.first.get(c);
var a=n();this.second.get(a);c.Fa(c.data>=a.data?1:0);--r};b.prototype.au=function(c){var a=this.lf.yj();ga(a)?c.C(a):c.yc(a)};$b=b;k.prototype.ig=function(){return this.type===cc.Of};k.prototype.pb=function(){return this.type===cc.Pf||this.type===cc.Of};k.prototype.lg=function(){return this.type===cc.String};k.prototype.vg=function(){this.ig()||(this.lg()&&(this.data=parseFloat(this.data)),this.type=cc.Of)};k.prototype.Fa=function(c){this.type=cc.Pf;this.data=Math.floor(c)};k.prototype.C=function(c){this.type=
cc.Of;this.data=c};k.prototype.yc=function(c){this.type=cc.String;this.data=c};k.prototype.yw=function(c){ga(c)?(this.type=cc.Of,this.data=c):ha(c)?(this.type=cc.String,this.data=c.toString()):(this.type=cc.Pf,this.data=0)};Zb=k;cc={Pf:0,Of:1,String:2}})();function X(b){this.b=b;this.Ac=[]}
X.prototype.Cb=function(){var b={},n,g,k,p,r,c,a,f;b.waits=[];var u=b.waits,d;n=0;for(g=this.Ac.length;n<g;n++){c=this.Ac[n];d={t:c.time,st:c.Aw,s:c.fr,ev:c.gh.aa,sm:[],sols:{}};c.gh.Oc[c.Bc]&&(d.act=c.gh.Oc[c.Bc].aa);k=0;for(p=c.Ma.length;k<p;k++)d.sm.push(c.Ma[k].aa);for(r in c.zc)if(c.zc.hasOwnProperty(r)){a=this.b.A[parseInt(r,10)];f={sa:c.zc[r].Qq,insts:[]};k=0;for(p=c.zc[r].tf.length;k<p;k++)f.insts.push(c.zc[r].tf[k].uid);d.sols[a.aa.toString()]=f}u.push(d)}return b};
X.prototype.Wb=function(b){b=b.waits;var n,g,k,p,r,c,a,f,u,d,e;T(this.Ac);n=0;for(g=b.length;n<g;n++)if(c=b[n],f=this.b.Ho[c.ev.toString()]){u=-1;k=0;for(p=f.Oc.length;k<p;k++)if(f.Oc[k].aa===c.act){u=k;break}if(-1!==u){a={zc:{},Ma:[],So:!1};a.time=c.t;a.Aw=c.st||"";a.fr=!!c.s;a.gh=f;a.Bc=u;k=0;for(p=c.sm.length;k<p;k++)(f=this.b.xj(c.sm[k]))&&a.Ma.push(f);for(r in c.sols)if(c.sols.hasOwnProperty(r)&&(f=this.b.xj(parseInt(r,10)))){u=c.sols[r];d={Qq:u.sa,tf:[]};k=0;for(p=u.insts.length;k<p;k++)(e=
this.b.mh(u.insts[k]))&&d.tf.push(e);a.zc[f.index.toString()]=d}this.Ac.push(a)}}};
(function(){function b(){}function n(){}function g(){}var k=X.prototype;b.prototype.no=function(){return!0};b.prototype.us=function(){return!0};b.prototype.Xr=function(c){var a=this.b.Ul(),b=a.M.Every_lastTime||0,g=this.b.yb.ca;"undefined"===typeof a.M.Every_seconds&&(a.M.Every_seconds=c);var d=a.M.Every_seconds;if(g>=b+d)return a.M.Every_lastTime=b+d,g>=a.M.Every_lastTime+.04&&(a.M.Every_lastTime=g),a.M.Every_seconds=c,!0;g<b-.1&&(a.M.Every_lastTime=g);return!1};b.prototype.ys=function(c){if(!c)return!1;
var a=c.da(),b=a.pc(),g=A(Math.random()*b.length);if(g>=b.length)return!1;a.Cg(b[g]);c.Pc();return!0};b.prototype.Wr=function(){var c=this.b.wb();return c.Il?!1:!c.wf};b.prototype.oo=function(){return!0};b.prototype.ks=function(){return!0};b.prototype.hl=function(){return!0};b.prototype.so=function(){return!0};b.prototype.vs=function(){return!0};b.prototype.fl=function(){return!0};b.prototype.Pr=function(c,a,b){return Na(U(c),U(b))<=U(a)};b.prototype.$r=function(c,a){return Pa(U(c),U(a))};b.prototype.Zr=
function(c,a,b){c=La(c);a=La(a);b=La(b);return Pa(b,a)?Pa(c,a)&&!Pa(c,b):!(!Pa(c,a)&&Pa(c,b))};k.n=new b;n.prototype.Yr=function(c){this.b.Hh||this.b.Yg||(this.b.Yg=c)};n.prototype.Or=function(c,a){0===c.Mr?ga(a)?c.Dk(c.yj()+a):c.Dk(c.yj()+parseFloat(a)):1===c.Mr&&c.Dk(c.yj()+a.toString())};var p=[],r=[];k.Aa=new n;g.prototype["int"]=function(c,a){ha(a)?(c.Fa(parseInt(a,10)),isNaN(c.data)&&(c.data=0)):c.Fa(a)};g.prototype["float"]=function(c,a){ha(a)?(c.C(parseFloat(a)),isNaN(c.data)&&(c.data=0)):
c.C(a)};g.prototype.random=function(c,a,b){void 0===b?c.C(Math.random()*a):c.C(Math.random()*(b-a)+a)};g.prototype.sqrt=function(c,a){c.C(Math.sqrt(a))};g.prototype.abs=function(c,a){c.C(Math.abs(a))};g.prototype.round=function(c,a){c.Fa(Math.round(a))};g.prototype.floor=function(c,a){c.Fa(Math.floor(a))};g.prototype.ceil=function(c,a){c.Fa(Math.ceil(a))};g.prototype.sin=function(c,a){c.C(Math.sin(U(a)))};g.prototype.cos=function(c,a){c.C(Math.cos(U(a)))};g.prototype.tan=function(c,a){c.C(Math.tan(U(a)))};
g.prototype.asin=function(c,a){c.C(Ea(Math.asin(a)))};g.prototype.acos=function(c,a){c.C(Ea(Math.acos(a)))};g.prototype.atan=function(c,a){c.C(Ea(Math.atan(a)))};g.prototype.exp=function(c,a){c.C(Math.exp(a))};g.prototype.log10=function(c,a){c.C(Math.log(a)/Math.LN10)};g.prototype.max=function(c){var a=arguments[1];"number"!==typeof a&&(a=0);var b,g,d;b=2;for(g=arguments.length;b<g;b++)d=arguments[b],"number"===typeof d&&a<d&&(a=d);c.C(a)};g.prototype.min=function(c){var a=arguments[1];"number"!==
typeof a&&(a=0);var b,g,d;b=2;for(g=arguments.length;b<g;b++)d=arguments[b],"number"===typeof d&&a>d&&(a=d);c.C(a)};g.prototype.gf=function(c){c.C(this.b.gf)};g.prototype.Og=function(c){c.C(this.b.Og)};g.prototype.time=function(c){c.C(this.b.yb.ca)};g.prototype.bd=function(c){c.Fa(this.b.bd)};g.prototype.Zj=function(c){c.Fa(this.b.Zj)};g.prototype.Ql=function(c){c.Fa(this.b.Ql)};g.prototype.i=function(c,a,b,g,d){c.C(Ea(Ma(a,b,g,d)))};g.prototype.left=function(c,a,b){c.yc(ha(a)?a.substr(0,b):"")};
g.prototype.right=function(c,a,b){c.yc(ha(a)?a.substr(a.length-b):"")};g.prototype.replace=function(c,a,b,g){ha(a)&&ha(b)&&ha(g)?c.yc(a.replace(new RegExp(eb(b),"gi"),g)):c.yc(ha(a)?a:"")};g.prototype.trim=function(c,a){c.yc(ha(a)?a.trim():"")};g.prototype.et=function(c){var a=A(Math.random()*(arguments.length-1));c.yw(arguments[a+1])};g.prototype.Bl=function(c){c.C(this.b.Bl/1E3)};g.prototype.Sj=function(c){c.C(this.b.Sj)};k.Sa=new g;k.jw=function(){var c,a,b,g,d,e,n=this.b.wb();c=0;for(b=this.Ac.length;c<
b;c++){g=this.Ac[c];if(-1===g.time){if(!g.fr)continue}else if(g.time>this.b.yb.ca)continue;n.oc=g.gh;n.Bc=g.Bc;n.nb=0;for(a in g.zc)g.zc.hasOwnProperty(a)&&(d=this.b.A[parseInt(a,10)].da(),e=g.zc[a],d.wa=e.Qq,za(d.d,e.tf),d=e,T(d.tf),r.push(d));g.gh.hw();this.b.zl(g.Ma);g.So=!0}a=c=0;for(b=this.Ac.length;c<b;c++)g=this.Ac[c],this.Ac[a]=g,g.So?(Za(g.zc),T(g.Ma),p.push(g)):a++;ya(this.Ac,a)}})();
(function(){pb=function(b,g){var k=b[1],p=b[3],r=b[4],c=b[5],a=b[6],f=b[7],u=b[8];g.n||(g.n={});g.Aa||(g.Aa={});g.Sa||(g.Sa={});var d=g.n,e=g.Aa,t=g.Sa;p&&(d.bx=function(a,c){return dc(this.x,a,c)},d.Ur=function(a,c){return dc(this.y,a,c)},d.kx=function(){var a=this.k;this.xa();var c=this.Ba;return!(c.right<a.la||c.bottom<a.ma||c.left>a.ta||c.top>a.ra)},d.bs=function(){this.xa();var a=this.Ba,c=this.b.ua;return 0>a.right||0>a.bottom||a.left>c.width||a.top>c.height},d.zx=function(a,c,b){var d=this.da(),
e=d.pc();if(!e.length)return!1;var f=e[0],g=f,p=Ra(f.x,f.y,c,b),n,r,k;n=1;for(r=e.length;n<r;n++)if(f=e[n],k=Ra(f.x,f.y,c,b),0===a&&k<p||1===a&&k>p)p=k,g=f;d.Cg(g);return!0},e.Sx=function(a){this.x!==a&&(this.x=a,this.I())},e.Es=function(a){this.y!==a&&(this.y=a,this.I())},e.Nx=function(a,c){if(this.x!==a||this.y!==c)this.x=a,this.y=c,this.I()},e.Ox=function(a,c){var b=a.Gu(this);if(b){var d;b.kh?(d=b.kh(c,!0),b=b.kh(c,!1)):(d=b.x,b=b.y);if(this.x!==d||this.y!==b)this.x=d,this.y=b,this.I()}},e.rx=
function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.I())},e.qx=function(a,c){0!==c&&(this.x+=Math.cos(U(a))*c,this.y+=Math.sin(U(a))*c,this.I())},t.xo=function(a){a.C(this.x)},t.jl=function(a){a.C(this.y)},t.gf=function(a){a.C(this.b.ag(this))});r&&(d.ax=function(a,c){return dc(this.width,a,c)},d.Zw=function(a,c){return dc(this.height,a,c)},e.Ds=function(a){this.width!==a&&(this.width=a,this.I())},e.Kx=function(a){this.height!==a&&(this.height=a,this.I())},e.Px=function(a,
c){if(this.width!==a||this.height!==c)this.width=a,this.height=c,this.I()},t.Is=function(a){a.C(this.width)},t.gx=function(a){a.C(this.height)},t.Vw=function(a){this.xa();a.C(this.Ba.left)},t.Xw=function(a){this.xa();a.C(this.Ba.top)},t.Ww=function(a){this.xa();a.C(this.Ba.right)},t.Uw=function(a){this.xa();a.C(this.Ba.bottom)});c&&(d.Pr=function(a,c){return Na(this.i,U(c))<=U(a)},d.$r=function(a){return Pa(this.i,U(a))},d.Zr=function(a,c){var b=La(a),d=La(c),e=Ga(this.i);return Pa(d,b)?Pa(e,b)&&
!Pa(e,d):!(!Pa(e,b)&&Pa(e,d))},e.As=function(a){a=U(Fa(a));isNaN(a)||this.i===a||(this.i=a,this.I())},e.Dx=function(a){0===a||isNaN(a)||(this.i+=U(a),this.i=Ga(this.i),this.I())},e.Ex=function(a){0===a||isNaN(a)||(this.i-=U(a),this.i=Ga(this.i),this.I())},e.Fx=function(a,c){var b=Oa(this.i,U(c),U(a));isNaN(b)||this.i===b||(this.i=b,this.I())},e.Gx=function(a,c,b){a=Oa(this.i,Math.atan2(b-this.y,c-this.x),U(a));isNaN(a)||this.i===a||(this.i=a,this.I())},e.Qx=function(a,c){var b=Math.atan2(c-this.y,
a-this.x);isNaN(b)||this.i===b||(this.i=b,this.I())},t.Tw=function(a){a.C(Ja(this.i))});k||(d.Tr=function(a,c,b){return dc(this.cb[a],c,b)},d.ix=function(a){return this.cb[a]},d.Ax=function(a,c){var b=this.da(),d=b.pc();if(!d.length)return!1;var e=d[0],f=e,g=e.cb[c],p,n,r;p=1;for(n=d.length;p<n;p++)if(e=d[p],r=e.cb[c],0===a&&r<g||1===a&&r>g)g=r,f=e;b.Cg(f);return!0},d.yx=function(a){var c,b,d,e,f;if(this.b.Ul().vm){f=this.da();if(f.wa)for(f.wa=!1,T(f.d),T(f.X),d=this.d,c=0,b=d.length;c<b;c++)e=d[c],
e.uid===a?f.X.push(e):f.d.push(e);else{d=c=0;for(b=f.d.length;c<b;c++)e=f.d[c],f.d[d]=e,e.uid===a?f.X.push(e):d++;ya(f.d,d)}this.Pc();return!!f.d.length}e=this.b.mh(a);if(!e)return!1;f=this.da();if(!f.wa&&-1===f.d.indexOf(e))return!1;if(this.G)for(a=e.type.Ja,c=0,b=a.length;c<b;c++){if(a[c]===this)return f.Cg(e),this.Pc(),!0}else if(e.type===this)return f.Cg(e),this.Pc(),!0;return!1},d.Ki=function(){return!0},d.ms=function(){return!0},e.Lx=function(a,c){var b=this.cb;ga(b[a])?b[a]=ga(c)?c:parseFloat(c):
ha(b[a])&&(b[a]=ha(c)?c:c.toString())},e.Sw=function(a,c){var b=this.cb;ga(b[a])?b[a]=ga(c)?b[a]+c:b[a]+parseFloat(c):ha(b[a])&&(b[a]=ha(c)?b[a]+c:b[a]+c.toString())},e.Gs=function(a,c){var b=this.cb;ga(b[a])&&(b[a]=ga(c)?b[a]-c:b[a]-parseFloat(c))},e.Hx=function(a,c){this.cb[a]=c?1:0},e.Tx=function(a){this.cb[a]=1-this.cb[a]},e.Vr=function(){this.b.se(this)},e.ds||(e.ds=function(a){var c,b;try{c=JSON.parse(a)}catch(d){return}this.b.Qj(this,c,!0);this.xd&&this.xd();if(this.R)for(a=0,c=this.R.length;a<
c;++a)b=this.R[a],b.xd&&b.xd()}),t.cx=function(a){var c=a.Ef.d.length,b,d,e;b=0;for(d=this.b.gd.length;b<d;b++)e=this.b.gd[b],a.Ef.G?0<=e.type.Ja.indexOf(a.Ef)&&c++:e.type===a.Ef&&c++;a.Fa(c)},t.Cx=function(a){a.Fa(a.Ef.da().pc().length)},t.Ux=function(a){a.Fa(this.uid)},t.hx=function(a){a.Fa(this.oh())},t.Qr||(t.Qr=function(a){a.yc(JSON.stringify(this.b.Dn(this,!0)))}));a&&(d.mx=function(){return this.visible},e.Rx=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.qa=!0)},d.$w=function(a,
c){return dc(kb(100*this.opacity),a,c)},e.Mx=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.qa=!0)},t.Opacity=function(a){a.C(kb(100*this.opacity))});f&&(d.jx=function(a){return a?this.k===a:!1},d.Bx=function(a){var c=this.da(),b=c.pc();if(!b.length)return!1;var d=b[0],e=d,f,g;f=1;for(g=b.length;f<g;f++)if(d=b[f],0===a){if(d.k.index>e.k.index||d.k.index===e.k.index&&d.Ed()>e.Ed())e=d}else if(d.k.index<e.k.index||d.k.index===e.k.index&&d.Ed()<e.Ed())e=d;c.Cg(e);return!0},
e.vx=function(){var a=this.k,c=a.d;c.length&&c[c.length-1]===this||(a.Fg(this,!1),a.Wg(this,!1),this.b.qa=!0)},e.tx=function(){var a=this.k,c=a.d;c.length&&c[0]===this||(a.Fg(this,!1),a.Vv(this),this.b.qa=!0)},e.ux=function(a){a&&a!=this.k&&(this.k.Fg(this,!0),this.k=a,a.Wg(this,!0),this.b.qa=!0)},e.Wx=function(a,c){var b=0===a;if(c){var d=c.lp(this);d&&d.uid!==this.uid&&(this.k.index!==d.k.index&&(this.k.Fg(this,!0),this.k=d.k,d.k.Wg(this,!0)),this.k.Cv(this,d,b),this.b.qa=!0)}},t.ox=function(a){a.Fa(this.k.nq)},
t.nx=function(a){a.yc(this.k.name)},t.Vx=function(a){a.Fa(this.Ed())});u&&(e.Ix=function(a,c){if(this.b.u){var b=this.type.Wl(c);if(!(0>b)){var d=1===a;this.ue[b]!==d&&(this.ue[b]=d,this.vd(),this.b.qa=!0)}}},e.Jx=function(a,c,b){if(this.b.u){var d=this.type.Wl(a);0>d||(a=this.type.S[d],d=this.Pa[d],c=Math.floor(c),0>c||c>=d.length||(1===this.b.u.Ku(a.Za,c)&&(b/=100),d[c]!==b&&(d[c]=b,a.mb&&(this.b.qa=!0))))}})};Jb=function(){this.ul=this.Ui=!0;this.type.Oi=!0;this.b.qa=!0;var b,g,k=this.rl;b=0;for(g=
k.length;b<g;++b)k[b](this);this.k.Nc&&this.xa()};Kb=function(b){b&&this.rl.push(b)};Mb=function(){if(this.Ui){var b=this.Ba,g=this.Hb;b.set(this.x,this.y,this.x+this.width,this.y+this.height);b.offset(-this.ac*this.width,-this.cc*this.height);this.i?(b.offset(-this.x,-this.y),g.br(b,this.i),g.offset(this.x,this.y),g.Io(b)):g.Jg(b);b.normalize();this.Ui=!1;this.Jr()}};var b=new ta(0,0,0,0);Nb=function(){if(this.k.Nc){var n=this.k.Bb,g=this.Ba;b.set(n.Yb(g.left),n.Zb(g.top),n.Yb(g.right),n.Zb(g.bottom));
this.hc.fh(b)||(this.hc.right<this.hc.left?n.update(this,null,b):n.update(this,this.hc,b),this.hc.$g(b),this.k.rd=!0)}};Ob=function(){if(this.ul&&this.Rd){this.xa();var n=this.type.Zi,g=this.Ba;b.set(n.Yb(g.left),n.Zb(g.top),n.Yb(g.right),n.Zb(g.bottom));this.Ae.fh(b)||(this.Ae.right<this.Ae.left?n.update(this,null,b):n.update(this,this.Ae,b),this.Ae.$g(b),this.ul=!1)}};Lb=function(b,g){return this.Ba.Tb(b,g)&&this.Hb.Tb(b,g)?this.ja&&!this.ja.hg()?(this.ja.Uf(this.width,this.height,this.i),this.ja.Tb(b-
this.x,g-this.y)):!0:!1};Fb=function(){this.type.Xk();return this.rf};Pb=function(){this.k.Zn();return this.wd};Qb=function(){T(this.fa);var b,g,k,p=!0;b=0;for(g=this.ue.length;b<g;b++)this.ue[b]&&(k=this.type.S[b],this.fa.push(k),k.nd||(p=!1));this.Kr=!!this.fa.length;this.ke=p};Gb=function(){return"Inst"+this.Lq};sb=function(b){if(b&&b.rc&&b.type!=this){var g,k,p;g=0;for(k=b.siblings.length;g<k;g++)if(p=b.siblings[g],p.type==this)return p}b=this.da().pc();return b.length?b[0]:null};tb=function(b){var g=
this.da().pc();return g.length?g[b.oh()%g.length]:null};rb=function(){if(this.Mg&&!this.G){var b,g;b=0;for(g=this.d.length;b<g;b++)this.d[b].rf=b;var k=b,p=this.b.gd;b=0;for(g=p.length;b<g;++b)p[b].type===this&&(p[b].rf=k++);this.Mg=!1}};Db=function(b){if(b<this.d.length)return this.d[b];b-=this.d.length;var g=this.b.gd,k,p;k=0;for(p=g.length;k<p;++k)if(g[k].type===this){if(0===b)return g[k];--b}return null};ub=function(){return this.me[this.Ad]};vb=function(){this.Ad++;this.Ad===this.me.length?this.me.push(new qb(this)):
(this.me[this.Ad].wa=!0,T(this.me[this.Ad].X))};wb=function(){this.Ad++;this.Ad===this.me.length&&this.me.push(new qb(this));var b=this.me[this.Ad],g=this.me[this.Ad-1];g.wa?(b.wa=!0,T(b.X)):(b.wa=!1,za(b.d,g.d),za(b.X,g.X))};yb=function(){this.Ad--};zb=function(b){var g,k,p,r,c,a=0;if(!this.G)for(g=0,k=this.Ja.length;g<k;g++)for(c=this.Ja[g],p=0,r=c.Oa.length;p<r;p++){if(b===c.Oa[p].name)return this.M.lastBehIndex=a,c.Oa[p];a++}g=0;for(k=this.Oa.length;g<k;g++){if(b===this.Oa[g].name)return this.M.lastBehIndex=
a,this.Oa[g];a++}return null};Ab=function(b){return this.vj(b)?this.M.lastBehIndex:-1};Bb=function(b){var g,k;g=0;for(k=this.S.length;g<k;g++)if(this.S[g].name===b)return g;return-1};Cb=function(){if(this.rc&&!this.G){var b,g,k,p,r,c,a;this.Xk();c=this.da();var f=c.wa,u=(b=this.b.wb())&&b.oc&&b.oc.Xc;b=0;for(g=this.nc.length;b<g;b++)if(r=this.nc[b],r!==this&&(r.Xk(),a=r.da(),a.wa=f,!f)){T(a.d);k=0;for(p=c.d.length;k<p;++k)a.d[k]=r.Xl(c.d[k].rf);if(u)for(T(a.X),k=0,p=c.X.length;k<p;++k)a.X[k]=r.Xl(c.X[k].rf)}}};
Eb=function(){return"Type"+this.aa};dc=function(b,g,k){if("undefined"===typeof b||"undefined"===typeof k)return!1;switch(g){case 0:return b===k;case 1:return b!==k;case 2:return b<k;case 3:return b<=k;case 4:return b>k;case 5:return b>=k;default:return!1}}})();var mc={};function pc(b){this.b=b}
(function(){function b(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function n(a){a=a.toLowerCase();return Y.hasOwnProperty(a)&&Y[a].length?Y[a][0].Gc():w.destination}function g(){return w.createGain?w.createGain():w.createGainNode()}function k(a){return w.createDelay?w.createDelay(a):w.createDelayNode(a)}function p(a,c){a.start?a.start(c||0):a.noteOn(c||0)}function r(a,c,b,d){a.start?a.start(d||0,c):a.noteGrainOn(d||0,c,b-c)}function c(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(c){}}
function a(a,c,b,d,e,h){this.type="filter";this.md=[a,c,b,d,e,h];this.ba=g();this.P=g();this.P.gain.value=h;this.O=g();this.O.gain.value=1-h;this.Va=w.createBiquadFilter();this.Va.type="number"===typeof this.Va.type?a:Ac[a];this.Va.frequency.value=c;this.Va.detune&&(this.Va.detune.value=b);this.Va.Q.value=d;this.Va.gain.value=e;this.ba.connect(this.Va);this.ba.connect(this.O);this.Va.connect(this.P)}function f(a,c,b){this.type="delay";this.md=[a,c,b];this.ba=g();this.P=g();this.P.gain.value=b;this.O=
g();this.O.gain.value=1-b;this.Yh=g();this.Sc=k(a);this.Sc.delayTime.value=a;this.gj=g();this.gj.gain.value=c;this.ba.connect(this.Yh);this.ba.connect(this.O);this.Yh.connect(this.P);this.Yh.connect(this.Sc);this.Sc.connect(this.gj);this.gj.connect(this.Yh)}function u(a,c,b,d){this.type="convolve";this.md=[c,b,d];this.ba=g();this.P=g();this.P.gain.value=b;this.O=g();this.O.gain.value=1-b;this.df=w.createConvolver();a&&(this.df.normalize=c,this.df.buffer=a);this.ba.connect(this.df);this.ba.connect(this.O);
this.df.connect(this.P)}function d(a,c,b,d,e){this.type="flanger";this.md=[a,c,b,d,e];this.ba=g();this.O=g();this.O.gain.value=1-e/2;this.P=g();this.P.gain.value=e/2;this.nj=g();this.nj.gain.value=d;this.Sc=k(a+c);this.Sc.delayTime.value=a;this.rb=w.createOscillator();this.rb.frequency.value=b;this.wc=g();this.wc.gain.value=c;this.ba.connect(this.Sc);this.ba.connect(this.O);this.Sc.connect(this.P);this.Sc.connect(this.nj);this.nj.connect(this.Sc);this.rb.connect(this.wc);this.wc.connect(this.Sc.delayTime);
p(this.rb)}function e(a,c,b,d,e,h){this.type="phaser";this.md=[a,c,b,d,e,h];this.ba=g();this.O=g();this.O.gain.value=1-h/2;this.P=g();this.P.gain.value=h/2;this.Va=w.createBiquadFilter();this.Va.type="number"===typeof this.Va.type?7:"allpass";this.Va.frequency.value=a;this.Va.detune&&(this.Va.detune.value=c);this.Va.Q.value=b;this.rb=w.createOscillator();this.rb.frequency.value=e;this.wc=g();this.wc.gain.value=d;this.ba.connect(this.Va);this.ba.connect(this.O);this.Va.connect(this.P);this.rb.connect(this.wc);
this.wc.connect(this.Va.frequency);p(this.rb)}function t(a){this.type="gain";this.md=[a];this.ea=g();this.ea.gain.value=a}function m(a,c){this.type="tremolo";this.md=[a,c];this.ea=g();this.ea.gain.value=1-c/2;this.rb=w.createOscillator();this.rb.frequency.value=a;this.wc=g();this.wc.gain.value=c/2;this.rb.connect(this.wc);this.wc.connect(this.ea.gain);p(this.rb)}function E(a,c){this.type="ringmod";this.md=[a,c];this.ba=g();this.P=g();this.P.gain.value=c;this.O=g();this.O.gain.value=1-c;this.mi=g();
this.mi.gain.value=0;this.rb=w.createOscillator();this.rb.frequency.value=a;this.rb.connect(this.mi.gain);p(this.rb);this.ba.connect(this.mi);this.ba.connect(this.O);this.mi.connect(this.P)}function q(a,c,b,d,e){this.type="distortion";this.md=[a,c,b,d,e];this.ba=g();this.ok=g();this.nk=g();this.rw(b,Math.pow(10,d/20));this.P=g();this.P.gain.value=e;this.O=g();this.O.gain.value=1-e;this.bl=w.createWaveShaper();this.ej=new Float32Array(65536);this.yu(a,c);this.bl.ej=this.ej;this.ba.connect(this.ok);
this.ba.connect(this.O);this.ok.connect(this.bl);this.bl.connect(this.nk);this.nk.connect(this.P)}function P(a,c,b,d,e){this.type="compressor";this.md=[a,c,b,d,e];this.ea=w.createDynamicsCompressor();try{this.ea.threshold.value=a,this.ea.knee.value=c,this.ea.ratio.value=b,this.ea.attack.value=d,this.ea.release.value=e}catch(h){}}function h(a,c){this.type="analyser";this.md=[a,c];this.ea=w.createAnalyser();this.ea.fftSize=a;this.ea.smoothingTimeConstant=c;this.wu=new Float32Array(this.ea.frequencyBinCount);
this.er=new Uint8Array(a);this.ei=0}function l(){this.ka=null;this.Rj=0}function x(a,c){this.src=a;this.Y=H;this.Vc=c;this.Ni=!1;var b=this;this.Vm=this.nn=null;this.Bg=[];this.zk=0;this.eo=this.lj=this.mr=this.ik=!1;1===H&&c&&!Ta&&(this.Y=0,this.nn=g());this.Pd=this.ga=null;var d;switch(this.Y){case 0:this.ga=new Audio;this.ga.crossOrigin="anonymous";this.ga.addEventListener("canplaythrough",function(){b.eo=!0});1===H&&w.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.mr=!0,this.ga.addEventListener("canplay",
function(){b.Vm||(b.Vm=w.createMediaElementSource(b.ga),b.Vm.connect(b.nn))}));this.ga.autoplay=!1;this.ga.ky="auto";this.ga.src=a;break;case 1:v.Eh?v.$o(a,function(a){b.Pd=a;b.Ro()},function(){b.lj=!0}):(d=new XMLHttpRequest,d.open("GET",a,!0),d.responseType="arraybuffer",d.onload=function(){b.Pd=d.response;b.Ro()},d.onerror=function(){b.lj=!0},d.send());break;case 2:this.ga=!0;break;case 3:this.ga=!0}}function C(a,c){var b=this;this.tag=c;this.kc=this.Dd=!0;this.src=a.src;this.buffer=a;this.Y=H;
this.Vc=a.Vc;this.playbackRate=1;this.eg=!0;this.tc=this.Lc=!1;this.ic=0;this.Fh=this.jg=this.Fd=!1;this.volume=1;this.ln=function(a){if(!b.tc&&!b.Lc){var c=this;c||(c=a.target);c===b.Mi&&(b.eg=!0,b.kc=!0,W=b.tag,v.trigger(pc.prototype.n.Li,N))}};this.Mi=null;this.fg=1===J&&!this.Vc||2===J;this.xg=1;this.startTime=this.fg?v.yb.ca:v.qe.ca;this.Xa=this.ab=null;this.Hd=!1;this.zb=null;this.Aq=this.zq=this.yq=this.xq=this.Cq=this.Bq=0;this.q=null;var d=!1;1!==this.Y||0!==this.buffer.Y||this.buffer.mr||
(this.Y=0);switch(this.Y){case 0:this.Vc?(this.q=a.ga,d=!a.Ni,a.Ni=!0):(this.q=new Audio,this.q.crossOrigin="anonymous",this.q.autoplay=!1,this.q.src=a.ga.src,d=!0);d&&this.q.addEventListener("ended",function(){W=b.tag;b.kc=!0;v.trigger(pc.prototype.n.Li,N)});break;case 1:this.ab=g();this.ab.connect(n(c));1===this.buffer.Y?a.ga&&(this.q=w.createBufferSource(),this.q.buffer=a.ga,this.q.connect(this.ab)):(this.q=this.buffer.ga,this.buffer.nn.connect(this.ab),this.buffer.Ni||(this.buffer.Ni=!0,this.buffer.ga.addEventListener("ended",
function(){W=b.tag;b.kc=!0;v.trigger(pc.prototype.n.Li,N)})));break;case 2:this.q=new window.Media(Q+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(b.eg=!0,b.kc=!0,W=b.tag,v.trigger(pc.prototype.n.Li,N))});break;case 3:this.q=!0}}function D(a,c){Y.hasOwnProperty(a)?Y[a].push(c):Y[a]=[c];var b,d,e,h,f=w.destination;if(Y.hasOwnProperty(a)&&(e=Y[a],e.length))for(f=e[0].Gc(),b=0,d=e.length;b<d;b++)h=e[b],b+1===d?h.Qc(w.destination):h.Qc(e[b+1].Gc());T(Ka);if(a.length)for(b=0,d=y.length;b<
d;b++)e=y[b],mb(a,e.tag)&&Ka.push(e);else z&&!z.qf()&&(T(Ka),Ka[0]=z);b=0;for(d=Ka.length;b<d;b++)Ka[b].aw(f);Ia&&xb===a&&(Ia.disconnect(),Ia.connect(f))}function K(){}function O(){}var B=pc.prototype;B.ya=function(a){this.za=a;this.b=a.b};B.ya.prototype.V=function(){};var v=null,N=null,W="",Q="",H=0,w=null,L=[],y=[],z=null,F=!1,J=0,M=!1,R=1,I=0,G=0,V=!1,sa=1,S=1,va=10,ma=1E4,Ha=1,Ia=null,xb="",Sa=!1,Ua=[],Ta=!1,Y={},Ac="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
a.prototype.Qc=function(a){this.P.disconnect();this.P.connect(a);this.O.disconnect();this.O.connect(a)};a.prototype.remove=function(){this.ba.disconnect();this.Va.disconnect();this.P.disconnect();this.O.disconnect()};a.prototype.Gc=function(){return this.ba};f.prototype.Qc=function(a){this.P.disconnect();this.P.connect(a);this.O.disconnect();this.O.connect(a)};f.prototype.remove=function(){this.ba.disconnect();this.Yh.disconnect();this.Sc.disconnect();this.gj.disconnect();this.P.disconnect();this.O.disconnect()};
f.prototype.Gc=function(){return this.ba};u.prototype.Qc=function(a){this.P.disconnect();this.P.connect(a);this.O.disconnect();this.O.connect(a)};u.prototype.remove=function(){this.ba.disconnect();this.df.disconnect();this.P.disconnect();this.O.disconnect()};u.prototype.Gc=function(){return this.ba};d.prototype.Qc=function(a){this.O.disconnect();this.O.connect(a);this.P.disconnect();this.P.connect(a)};d.prototype.remove=function(){this.ba.disconnect();this.Sc.disconnect();this.rb.disconnect();this.wc.disconnect();
this.O.disconnect();this.P.disconnect();this.nj.disconnect()};d.prototype.Gc=function(){return this.ba};e.prototype.Qc=function(a){this.O.disconnect();this.O.connect(a);this.P.disconnect();this.P.connect(a)};e.prototype.remove=function(){this.ba.disconnect();this.Va.disconnect();this.rb.disconnect();this.wc.disconnect();this.O.disconnect();this.P.disconnect()};e.prototype.Gc=function(){return this.ba};t.prototype.Qc=function(a){this.ea.disconnect();this.ea.connect(a)};t.prototype.remove=function(){this.ea.disconnect()};
t.prototype.Gc=function(){return this.ea};m.prototype.Qc=function(a){this.ea.disconnect();this.ea.connect(a)};m.prototype.remove=function(){this.rb.disconnect();this.wc.disconnect();this.ea.disconnect()};m.prototype.Gc=function(){return this.ea};E.prototype.Qc=function(a){this.P.disconnect();this.P.connect(a);this.O.disconnect();this.O.connect(a)};E.prototype.remove=function(){this.rb.disconnect();this.mi.disconnect();this.ba.disconnect();this.P.disconnect();this.O.disconnect()};E.prototype.Gc=function(){return this.ba};
q.prototype.rw=function(a,c){.01>a&&(a=.01);this.ok.gain.value=a;this.nk.gain.value=Math.pow(1/a,.6)*c};q.prototype.shape=function(a,c,b){var d=1.05*b*c-c;b=0>a?-1:1;a=0>a?-a:a;c=a<c?a:c+d*(1-Math.exp(-(1/d)*(a-c)));return c*b};q.prototype.yu=function(a,c){for(var b=Math.pow(10,a/20),d=Math.pow(10,c/20),e=0,h=0;32768>h;++h)e=h/32768,e=this.shape(e,b,d),this.ej[32768+h]=e,this.ej[32768-h-1]=-e};q.prototype.Qc=function(a){this.P.disconnect();this.P.connect(a);this.O.disconnect();this.O.connect(a)};
q.prototype.remove=function(){this.ba.disconnect();this.ok.disconnect();this.bl.disconnect();this.nk.disconnect();this.P.disconnect();this.O.disconnect()};q.prototype.Gc=function(){return this.ba};P.prototype.Qc=function(a){this.ea.disconnect();this.ea.connect(a)};P.prototype.remove=function(){this.ea.disconnect()};P.prototype.Gc=function(){return this.ea};h.prototype.Na=function(){this.ea.getFloatFrequencyData(this.wu);this.ea.getByteTimeDomainData(this.er);for(var a=this.ea.fftSize,c=0,d=this.ei=
0,e=0;c<a;c++)e=(this.er[c]-128)/128,0>e&&(e=-e),this.ei<e&&(this.ei=e),d+=e*e;this.ei=b(this.ei);b(Math.sqrt(d/a))};h.prototype.Qc=function(a){this.ea.disconnect();this.ea.connect(a)};h.prototype.remove=function(){this.ea.disconnect()};h.prototype.Gc=function(){return this.ea};l.prototype.ni=function(a){this.ka=a};l.prototype.Ej=function(){return!!this.ka};l.prototype.Na=function(){};var lb=!1;x.prototype.bw=function(){var a,c,b,d;b=a=0;for(c=y.length;a<c;++a)d=y[a],y[b]=d,d.buffer===this?d.stop():
++b;y.length=b;this.Pd=this.ga=null};x.prototype.Ro=function(){if(!this.ga&&this.Pd){var a=this;if(w.decodeAudioData)w.decodeAudioData(this.Pd,function(c){a.ga=c;a.Pd=null;var b,d,e;if(fa(a.kk)||M)fa(a.aj)||(b=a.aj.df,b.normalize=a.mq,b.buffer=c);else if(a.Bg.length){b=0;for(d=a.Bg.length;b<d;b++){c=a.Bg[b];e=new C(a,c.rr);e.Hn(!0);if("undefined"!==typeof c.oq&&(c.ka=v.mh(c.oq),!c.ka))continue;if(c.ka){var h=Qa(c.ka.x,c.ka.y,-c.ka.k.bb(),I,G,!0),f=Qa(c.ka.x,c.ka.y,-c.ka.k.bb(),I,G,!1);e.Gn(h,f,Ea(c.ka.i-
c.ka.k.bb()),c.jm,c.Zm,c.bn);e.ni(c.ka)}else e.Gn(c.x,c.y,c.Ls,c.jm,c.Zm,c.bn);e.play(a.Sm,a.bo,a.zk);a.ik&&e.pause();y.push(e)}T(a.Bg)}else e=new C(a,a.kk||""),e.play(a.Sm,a.bo,a.zk),a.ik&&e.pause(),y.push(e)},function(){a.lj=!0});else if(this.ga=w.createBuffer(this.Pd,!1),this.Pd=null,fa(this.kk)||M)fa(this.aj)||(c=this.aj.df,c.normalize=this.mq,c.buffer=this.ga);else{var c=new C(this,this.kk);c.play(this.Sm,this.bo,this.zk);this.ik&&c.pause();y.push(c)}}};x.prototype.yp=function(){switch(this.Y){case 0:var a=
4<=this.ga.readyState;a&&(this.eo=!0);return a||this.eo;case 1:return!!this.Pd||!!this.ga;case 2:return!0;case 3:return!0}return!1};x.prototype.pv=function(){switch(this.Y){case 0:return this.yp();case 1:return!!this.ga;case 2:return!0;case 3:return!0}return!1};x.prototype.cv=function(){switch(this.Y){case 0:return!!this.ga.error;case 1:return this.lj}return!1};C.prototype.qf=function(){switch(this.Y){case 0:return this.q.ended;case 1:return 1===this.buffer.Y?!this.Dd&&!this.kc&&this.q.loop||this.tc?
!1:this.eg:this.q.ended;case 2:return this.eg;case 3:!0}return!0};C.prototype.bt=function(){return this.Dd||this.kc?!0:this.qf()};C.prototype.Hn=function(a){1===H&&(!this.Hd&&a?this.ab&&(this.Xa||(this.Xa=w.createPanner(),this.Xa.panningModel="number"===typeof this.Xa.panningModel?sa:["equalpower","HRTF","soundfield"][sa],this.Xa.distanceModel="number"===typeof this.Xa.distanceModel?S:["linear","inverse","exponential"][S],this.Xa.refDistance=va,this.Xa.maxDistance=ma,this.Xa.rolloffFactor=Ha),this.ab.disconnect(),
this.ab.connect(this.Xa),this.Xa.connect(n(this.tag)),this.Hd=!0):this.Hd&&!a&&this.ab&&(this.Xa.disconnect(),this.ab.disconnect(),this.ab.connect(n(this.tag)),this.Hd=!1))};C.prototype.Gn=function(a,c,b,d,e,h){this.Hd&&1===H&&(this.Xa.setPosition(a,c,0),this.Xa.setOrientation(Math.cos(U(b)),Math.sin(U(b)),0),this.Xa.coneInnerAngle=d,this.Xa.coneOuterAngle=e,this.Xa.coneOuterGain=h,this.Bq=a,this.Cq=c,this.xq=b,this.yq=d,this.zq=e,this.Aq=h)};C.prototype.ni=function(a){this.Hd&&1===H&&(this.zb||(this.zb=
new l),this.zb.ni(a))};C.prototype.Na=function(a){if(this.Hd&&1===H&&this.zb&&this.zb.Ej()&&this.Ch()){this.zb.Na(a);a=this.zb.ka;var c=Qa(a.x,a.y,-a.k.bb(),I,G,!0),b=Qa(a.x,a.y,-a.k.bb(),I,G,!1);this.Xa.setPosition(c,b,0);c=0;"undefined"!==typeof this.zb.ka.i&&(c=a.i-a.k.bb(),this.Xa.setOrientation(Math.cos(c),Math.sin(c),0))}};C.prototype.play=function(a,c,b,d){var e=this.q;this.Fd=a;this.volume=c;b=b||0;d=d||0;switch(this.Y){case 0:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==c*R&&(e.volume=
c*R);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=!1);if(e.currentTime!==b)try{e.currentTime=b}catch(h){}if(this.Vc&&Sa&&!v.Ta)Ua.push(this);else try{this.q.play()}catch(f){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",f)}break;case 1:this.muted=!1;this.xg=1;if(1===this.buffer.Y)this.ab.gain.value=c*R,this.Dd||(this.q=w.createBufferSource(),this.q.buffer=this.buffer.ga,this.q.connect(this.ab)),this.q.onended=this.ln,this.Mi=this.q,this.q.loop=
a,this.eg=!1,0===b?p(this.q,d):r(this.q,b,this.of(),d);else{1!==e.playbackRate&&(e.playbackRate=1);e.loop!==a&&(e.loop=a);e.volume=c*R;if(e.currentTime!==b)try{e.currentTime=b}catch(g){}this.Vc&&Sa&&!v.Ta?Ua.push(this):e.play()}break;case 2:(!this.Dd&&this.kc||0!==b)&&e.seekTo(b);e.play();this.eg=!1;break;case 3:v.Vb?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.fg?v.yb.ca:v.qe.ca)-b;this.tc=this.kc=this.Dd=!1};C.prototype.stop=
function(){switch(this.Y){case 0:this.q.paused||this.q.pause();break;case 1:1===this.buffer.Y?c(this.q):this.q.paused||this.q.pause();break;case 2:this.q.stop();break;case 3:v.Vb&&AppMobi.context.stopSound(this.src)}this.kc=!0;this.tc=!1};C.prototype.pause=function(){if(!(this.Dd||this.kc||this.qf()||this.tc)){switch(this.Y){case 0:this.q.paused||this.q.pause();break;case 1:1===this.buffer.Y?(this.ic=this.Yl(!0),this.Fd&&(this.ic=this.ic%this.of()),this.tc=!0,c(this.q)):this.q.paused||this.q.pause();
break;case 2:this.q.pause();break;case 3:v.Vb&&AppMobi.context.stopSound(this.src)}this.tc=!0}};C.prototype.gw=function(){if(!(this.Dd||this.kc||this.qf())&&this.tc){switch(this.Y){case 0:this.q.play();break;case 1:1===this.buffer.Y?(this.q=w.createBufferSource(),this.q.buffer=this.buffer.ga,this.q.connect(this.ab),this.q.onended=this.ln,this.Mi=this.q,this.q.loop=this.Fd,this.ab.gain.value=R*this.volume*this.xg,this.Yk(),this.startTime=(this.fg?v.yb.ca:v.qe.ca)-this.ic/(this.playbackRate||.001),
r(this.q,this.ic,this.of())):this.q.play();break;case 2:this.q.play();break;case 3:v.Vb&&AppMobi.context.resumeSound(this.src)}this.tc=!1}};C.prototype.seek=function(a){if(!(this.Dd||this.kc||this.qf()))switch(this.Y){case 0:try{this.q.currentTime=a}catch(c){}break;case 1:if(1===this.buffer.Y)this.tc?this.ic=a:(this.pause(),this.ic=a,this.gw());else try{this.q.currentTime=a}catch(b){}break;case 3:v.Vb&&AppMobi.context.seekSound(this.src,a)}};C.prototype.aw=function(a){1===this.Y&&(this.Hd?(this.Xa.disconnect(),
this.Xa.connect(a)):(this.ab.disconnect(),this.ab.connect(a)))};C.prototype.of=function(){var a=0;switch(this.Y){case 0:"undefined"!==typeof this.q.duration&&(a=this.q.duration);break;case 1:a=this.buffer.ga.duration;break;case 2:a=this.q.getDuration();break;case 3:v.Vb&&(a=AppMobi.context.getDurationSound(this.src))}return a};C.prototype.Yl=function(a){var c=this.of(),b=0;switch(this.Y){case 0:"undefined"!==typeof this.q.currentTime&&(b=this.q.currentTime);break;case 1:if(1===this.buffer.Y){if(this.tc)return this.ic;
b=(this.fg?v.yb.ca:v.qe.ca)-this.startTime}else"undefined"!==typeof this.q.currentTime&&(b=this.q.currentTime);break;case 3:v.Vb&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(b*=this.playbackRate);!this.Fd&&b>c&&(b=c);return b};C.prototype.Ch=function(){return!this.tc&&!this.Dd&&!this.kc&&!this.qf()};C.prototype.zw=function(){return!this.Dd&&!this.kc&&!this.qf()};C.prototype.Kw=function(){var a=this.volume*R;isFinite(a)||(a=0);switch(this.Y){case 0:"undefined"!==typeof this.q.volume&&this.q.volume!==
a&&(this.q.volume=a);break;case 1:1===this.buffer.Y?this.ab.gain.value=a*this.xg:"undefined"!==typeof this.q.volume&&this.q.volume!==a&&(this.q.volume=a)}};C.prototype.jj=function(a){switch(this.Y){case 0:this.q.muted!==!!a&&(this.q.muted=!!a);break;case 1:1===this.buffer.Y?(this.xg=a?0:1,this.ab.gain.value=R*this.volume*this.xg):this.q.muted!==!!a&&(this.q.muted=!!a)}};C.prototype.uw=function(){this.jg=!0;this.jj(this.jg||this.Fh)};C.prototype.Yq=function(a){this.Fh=!!a;this.jj(this.jg||this.Fh)};
C.prototype.Yk=function(){var a=this.playbackRate;this.fg&&(a*=v.Og);switch(this.Y){case 0:this.q.playbackRate!==a&&(this.q.playbackRate=a);break;case 1:1===this.buffer.Y?this.q.playbackRate.value!==a&&(this.q.playbackRate.value=a):this.q.playbackRate!==a&&(this.q.playbackRate=a)}};C.prototype.ww=function(a){switch(this.Y){case 0:a?this.Ch()?(this.Lc=!0,this.q.pause()):this.Lc=!1:this.Lc&&(this.q.play(),this.Lc=!1);break;case 1:a?this.Ch()?(this.Lc=!0,1===this.buffer.Y?(this.ic=this.Yl(!0),this.Fd&&
(this.ic=this.ic%this.of()),c(this.q)):this.q.pause()):this.Lc=!1:this.Lc&&(1===this.buffer.Y?(this.q=w.createBufferSource(),this.q.buffer=this.buffer.ga,this.q.connect(this.ab),this.q.onended=this.ln,this.Mi=this.q,this.q.loop=this.Fd,this.ab.gain.value=R*this.volume*this.xg,this.Yk(),this.startTime=(this.fg?v.yb.ca:v.qe.ca)-this.ic/(this.playbackRate||.001),r(this.q,this.ic,this.of())):this.q.play(),this.Lc=!1);break;case 2:a?this.Ch()?(this.q.pause(),this.Lc=!0):this.Lc=!1:this.Lc&&(this.Lc=!1,
this.q.play())}};B.na=function(a){function c(){if(!V&&w.createBuffer){var a=w.createBuffer(1,220,22050),b=w.createBufferSource();b.buffer=a;b.connect(w.destination);p(b)}}this.type=a;v=this.b=a.b;N=this;this.uc=null;this.Ph=-600;this.b.Eh&&(Ta=!0);!(this.b.mg||this.b.Fj&&(this.b.wh||this.b.Gj))||this.b.xh||this.b.Ka||this.b.wm||Ta||(Sa=!0);w=null;"undefined"!==typeof AudioContext?(H=1,w=new AudioContext):"undefined"!==typeof webkitAudioContext&&(H=1,w=new webkitAudioContext);this.b.mg&&w&&(w.close&&
w.close(),"undefined"!==typeof AudioContext?w=new AudioContext:"undefined"!==typeof webkitAudioContext&&(w=new webkitAudioContext));Sa?document.addEventListener("touchend",function(){!lb&&w&&(c(),lb=!0);var a,b,d;if(Sa){if(!M)for(a=0,b=Ua.length;a<b;++a)d=Ua[a],d.kc||d.tc||d.q.play();T(Ua)}},!0):Ta&&document.addEventListener("touchend",function(){!lb&&w&&(c(),lb=!0)},!0);1!==H&&(this.b.qc&&"undefined"!==typeof window.Media?H=2:this.b.xp&&(H=3));2===H&&(Q=location.href,a=Q.lastIndexOf("/"),-1<a&&(Q=
Q.substr(0,a+1)),Q=Q.replace("file://",""));if(this.b.qv&&this.b.rv&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.se(this);else{if(this.b.Vb)F=this.b.Fj;else try{F=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){F=!1}this.b.Bi(this)}};var ra=B.na.prototype;ra.V=function(){this.b.Sf=this;J=this.L[0];this.je=this.L[1];this.Ov=0!==this.L[2];this.kq=0;sa=this.L[3];S=this.L[4];
this.Ph=-this.L[5];va=this.L[6];ma=this.L[7];Ha=this.L[8];this.uc=new l;var a=this.b.K||this.b.width,c=this.b.J||this.b.height;1===H&&(w.listener.setPosition(a/2,c/2,this.Ph),w.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){Ia&&Ia.disconnect();xb=c.toLowerCase();Ia=w.createMediaStreamSource(a);Ia.connect(n(xb))});this.b.Qs(function(a){N.Iv(a)});var b=this;this.b.kl(function(a){b.cn(a)})};ra.cn=function(a){var c,b,d;c=0;for(b=y.length;c<b;c++)d=y[c],d.zb&&d.zb.ka===a&&
(d.zb.ka=null,d.Hd&&d.Ch()&&d.Fd&&d.stop());this.uc.ka===a&&(this.uc.ka=null)};ra.Cb=function(){var a={silent:M,masterVolume:R,listenerZ:this.Ph,listenerUid:this.uc.Ej()?this.uc.ka.uid:-1,playing:[],effects:{}},c=a.playing,b,d,e,h,f,g;b=0;for(d=y.length;b<d;b++)e=y[b],!e.zw()||3===this.je||e.Vc&&1===this.je||!e.Vc&&2===this.je||(h=e.Yl(),e.Fd&&(h=h%e.of()),h={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Vc,playbackTime:h,volume:e.volume,looping:e.Fd,muted:e.jg,playbackRate:e.playbackRate,paused:e.tc,
resume_position:e.ic},e.Hd&&(h.pan={},g=h.pan,e.zb&&e.zb.Ej()?g.objUid=e.zb.ka.uid:(g.x=e.Bq,g.y=e.Cq,g.a=e.xq),g.ia=e.yq,g.oa=e.zq,g.og=e.Aq),c.push(h));c=a.effects;for(f in Y)if(Y.hasOwnProperty(f)){e=[];b=0;for(d=Y[f].length;b<d;b++)e.push({type:Y[f][b].type,params:Y[f][b].md});c[f]=e}return a};var Va=[];ra.Wb=function(c){var b=c.silent;R=c.masterVolume;this.Ph=c.listenerZ;this.uc.ni(null);var g=c.listenerUid;-1!==g&&(this.uc.Rj=g,Va.push(this.uc));var g=c.playing,p,r,k,n,x,K,C,B,w,v,z;if(3!==
this.je)for(p=0,r=y.length;p<r;p++)w=y[p],w.Vc&&1===this.je||(w.Vc||2!==this.je)&&w.stop();for(x in Y)if(Y.hasOwnProperty(x))for(p=0,r=Y[x].length;p<r;p++)Y[x][p].remove();Za(Y);for(x in c.effects)if(c.effects.hasOwnProperty(x))for(K=c.effects[x],p=0,r=K.length;p<r;p++)switch(k=K[p].type,v=K[p].params,k){case "filter":D(x,new a(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "delay":D(x,new f(v[0],v[1],v[2]));break;case "convolve":k=v[2];w=this.uj(k,!1);w.ga?k=new u(w.ga,v[0],v[1],k):(k=new u(null,v[0],
v[1],k),w.mq=v[0],w.aj=k);D(x,k);break;case "flanger":D(x,new d(v[0],v[1],v[2],v[3],v[4]));break;case "phaser":D(x,new e(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "gain":D(x,new t(v[0]));break;case "tremolo":D(x,new m(v[0],v[1]));break;case "ringmod":D(x,new E(v[0],v[1]));break;case "distortion":D(x,new q(v[0],v[1],v[2],v[3],v[4]));break;case "compressor":D(x,new P(v[0],v[1],v[2],v[3],v[4]));break;case "analyser":D(x,new h(v[0],v[1]))}p=0;for(r=g.length;p<r;p++)3===this.je||(c=g[p],k=c.buffersrc,
n=c.is_music,x=c.tag,K=c.playbackTime,C=c.looping,B=c.volume,z=(v=c.pan)&&v.hasOwnProperty("objUid")?v.objUid:-1,n&&1===this.je)||!n&&2===this.je||((w=this.hp(k,x,n,C,B))?(w.ic=c.resume_position,w.Hn(!!v),w.play(C,B,K),w.Yk(),w.Kw(),w.jj(w.jg||w.Fh),c.paused&&w.pause(),c.muted&&w.uw(),w.jj(w.jg||w.Fh),v&&(-1!==z?(w.zb=w.zb||new l,w.zb.Rj=z,Va.push(w.zb)):w.Gn(v.x,v.y,v.a,v.ia,v.oa,v.og))):(w=this.uj(k,n),w.zk=K,w.ik=c.paused,v&&(-1!==z?w.Bg.push({oq:z,jm:v.ia,Zm:v.oa,bn:v.og,rr:x}):w.Bg.push({x:v.x,
y:v.y,Ls:v.a,jm:v.ia,Zm:v.oa,bn:v.og,rr:x}))));if(b&&!M){p=0;for(r=y.length;p<r;p++)y[p].Yq(!0);M=!0}else if(!b&&M){p=0;for(r=y.length;p<r;p++)y[p].Yq(!1);M=!1}};ra.xd=function(){var a,c,b,d;a=0;for(c=Va.length;a<c;a++)b=Va[a],d=this.b.mh(b.Rj),b.ni(d),b.Rj=-1,d&&(I=d.x,G=d.y);T(Va)};ra.Iv=function(a){if(!this.Ov){!a&&w&&w.resume&&(w.resume(),V=!1);var c,b;c=0;for(b=y.length;c<b;c++)y[c].ww(a);a&&w&&w.suspend&&(w.suspend(),V=!0)}};ra.Na=function(){var a=this.b.gf,c,b,d;c=0;for(b=y.length;c<b;c++)d=
y[c],d.Na(a),0!==J&&d.Yk();var e,h;for(e in Y)if(Y.hasOwnProperty(e))for(d=Y[e],c=0,b=d.length;c<b;c++)h=d[c],h.Na&&h.Na();1===H&&this.uc.Ej()&&(this.uc.Na(a),I=this.uc.ka.x,G=this.uc.ka.y,w.listener.setPosition(this.uc.ka.x,this.uc.ka.y,this.Ph))};var Wa=[];ra.vw=function(a){var c,b,d,e,h,f=0;c=0;for(b=a.length;c<b;++c)if(d=a[c],e=d[0],d=2*d[1],(h=4<e.length&&".ogg"===e.substr(e.length-4))&&F||!h&&!F)Wa.push({filename:e,size:d,ka:null}),f+=d;return f};ra.Dw=function(){var a,c,b,d;a=0;for(c=Wa.length;a<
c;++a)b=Wa[a],d=this.b.Ol+b.filename,b.ka=this.uj(d,!1)};ra.Hu=function(){var a=0,c,b,d;c=0;for(b=Wa.length;c<b;++c)d=Wa[c],d.ka.pv()||d.ka.cv()||this.b.Ka||this.b.Gj?a+=d.size:d.ka.yp()&&(a+=Math.floor(d.size/2));return a};ra.cw=function(){var a,c,b,d;b=a=0;for(c=L.length;a<c;++a)d=L[a],L[b]=d,d.Vc?d.bw():++b;L.length=b};ra.uj=function(a,c){var b,d,e,h=null;b=0;for(d=L.length;b<d;b++)if(e=L[b],e.src===a){h=e;break}h||(Ta&&c&&this.cw(),h=new x(a,c),L.push(h));return h};ra.hp=function(a,c,b,d,e){var h,
f,g;h=0;for(f=y.length;h<f;h++)if(g=y[h],g.src===a&&(g.bt()||b))return g.tag=c,g;a=this.uj(a,b);if(!a.ga)return"<preload>"!==c&&(a.kk=c,a.Sm=d,a.bo=e),null;g=new C(a,c);y.push(g);return g};var Ka=[];K.prototype.Li=function(a){return mb(W,a)};B.n=new K;O.prototype.Play=function(a,c,b,d){!M&&(b=Math.pow(10,b/20),isFinite(b)||(b=0),0>b&&(b=0),1<b&&(b=1),z=this.hp(this.b.Ol+a[0]+(F?".ogg":".m4a"),d,a[1],0!==c,b))&&(z.Hn(!1),z.play(0!==c,b,0,this.kq),this.kq=0)};B.Aa=new O;B.Sa=new function(){}})();
function qc(b){this.b=b}
(function(){function b(){}var n=qc.prototype;n.ya=function(b){this.za=b;this.b=b.b};n.ya.prototype.V=function(){};n.na=function(b){this.type=b;this.b=b.b;this.ng=Array(256);this.Fi=Array(256);this.oe=0};var g=n.na.prototype;g.V=function(){var b=this;this.b.Ka||(jQuery(document).keydown(function(g){b.dn(g)}),jQuery(document).keyup(function(g){b.en(g)}))};var k=[32,33,34,35,36,37,38,39,40,44];g.dn=function(b){var g=!1;window!=window.top&&-1<k.indexOf(b.which)&&(b.preventDefault(),g=!0,b.stopPropagation());
if(this.ng[b.which])this.Fi[b.which]&&!g&&b.preventDefault();else{this.ng[b.which]=!0;this.oe=b.which;this.b.Ta=!0;this.b.trigger(qc.prototype.n.js,this);var c=this.b.trigger(qc.prototype.n.ss,this),a=this.b.trigger(qc.prototype.n.ts,this);this.b.Ta=!1;if(c||a)this.Fi[b.which]=!0,g||b.preventDefault()}};g.en=function(b){this.ng[b.which]=!1;this.oe=b.which;this.b.Ta=!0;this.b.trigger(qc.prototype.n.jo,this);var g=this.b.trigger(qc.prototype.n.mo,this),c=this.b.trigger(qc.prototype.n.lo,this);this.b.Ta=
!1;if(g||c||this.Fi[b.which])this.Fi[b.which]=!0,b.preventDefault()};g.Qe=function(){var b;for(b=0;256>b;++b)if(this.ng[b]){this.ng[b]=!1;this.oe=b;this.b.trigger(qc.prototype.n.jo,this);var g=this.b.trigger(qc.prototype.n.mo,this),c=this.b.trigger(qc.prototype.n.lo,this);if(g||c)this.Fi[b]=!0}};g.Cb=function(){return{triggerKey:this.oe}};g.Wb=function(b){this.oe=b.triggerKey};b.prototype.as=function(b){return this.ng[b]};b.prototype.ss=function(b){return b===this.oe};b.prototype.js=function(){return!0};
b.prototype.jo=function(){return!0};b.prototype.mo=function(b){return b===this.oe};b.prototype.ts=function(b){return b===this.oe};b.prototype.lo=function(b){return b===this.oe};n.n=new b;n.Aa=new function(){};n.Sa=new function(){}})();function rc(b){this.b=b}
(function(){function b(){}function n(){}var g=rc.prototype;g.ya=function(b){this.za=b;this.b=b.b};g.ya.prototype.V=function(){};g.na=function(b){this.type=b;this.b=b.b;this.Tf=Array(4);this.ur=this.Tk=this.Mf=this.Pe=this.Oe=0;this.fm=!1};var k=g.na.prototype;k.V=function(){var b=this;if(!this.b.Ka){jQuery(document).mousemove(function(a){b.hn(a)});jQuery(document).mousedown(function(a){b.gn(a)});jQuery(document).mouseup(function(a){b.jn(a)});jQuery(document).dblclick(function(a){b.Gv(a)});var c=function(a){b.Jv(a)};
document.addEventListener("mousewheel",c,!1);document.addEventListener("DOMMouseScroll",c,!1)}};var p={left:0,top:0};k.hn=function(b){var c=this.b.Ka?p:jQuery(this.b.canvas).offset();this.Oe=b.pageX-c.left;this.Pe=b.pageY-c.top};k.gq=function(){return 0<this.b.Ub?!0:0<=this.Oe&&0<=this.Pe&&this.Oe<this.b.width&&this.Pe<this.b.height};k.gn=function(b){this.gq()&&(this.Tf[b.which]=!0,this.b.Ta=!0,this.b.trigger(rc.prototype.n.hs,this),this.Mf=b.which-1,this.Tk=0,this.b.trigger(rc.prototype.n.ko,this),
this.b.trigger(rc.prototype.n.gl,this),this.b.Ta=!1)};k.jn=function(b){this.Tf[b.which]&&(this.b.Cj&&!this.b.de&&b.preventDefault(),this.b.Cj=!0,this.Tf[b.which]=!1,this.b.Ta=!0,this.Mf=b.which-1,this.b.trigger(rc.prototype.n.ro,this),this.b.Ta=!1)};k.Gv=function(b){this.gq()&&(b.preventDefault(),this.b.Ta=!0,this.Mf=b.which-1,this.Tk=1,this.b.trigger(rc.prototype.n.ko,this),this.b.trigger(rc.prototype.n.gl,this),this.b.Ta=!1)};k.Jv=function(b){this.ur=0>(b.wheelDelta?b.wheelDelta:b.detail?-b.detail:
0)?0:1;this.fm=!1;this.b.Ta=!0;this.b.trigger(rc.prototype.n.xs,this);this.b.Ta=!1;this.fm&&nb(b)&&b.preventDefault()};k.Qe=function(){var b,c;b=0;for(c=this.Tf.length;b<c;++b)this.Tf[b]&&(this.Tf[b]=!1,this.Mf=b-1,this.b.trigger(rc.prototype.n.ro,this))};b.prototype.ko=function(b,c){return b===this.Mf&&c===this.Tk};b.prototype.hs=function(){return!0};b.prototype.ro=function(b){return b===this.Mf};b.prototype.gl=function(b,c,a){return b!==this.Mf||c!==this.Tk?!1:this.b.wi(a,this.Oe,this.Pe)};b.prototype.xs=
function(b){this.fm=!0;return b===this.ur};g.n=new b;g.Aa=new function(){};n.prototype.xo=function(b,c){var a,f,g,d,e;fa(c)?(a=this.b.$d(0),f=a.scale,g=a.Sb,d=a.ec,e=a.i,a.scale=1,a.Sb=1,a.ec=1,a.i=0,b.C(a.$a(this.Oe,this.Pe,!0)),a.scale=f,a.Sb=g,a.ec=d,a.i=e):(a=ga(c)?this.b.$d(c):this.b.lh(c))?b.C(a.$a(this.Oe,this.Pe,!0)):b.C(0)};n.prototype.jl=function(b,c){var a,f,g,d,e;fa(c)?(a=this.b.$d(0),f=a.scale,g=a.Sb,d=a.fc,e=a.i,a.scale=1,a.Sb=1,a.fc=1,a.i=0,b.C(a.$a(this.Oe,this.Pe,!1)),a.scale=f,a.Sb=
g,a.fc=d,a.i=e):(a=ga(c)?this.b.$d(c):this.b.lh(c))?b.C(a.$a(this.Oe,this.Pe,!1)):b.C(0)};g.Sa=new n})();function sc(b){this.b=b}
(function(){function b(b){this.Ea=b;this.mb=!1;this.i=this.speed=this.y=this.x=0;this.opacity=1;this.we=this.dg=this.size=this.Aj=0}var n=sc.prototype;n.ya=function(b){this.za=b;this.b=b.b};var g=n.ya.prototype;g.V=function(){this.G||(this.N=new Image,this.N.Cl=this.Ok,this.Z=null,this.b.co(this.N,this.Nk))};g.di=function(){this.G||(this.Z=null)};g.ak=function(){this.G||!this.d.length||this.Z||(this.Z=this.b.u.tg(this.N,!0,this.b.Da,this.yi))};g.Qh=function(){this.G||this.Z||!this.b.u||(this.Z=this.b.u.tg(this.N,
!0,this.b.Da,this.yi))};g.Wk=function(){this.G||this.d.length||!this.Z||(this.b.u.deleteTexture(this.Z),this.Z=null)};g.pk=function(b){b.drawImage(this.N,0,0)};b.prototype.init=function(){var b=this.Ea;this.x=b.x-b.cl/2+Math.random()*b.cl;this.y=b.y-b.dl/2+Math.random()*b.dl;this.speed=b.rm-b.Gk/2+Math.random()*b.Gk;this.i=b.i-b.Hk/2+Math.random()*b.Hk;this.opacity=b.pm;this.size=b.qm-b.Fk/2+Math.random()*b.Fk;this.Aj=b.em-b.Bj/2+Math.random()*b.Bj;this.we=this.dg=0};b.prototype.Na=function(b){var g=
this.Ea;this.x+=Math.cos(this.i)*this.speed*b;this.y+=Math.sin(this.i)*this.speed*b;this.y+=this.dg*b;this.speed+=g.Ha*b;this.size+=this.Aj*b;this.dg+=g.Ee*b;this.we+=b;1>this.size?this.mb=!1:(0!==g.Mh&&(this.i+=Math.random()*g.Mh*b-g.Mh*b/2),0!==g.Oh&&(this.speed+=Math.random()*g.Oh*b-g.Oh*b/2),0!==g.Nh&&(this.opacity+=Math.random()*g.Nh*b-g.Nh*b/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=g.Xf&&this.we>=g.timeout&&(this.mb=!1),2===g.Xf&&0>=this.speed&&(this.mb=!1))};b.prototype.Ec=
function(b){var g=this.Ea.opacity*this.opacity;if(0!==g){0===this.Ea.Xf&&(g*=1-this.we/this.Ea.timeout);b.globalAlpha=g;var g=this.x-this.size/2,c=this.y-this.size/2;this.Ea.b.Kc&&(g=g+.5|0,c=c+.5|0);b.drawImage(this.Ea.type.N,g,c,this.size,this.size)}};b.prototype.Lb=function(b){var g=this.Ea.opacity*this.opacity;0===this.Ea.Xf&&(g*=1-this.we/this.Ea.timeout);var c=this.size,a=c*this.Ea.Fq,f=this.x-c/2,k=this.y-c/2;this.Ea.b.Kc&&(f=f+.5|0,k=k+.5|0);1>a||0===g||(a<b.Bv||a>b.Tm?(b.Ue(g),b.Eg(f,k,f+
c,k,f+c,k+c,f,k+c)):b.Pv(this.x,this.y,a,g))};b.prototype.left=function(){return this.x-this.size/2};b.prototype.right=function(){return this.x+this.size/2};b.prototype.top=function(){return this.y-this.size/2};b.prototype.bottom=function(){return this.y+this.size/2};n.na=function(b){this.type=b;this.b=b.b};var g=n.na.prototype,k=[];g.V=function(){var b=this.L;this.uk=b[0];this.Hk=U(b[1]);this.Kg=b[2];this.Nn=!0;this.rm=b[3];this.qm=b[4];this.pm=b[5]/100;this.em=b[6];this.cl=b[7];this.dl=b[8];this.Gk=
b[9];this.Fk=b[10];this.Bj=b[11];this.Ha=b[12];this.Ee=b[13];this.Mh=b[14];this.Oh=b[15];this.Nh=b[16];this.Xf=b[17];this.timeout=b[18];this.Gf=0;this.Fq=1;this.fk=this.x;this.hk=this.y;this.gk=this.x;this.ek=this.y;this.Rs(function(b){b.Ba.set(b.fk,b.hk,b.gk,b.ek);b.Hb.Jg(b.Ba);b.Ui=!1;b.$n();b.Jr()});this.xc||(this.Xb=[]);this.b.Bi(this);this.type.Qh();if(1===this.Kg)for(b=0;b<this.uk;b++)this.ll().opacity=0;this.qj=!0};g.Cb=function(){var b={r:this.uk,sc:this.Hk,st:this.Kg,s:this.Nn,isp:this.rm,
isz:this.qm,io:this.pm,gr:this.em,xr:this.cl,yr:this.dl,spr:this.Gk,szr:this.Fk,grnd:this.Bj,acc:this.Ha,g:this.Ee,lar:this.Mh,lsr:this.Oh,lor:this.Nh,dm:this.Xf,to:this.timeout,pcc:this.Gf,ft:this.qj,p:[]},g,c,a,f=b.p;g=0;for(c=this.Xb.length;g<c;g++)a=this.Xb[g],f.push([a.x,a.y,a.speed,a.i,a.opacity,a.Aj,a.size,a.dg,a.we]);return b};g.Wb=function(b){this.uk=b.r;this.Hk=b.sc;this.Kg=b.st;this.Nn=b.s;this.rm=b.isp;this.qm=b.isz;this.pm=b.io;this.em=b.gr;this.cl=b.xr;this.dl=b.yr;this.Gk=b.spr;this.Fk=
b.szr;this.Bj=b.grnd;this.Ha=b.acc;this.Ee=b.g;this.Mh=b.lar;this.Oh=b.lsr;this.Nh=b.lor;this.Xf=b.dm;this.timeout=b.to;this.Gf=b.pcc;this.qj=b.ft;k.push.apply(k,this.Xb);T(this.Xb);var g,c,a,f=b.p;b=0;for(g=f.length;b<g;b++)c=this.ll(),a=f[b],c.x=a[0],c.y=a[1],c.speed=a[2],c.i=a[3],c.opacity=a[4],c.Aj=a[5],c.size=a[6],c.dg=a[7],c.we=a[8]};g.Ff=function(){k.push.apply(k,this.Xb);T(this.Xb)};g.ll=function(){var g;k.length?(g=k.pop(),g.Ea=this):g=new b(this);this.Xb.push(g);g.mb=!0;return g};g.Na=function(){var b=
this.b.ag(this),g,c,a,f;if(0===this.Kg&&this.Nn)for(this.Gf+=b*this.uk,c=A(this.Gf),this.Gf-=c,g=0;g<c;g++)a=this.ll(),a.init();this.fk=this.x;this.hk=this.y;this.gk=this.x;this.ek=this.y;f=g=0;for(c=this.Xb.length;g<c;g++)a=this.Xb[g],this.Xb[f]=a,this.b.qa=!0,1===this.Kg&&this.qj&&a.init(),a.Na(b),a.mb?(a.left()<this.fk&&(this.fk=a.left()),a.right()>this.gk&&(this.gk=a.right()),a.top()<this.hk&&(this.hk=a.top()),a.bottom()>this.ek&&(this.ek=a.bottom()),f++):k.push(a);ya(this.Xb,f);this.I();this.qj=
!1;1===this.Kg&&0===this.Xb.length&&this.b.se(this)};g.Ec=function(b){var g,c,a,f=this.k;g=0;for(c=this.Xb.length;g<c;g++)a=this.Xb[g],a.right()>=f.la&&a.bottom()>=f.ma&&a.left()<=f.ta&&a.top()<=f.ra&&a.Ec(b)};g.Lb=function(b){this.Fq=this.k.$b();b.jc(this.type.Z);var g,c,a,f=this.k;g=0;for(c=this.Xb.length;g<c;g++)a=this.Xb[g],a.right()>=f.la&&a.bottom()>=f.ma&&a.left()<=f.ta&&a.top()<=f.ra&&a.Lb(b)};n.n=new function(){};n.Aa=new function(){};n.Sa=new function(){}})();function oc(b){this.b=b}
(function(){function b(){if(0===this.Fl.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Lg?b.drawImage(this.N,this.zg,this.Ag,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.N,0,0,this.width,this.height);this.Fl=a.toDataURL("image/png")}return this.Fl}function n(){}function g(a){a[0]=0;a[1]=0;a[2]=0;t.push(a)}function k(a,b){return a<b?""+a+","+b:""+b+","+a}function p(a,b,c,d){b=b.uid;c=c.uid;var e=k(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var f=t.length?t.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=d;a[e]=f}}function r(a,b,c){b=k(b.uid,c.uid);a.hasOwnProperty(b)&&(g(a[b]),delete a[b])}function c(a,b,c){b=k(b.uid,c.uid);if(a.hasOwnProperty(b))return m=a[b][2],!0;m=-2;return!1}function a(){}var f=oc.prototype;f.ya=function(a){this.za=a;this.b=a.b};var u=f.ya.prototype;u.V=function(){if(!this.G){var a,c,d,e,f,g,q,k,m;this.dd=[];this.rh=!1;a=0;for(c=this.mc.length;a<c;a++){f=this.mc[a];q={};q.name=f[0];q.speed=f[1];q.loop=f[2];q.zn=f[3];q.An=
f[4];q.Gq=f[5];q.aa=f[6];q.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],k={},k.Nk=g[0],k.Ok=g[1],k.zg=g[2],k.Ag=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.ac=g[7],k.cc=g[8],k.lm=g[9],k.lk=g[10],k.Hq=g[11],k.Lg=0!==k.width,k.Fl="",k.ay=b,m={left:0,top:0,right:1,bottom:1},k.In=m,k.Z=null,(m=this.b.uu(g[0]))?k.N=m:(k.N=new Image,k.N.ht=g[0],k.N.Cl=g[1],k.N.Zs=null,this.b.co(k.N,g[0])),q.frames.push(k),this.dd.push(k);this.mc[a]=q}}};u.Ir=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=
this.d[a],c.cj=c.sb.Z};u.di=function(){if(!this.G){var a,b,c;a=0;for(b=this.dd.length;a<b;++a)c=this.dd[a],c.N.Zs=null,c.Z=null;this.rh=!1;this.Ir()}};u.ak=function(){if(!this.G&&this.d.length){var a,b,c;a=0;for(b=this.dd.length;a<b;++a)c=this.dd[a],c.Z=this.b.u.tg(c.N,!1,this.b.Da,c.Hq);this.Ir()}};u.Qh=function(){if(!this.G&&!this.rh&&this.b.u){var a,b,c;a=0;for(b=this.dd.length;a<b;++a)c=this.dd[a],c.Z=this.b.u.tg(c.N,!1,this.b.Da,c.Hq);this.rh=!0}};u.Wk=function(){if(!this.G&&!this.d.length&&
this.rh){var a,b,c;a=0;for(b=this.dd.length;a<b;++a)c=this.dd[a],this.b.u.deleteTexture(c.Z),c.Z=null;this.rh=!1}};var d=[];u.pk=function(a){var b,c,e;T(d);b=0;for(c=this.dd.length;b<c;++b)e=this.dd[b].N,-1===d.indexOf(e)&&(a.drawImage(e,0,0),d.push(e))};f.na=function(a){this.type=a;this.b=a.b;a=this.type.mc[0].frames[0].lk;this.xc?this.ja.pi(a):this.ja=new fb(a)};var e=f.na.prototype;e.V=function(){this.visible=0===this.L[0];this.mm=this.Bm=!1;this.Rd=0!==this.L[3];this.Ga=this.gp(this.L[1])||this.type.mc[0];
this.D=this.L[2];0>this.D&&(this.D=0);this.D>=this.Ga.frames.length&&(this.D=this.Ga.frames.length-1);var a=this.Ga.frames[this.D];this.ja.pi(a.lk);this.ac=a.ac;this.cc=a.cc;this.Vf=this.Ga.speed;this.Ce=this.Ga.An;1===this.type.mc.length&&1===this.type.mc[0].frames.length||0===this.Vf||(this.b.Bi(this),this.Bm=!0);this.xc?this.yd.reset():this.yd=new db;this.Zd=this.yd.ca;this.Ze=!0;this.Od=0;this.Ye=!0;this.yl=this.Do="";this.ct=0;this.Yi=-1;this.type.Qh();var b,c,d,e,f,g,q,a=0;for(b=this.type.mc.length;a<
b;a++)for(e=this.type.mc[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.N.width,f.height=f.N.height),f.Lg&&(q=f.N,g=f.In,g.left=f.zg/q.width,g.top=f.Ag/q.height,g.right=(f.zg+f.width)/q.width,g.bottom=(f.Ag+f.height)/q.height,0===f.zg&&0===f.Ag&&f.width===q.width&&f.height===q.height&&(f.Lg=!1));this.sb=this.Ga.frames[this.D];this.cj=this.sb.Z};e.Cb=function(){var a={a:this.Ga.aa,f:this.D,cas:this.Vf,fs:this.Zd,ar:this.Od,at:this.yd.ca,rt:this.Ce};this.Ze||(a.ap=this.Ze);this.Ye||
(a.af=this.Ye);return a};e.Wb=function(a){var b=this.zu(a.a);b&&(this.Ga=b);this.D=a.f;0>this.D&&(this.D=0);this.D>=this.Ga.frames.length&&(this.D=this.Ga.frames.length-1);this.Vf=a.cas;this.Zd=a.fs;this.Od=a.ar;this.yd.reset();this.yd.ca=a.at;this.Ze=a.hasOwnProperty("ap")?a.ap:!0;this.Ye=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.Ce=a.rt:this.Ce=this.Ga.An;this.sb=this.Ga.frames[this.D];this.cj=this.sb.Z;this.ja.pi(this.sb.lk);this.ac=this.sb.ac;this.cc=this.sb.cc};e.pl=function(a){this.D=
a?0:this.Ga.frames.length-1;this.Ze=!1;this.Do=this.Ga.name;this.mm=!0;this.b.trigger(oc.prototype.n.gs,this);this.b.trigger(oc.prototype.n.es,this);this.mm=!1;this.Od=0};e.ql=function(){return this.yd.ca};e.Na=function(){this.yd.add(this.b.ag(this));this.yl.length&&this.nt();0<=this.Yi&&this.To();var a=this.yd.ca,b=this.Ga,c=b.frames[this.D],d=c.duration/this.Vf;this.Ze&&a>=this.Zd+d&&(this.Ye?this.D++:this.D--,this.Zd+=d,this.D>=b.frames.length&&(b.Gq?(this.Ye=!1,this.D=b.frames.length-2):b.loop?
this.D=this.Ce:(this.Od++,this.Od>=b.zn?this.pl(!1):this.D=this.Ce)),0>this.D&&(b.Gq?(this.D=1,this.Ye=!0,b.loop||(this.Od++,this.Od>=b.zn&&this.pl(!0))):b.loop?this.D=this.Ce:(this.Od++,this.Od>=b.zn?this.pl(!0):this.D=this.Ce)),0>this.D?this.D=0:this.D>=b.frames.length&&(this.D=b.frames.length-1),a>this.Zd+b.frames[this.D].duration/this.Vf&&(this.Zd=a),a=b.frames[this.D],this.Qf(c,a),this.b.qa=!0)};e.gp=function(a){var b,c,d;b=0;for(c=this.type.mc.length;b<c;b++)if(d=this.type.mc[b],mb(d.name,a))return d;
return null};e.zu=function(a){var b,c,d;b=0;for(c=this.type.mc.length;b<c;b++)if(d=this.type.mc[b],d.aa===a)return d;return null};e.nt=function(){var a=this.Ga.frames[this.D],b=this.gp(this.yl);this.yl="";!b||mb(b.name,this.Ga.name)&&this.Ze||(this.Ga=b,this.Vf=b.speed,this.Ce=b.An,0>this.D&&(this.D=0),this.D>=this.Ga.frames.length&&(this.D=this.Ga.frames.length-1),1===this.ct&&(this.D=0),this.Ze=!0,this.Zd=this.yd.ca,this.Ye=!0,this.Qf(a,this.Ga.frames[this.D]),this.b.qa=!0)};e.To=function(){var a=
this.Ga.frames[this.D],b=this.D;this.D=A(this.Yi);0>this.D&&(this.D=0);this.D>=this.Ga.frames.length&&(this.D=this.Ga.frames.length-1);b!==this.D&&(this.Qf(a,this.Ga.frames[this.D]),this.Zd=this.yd.ca,this.b.qa=!0);this.Yi=-1};e.Qf=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.ac=b.ac;this.cc=b.cc;this.ja.pi(b.lk);this.I();this.sb=b;this.cj=b.Z;c=0;for(d=this.R.length;c<d;c++)e=this.R[c],e.Hv&&e.Hv(a,b);this.b.trigger(oc.prototype.n.Qf,
this)};e.Ec=function(a){a.globalAlpha=this.opacity;var b=this.sb,c=b.Lg,d=b.N,e=this.x,f=this.y,g=this.width,q=this.height;if(0===this.i&&0<=g&&0<=q)e-=this.ac*g,f-=this.cc*q,this.b.Kc&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.zg,b.Ag,b.width,b.height,e,f,g,q):a.drawImage(d,e,f,g,q);else{this.b.Kc&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,m=0<q?1:-1;a.translate(e,f);1===k&&1===m||a.scale(k,m);a.rotate(this.i*k*m);e=0-this.ac*ka(g);f=0-this.cc*ka(q);c?a.drawImage(d,b.zg,
b.Ag,b.width,b.height,e,f,ka(g),ka(q)):a.drawImage(d,e,f,ka(g),ka(q));a.restore()}};e.ff=function(a){this.Lb(a)};e.Lb=function(a){a.jc(this.cj);a.Ue(this.opacity);var b=this.sb,c=this.Hb;if(this.b.Kc){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Lg?a.Jd(c.kb+d,c.lb+e,c.Qb+d,c.Rb+e,c.Ib+d,c.Jb+e,c.Fb+d,c.Gb+e,b.In):a.Eg(c.kb+d,c.lb+e,c.Qb+d,c.Rb+e,c.Ib+d,c.Jb+e,c.Fb+d,c.Gb+e)}else b.Lg?a.Jd(c.kb,c.lb,c.Qb,c.Rb,c.Ib,c.Jb,c.Fb,c.Gb,b.In):a.Eg(c.kb,c.lb,c.Qb,c.Rb,c.Ib,c.Jb,c.Fb,c.Gb)};
e.Du=function(a){var b=this.sb,c,d;c=0;for(d=b.lm.length;c<d;c++)if(mb(a,b.lm[c][0]))return c;return-1};e.kh=function(a,b){var c=this.sb,d=c.lm,e;ha(a)?e=this.Du(a):e=a-1;e=A(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.ac)*this.width,d=d[e][2],d=(d-c.cc)*this.height,c=Math.cos(this.i);e=Math.sin(this.i);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var t=[],m=-2,E=[];n.prototype.ls=function(a){if(!a)return!1;var b=this.b,d=b.Ul(),e=d.type,f=null;d.M.collmemory?f=d.M.collmemory:
(f={},d.M.collmemory=f);d.M.spriteCreatedDestroyCallback||(d.M.spriteCreatedDestroyCallback=!0,b.kl(function(a){var b=d.M.collmemory;a=a.uid;var c,e;for(c in b)b.hasOwnProperty(c)&&(e=b[c],e[0]===a||e[1]===a)&&(g(b[c]),delete b[c])}));var q=e.da(),k=a.da(),q=q.pc(),n,t,u,P,Q,H,w,L=this.b.bd,y=L-1,z=b.wb().oc;for(t=0;t<q.length;t++){u=q[t];k.wa?(u.xa(),this.b.ip(u.k,a,u.Ba,E),n=E):n=k.pc();for(P=0;P<n.length;P++)Q=n[P],b.Kf(u,Q)||b.dt(u,Q)?(H=c(f,u,Q),H=!H||m<y,p(f,u,Q,L),H&&(b.rk(z.Ma),H=e.da(),w=
a.da(),H.wa=!1,w.wa=!1,e===a?(H.d.length=2,H.d[0]=u,H.d[1]=Q,e.Pc()):(H.d.length=1,w.d.length=1,H.d[0]=u,w.d[0]=Q,e.Pc(),a.Pc()),z.iw(),b.Hf(z.Ma))):r(f,u,Q);T(E)}return!1};var q=new ba,P=!1;new ta(0,0,0,0);u.finish=function(a){if(P){if(a){var b=this.b.wb().oc.Xc;a=null.da();var c=q.Xe(),d,e;if(a.wa){a.wa=!1;T(a.d);d=0;for(e=c.length;d<e;++d)a.d[d]=c[d];if(b)for(T(a.X),d=0,e=null.d.length;d<e;++d)c=null.d[d],q.contains(c)||a.X.push(c)}else if(b)for(b=a.d.length,d=0,e=c.length;d<e;++d)a.d[b+d]=c[d],
Ca(a.X,c[d]);else za(a.d,c);null.Pc()}q.clear();P=!1}};n.prototype.es=function(a){return mb(this.Do,a)};n.prototype.gs=function(){return!0};n.prototype.Qf=function(){return!0};f.n=new n;a.prototype.Fs=function(a,b,c){if(a&&b&&(b=this.b.Oo(a,b,this.kh(c,!0),this.kh(c,!1)))){"undefined"!==typeof b.i&&(b.i=this.i,b.I());this.b.kd++;var d,e,f;this.b.trigger(Object.getPrototypeOf(a.za).n.Ki,b);if(b.rc)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.b.trigger(Object.getPrototypeOf(f.type.za).n.Ki,
f);this.b.kd--;d=this.b.Bu();c=!1;if(fa(d.M.Spawn_LastExec)||d.M.Spawn_LastExec<this.b.mf)c=!0,d.M.Spawn_LastExec=this.b.mf;if(a!=this.type&&(a=a.da(),a.wa=!1,c?(T(a.d),a.d[0]=b):a.d.push(b),b.rc))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.da(),a.wa=!1,c?(T(a.d),a.d[0]=f):a.d.push(f)}};a.prototype.Bs=function(a){this.Yi=a;this.Bm||(this.b.Bi(this),this.Bm=!0);this.mm||this.To()};f.Aa=new a;f.Sa=new function(){}})();function tc(b){this.b=b}
(function(){function b(){return a.length?a.pop():{}}function n(b){var c,d;c=0;for(d=b.length;c<d;c++)a.push(b[c]);T(b)}function g(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function k(){}var p=tc.prototype;p.V=function(){p.Aa.Ds=function(a){this.width!==a&&(this.width=a,this.Lf=!0,this.I())}};p.ya=function(a){this.za=a;this.b=a.b};var r=p.ya.prototype;r.V=function(){};r.di=function(){if(!this.G){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.Gd=null,c.Df=null,
c.vc=null}};p.na=function(a){this.type=a;this.b=a.b;this.xc?T(this.Ke):this.Ke=[];this.Lf=!0};r=p.na.prototype;r.V=function(){this.text=this.L[0];this.visible=0===this.L[1];this.font=this.L[2];this.color=this.L[3];this.Dj=this.L[4];this.$k=this.L[5];this.fo=0===this.L[7];this.Lm=this.Mj=this.width;this.Lj=this.height;this.Nm=this.L[8];this.rj=this.Yf="";this.pr=this.qr=this.hi=0;this.Mv();this.vc=this.Df=this.Gd=null;this.jq=!1;this.Kh=this.b.bd;this.xc?this.Se.set(0,0,1,1):this.Se=new ta(0,0,1,1);
this.b.u&&this.b.Bi(this)};r.Mv=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.hi=parseInt(a[b].substr(0,a[b].length-2));this.vn=Math.ceil(this.hi/72*96)+4;0<b&&(this.rj=a[b-1]);this.Yf=a[b+1];for(b+=2;b<a.length;b++)this.Yf+=" "+a[b];break}};r.Cb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Dj,va:this.$k,wr:this.fo,lho:this.Nm,fn:this.Yf,fs:this.rj,ps:this.hi,pxh:this.vn,tw:this.qr,th:this.pr,lrt:this.Kh}};r.Wb=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.Dj=a.ha;this.$k=a.va;this.fo=a.wr;this.Nm=a.lho;this.Yf=a.fn;this.rj=a.fs;this.hi=a.ps;this.vn=a.pxh;this.qr=a.tw;this.pr=a.th;this.Kh=a.lrt;this.Lf=!0;this.Lm=this.Mj=this.width;this.Lj=this.height};r.Na=function(){if(this.b.u&&this.vc&&300<=this.b.bd-this.Kh){var a=this.k;this.xa();var b=this.Ba;if(b.right<a.la||b.bottom<a.ma||b.left>a.ta||b.top>a.ra)this.b.u.deleteTexture(this.vc),this.Gd=this.Df=this.vc=null}};r.Ff=function(){this.Gd=this.Df=null;this.b.u&&
this.vc&&this.b.u.deleteTexture(this.vc);this.vc=null};r.ql=function(){this.font=this.rj+" "+this.hi.toString()+"pt "+this.Yf;this.Lf=!0;this.b.qa=!0};r.Ec=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.k.$b()),a.save(),a.scale(c,c));if(this.Lf||this.width!==this.Lm)this.type.za.Js(this.text,this.Ke,a,this.width,this.fo),this.Lf=!1,this.Lm=this.width;this.xa();var c=b?0:this.Hb.kb,e=b?0:this.Hb.lb;this.b.Kc&&(c=
c+.5|0,e=e+.5|0);0===this.i||b||(a.save(),a.translate(c,e),a.rotate(this.i),e=c=0);var g=e+this.height,k=this.vn,k=k+this.Nm,p,q;1===this.$k?e+=Math.max(this.height/2-this.Ke.length*k/2,0):2===this.$k&&(e+=Math.max(this.height-this.Ke.length*k-2,0));for(q=0;q<this.Ke.length&&!(p=c,1===this.Dj?p=c+(this.width-this.Ke[q].width)/2:2===this.Dj&&(p=c+(this.width-this.Ke[q].width)),a.fillText(this.Ke[q].text,p,e),e+=k,e>=g-k);q++);(0!==this.i||b)&&a.restore();this.Kh=this.b.bd};r.Lb=function(a){if(!(1>
this.width||1>this.height)){var b=this.Lf||this.jq;this.jq=!1;var c=this.k.$b(),e=this.k.bb(),g=this.Se,k=c*this.width,p=c*this.height,q=Math.ceil(k),n=Math.ceil(p),h=Math.abs(q),l=Math.abs(n),r=this.b.K/2,C=this.b.J/2;this.Df||(this.Gd=document.createElement("canvas"),this.Gd.width=h,this.Gd.height=l,this.Mj=h,this.Lj=l,b=!0,this.Df=this.Gd.getContext("2d"));if(h!==this.Mj||l!==this.Lj)this.Gd.width=h,this.Gd.height=l,this.vc&&(a.deleteTexture(this.vc),this.vc=null),b=!0;b&&(this.Df.clearRect(0,
0,h,l),this.Ec(this.Df,!0),this.vc||(this.vc=a.Dc(h,l,this.b.Da,this.b.de)),a.Pw(this.Gd,this.vc,this.b.de));this.Mj=h;this.Lj=l;a.jc(this.vc);a.Ue(this.opacity);a.Yc();a.translate(-r,-C);a.Mc();var D=this.Hb,b=this.k.La(D.kb,D.lb,!0,!0),h=this.k.La(D.kb,D.lb,!1,!0),l=this.k.La(D.Qb,D.Rb,!0,!0),r=this.k.La(D.Qb,D.Rb,!1,!0),C=this.k.La(D.Ib,D.Jb,!0,!0),K=this.k.La(D.Ib,D.Jb,!1,!0),O=this.k.La(D.Fb,D.Gb,!0,!0),D=this.k.La(D.Fb,D.Gb,!1,!0);if(this.b.Kc||0===this.i&&0===e)var B=(b+.5|0)-b,v=(h+.5|0)-
h,b=b+B,h=h+v,l=l+B,r=r+v,C=C+B,K=K+v,O=O+B,D=D+v;0===this.i&&0===e?(l=b+q,r=h,C=l,K=h+n,O=b,D=K,g.right=1,g.bottom=1):(g.right=k/q,g.bottom=p/n);a.Jd(b,h,l,r,C,K,O,D,g);a.Yc();a.scale(c,c);a.xk(-this.k.bb());a.translate((this.k.la+this.k.ta)/-2,(this.k.ma+this.k.ra)/-2);a.Mc();this.Kh=this.b.bd}};var c=[];p.Hs=function(a){T(c);for(var b="",d,e=0;e<a.length;)if(d=a.charAt(e),"\n"===d)b.length&&(c.push(b),b=""),c.push("\n"),++e;else if(" "===d||"\t"===d||"-"===d){do b+=a.charAt(e),e++;while(e<a.length&&
(" "===a.charAt(e)||"\t"===a.charAt(e)));c.push(b);b=""}else e<a.length&&(b+=d,e++);b.length&&c.push(b)};var a=[];p.Js=function(a,c,d,e,g){if(a&&a.length)if(2>=e)n(c);else{if(100>=a.length&&-1===a.indexOf("\n")){var k=d.measureText(a).width;if(k<=e){n(c);c.push(b());c[0].text=a;c[0].width=k;return}}this.Ks(a,c,d,e,g)}else n(c)};p.Ks=function(f,k,d,e,p){p&&(this.Hs(f),f=c);var m="",n,q,r,h=0;for(r=0;r<f.length;r++)"\n"===f[r]?(h>=k.length&&k.push(b()),m=g(m),q=k[h],q.text=m,q.width=d.measureText(m).width,
h++,m=""):(n=m,m+=f[r],q=d.measureText(m).width,q>=e&&(h>=k.length&&k.push(b()),n=g(n),q=k[h],q.text=n,q.width=d.measureText(n).width,h++,m=f[r],p||" "!==m||(m="")));m.length&&(h>=k.length&&k.push(b()),m=g(m),q=k[h],q.text=m,q.width=d.measureText(m).width,h++);for(r=h;r<k.length;r++)a.push(k[r]);k.length=h};p.n=new function(){};k.prototype.Cs=function(a){ga(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Lf=!0,this.b.qa=!0)};p.Aa=new k;p.Sa=new function(){}})();
function uc(b){this.b=b}
(function(){var b=uc.prototype;b.ya=function(b){this.za=b;this.b=b.b};var n=b.ya.prototype;n.V=function(){this.G||(this.N=new Image,this.N.Cl=this.Ok,this.b.co(this.N,this.Nk),this.Z=this.pattern=null)};n.di=function(){this.G||(this.Z=null)};n.ak=function(){if(!this.G&&this.d.length){this.Z||(this.Z=this.b.u.tg(this.N,!0,this.b.Da,this.yi));var b,k;b=0;for(k=this.d.length;b<k;b++)this.d[b].Z=this.Z}};n.Qh=function(){this.G||this.Z||!this.b.u||(this.Z=this.b.u.tg(this.N,!0,this.b.Da,this.yi))};n.Wk=
function(){this.G||this.d.length||!this.Z||(this.b.u.deleteTexture(this.Z),this.Z=null)};n.pk=function(b){b.drawImage(this.N,0,0)};b.na=function(b){this.type=b;this.b=b.b};n=b.na.prototype;n.V=function(){this.visible=0===this.L[0];this.Se=new ta(0,0,0,0);this.qp=!1;this.N=this.type.N;this.b.u?(this.type.Qh(),this.Z=this.type.Z):(this.type.pattern||(this.type.pattern=this.b.Ia.createPattern(this.type.N,"repeat")),this.pattern=this.type.pattern)};n.xd=function(){this.qp=!1;this.N=this.type.N};n.Ff=
function(){this.b.u&&this.qp&&this.Z&&(this.b.u.deleteTexture(this.Z),this.Z=null)};n.Ec=function(b){b.globalAlpha=this.opacity;b.save();b.fillStyle=this.pattern;var k=this.x,p=this.y;this.b.Kc&&(k=Math.round(k),p=Math.round(p));var n=-(this.ac*this.width),c=-(this.cc*this.height),a=n%this.N.width,f=c%this.N.height;0>a&&(a+=this.N.width);0>f&&(f+=this.N.height);b.translate(k,p);b.rotate(this.i);b.translate(a,f);b.fillRect(n-a,c-f,this.width,this.height);b.restore()};n.ff=function(b){this.Lb(b)};n.Lb=
function(b){b.jc(this.Z);b.Ue(this.opacity);var k=this.Se;k.right=this.width/this.N.width;k.bottom=this.height/this.N.height;var p=this.Hb;if(this.b.Kc){var n=Math.round(this.x)-this.x,c=Math.round(this.y)-this.y;b.Jd(p.kb+n,p.lb+c,p.Qb+n,p.Rb+c,p.Ib+n,p.Jb+c,p.Fb+n,p.Gb+c,k)}else b.Jd(p.kb,p.lb,p.Qb,p.Rb,p.Ib,p.Jb,p.Fb,p.Gb,k)};b.n=new function(){};b.Aa=new function(){};b.Sa=new function(){}})();function Z(b){this.b=b}
(function(){function b(a){f=a.x;u=a.y;d=a.z}function n(a,b,c,d){var f;f=e.length?e.pop():new g;f.init(a,b,c,d);return f}function g(){this.si=this.id=this.zf=this.yf=this.y=this.x=this.Kk=this.Jk=this.Jm=this.time=this.Pn=0;this.Di=this.Uk=!1}function k(){}function p(){}var r=Z.prototype;r.ya=function(a){this.za=a;this.b=a.b};r.ya.prototype.V=function(){};r.na=function(a){this.type=a;this.b=a.b;this.touches=[];this.Wm=!1};var c=r.na.prototype,a={left:0,top:0};c.jh=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var f=0,u=0,d=0,e=[];g.prototype.init=function(a,b,c,d){var e=$a();this.Pn=this.Jm=this.time=e;this.Jk=a;this.Kk=b;this.x=a;this.y=b;this.yf=a;this.zf=b;this.pressure=this.height=this.width=0;this.id=c;this.si=d;this.Di=this.Uk=!1};g.prototype.update=function(a,b,c,d,e,f){this.Jm=this.time;this.time=a;this.yf=this.x;this.zf=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Di&&15<=Ra(this.Jk,this.Kk,this.x,this.y)&&(this.Di=
!0)};g.prototype.zv=function(a,b){!this.Uk&&500<=$a()-this.Pn&&!this.Di&&15>Ra(this.Jk,this.Kk,this.x,this.y)&&(this.Uk=!0,a.Nd=this.si,a.Pg=this.id,a.bg=b,a.b.trigger(Z.prototype.n.qs,a),a.Td=this.x,a.Ud=this.y,a.b.trigger(Z.prototype.n.rs,a),a.bg=0)};var t=-1E3,m=-1E3,E=-1E4;g.prototype.bq=function(a,b){if(!this.Uk){var c=$a();333>=c-this.Pn&&!this.Di&&15>Ra(this.Jk,this.Kk,this.x,this.y)&&(a.Nd=this.si,a.Pg=this.id,a.bg=b,666>=c-E&&25>Ra(t,m,this.x,this.y)?(a.b.trigger(Z.prototype.n.ns,a),a.Td=
this.x,a.Ud=this.y,a.b.trigger(Z.prototype.n.os,a),m=t=-1E3,E=-1E4):(a.b.trigger(Z.prototype.n.uo,a),a.Td=this.x,a.Ud=this.y,a.b.trigger(Z.prototype.n.ws,a),t=this.x,m=this.y,E=c),a.bg=0)}};c.V=function(){this.sv=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.bg=this.Pg=this.Nd=this.Ud=this.Td=this.Ao=this.zo=this.yo=this.Os=this.Ns=this.Ms=this.dk=this.ck=this.bk=0;this.Nw=0!==this.L[0];var a=0<this.b.Ub?document:this.b.canvas,c=document;this.b.Vb?c=a=window.Canvas:this.b.Uc&&
(c=a=window);var d=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){d.tq(a)},!1),a.addEventListener("pointermove",function(a){d.sq(a)},!1),c.addEventListener("pointerup",function(a){d.$j(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.$j(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){d.tq(a)},!1),a.addEventListener("MSPointerMove",function(a){d.sq(a)},!1),c.addEventListener("MSPointerUp",function(a){d.$j(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.$j(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){d.vq(a)},!1),a.addEventListener("touchmove",function(a){d.uq(a)},!1),c.addEventListener("touchend",function(a){d.kn(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.kn(a,!0)},!1));if(this.sv){var e=function(a){a=a.reading;d.yo=a.accelerationX;d.zo=a.accelerationY;d.Ao=a.accelerationZ},f=function(a){a=a.reading;d.bk=a.yawDegrees;d.ck=a.pitchDegrees;d.dk=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();
g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),k&&k.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),k&&k.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.bk=a.alpha||0;d.ck=a.beta||0;d.dk=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.Ms=a.accelerationIncludingGravity.x||0,d.Ns=a.accelerationIncludingGravity.y||0,d.Os=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.yo=a.acceleration.x||0,d.zo=a.acceleration.y||0,d.Ao=a.acceleration.z||0)},!1);this.Nw&&!this.b.Ka&&(jQuery(document).mousemove(function(a){d.hn(a)}),jQuery(document).mousedown(function(a){d.gn(a)}),
jQuery(document).mouseup(function(a){d.jn(a)}));!this.b.mg&&this.b.qc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(b,null,{frequency:40});this.b.Gw(this)};c.sq=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&b.preventDefault();var c=this.jh(b.pointerId),d=$a();if(0<=c){var e=this.b.Ka?a:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,b.pageX-e.left,b.pageY-e.top,
b.width||0,b.height||0,b.pressure||0)}}};c.tq=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&nb(b)&&b.preventDefault();var c=this.b.Ka?a:jQuery(this.b.canvas).offset(),d=b.pageX-c.left,c=b.pageY-c.top;$a();this.Nd=this.touches.length;this.Pg=b.pointerId;this.touches.push(n(d,c,b.pointerId,this.Nd));this.b.Ta=!0;this.b.trigger(Z.prototype.n.qo,this);this.b.trigger(Z.prototype.n.wo,this);this.Td=d;this.Ud=c;this.b.trigger(Z.prototype.n.il,this);this.b.Ta=
!1}};c.$j=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&nb(a)&&a.preventDefault();var c=this.jh(a.pointerId);this.Nd=0<=c?this.touches[c].si:-1;this.Pg=0<=c?this.touches[c].id:-1;this.b.Ta=!0;this.b.trigger(Z.prototype.n.po,this);this.b.trigger(Z.prototype.n.vo,this);0<=c&&(b||this.touches[c].bq(this,c),100>e.length&&e.push(this.touches[c]),this.touches.splice(c,1));this.b.Ta=!1}};c.uq=function(b){b.preventDefault&&b.preventDefault();var c=$a(),
d,e,f,g;d=0;for(e=b.changedTouches.length;d<e;d++)if(f=b.changedTouches[d],g=this.jh(f.identifier),0<=g){var k=this.b.Ka?a:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,f.pageX-k.left,f.pageY-k.top,2*(f.ny||f.wy||f.fy||f.iy||0),2*(f.oy||f.xy||f.gy||f.jy||0),f.Zx||f.vy||f.ey||f.hy||0)}};c.vq=function(b){b.preventDefault&&nb(b)&&b.preventDefault();var c=this.b.Ka?a:jQuery(this.b.canvas).offset();$a();this.b.Ta=!0;var d,e,f,g;d=0;for(e=b.changedTouches.length;d<e;d++)if(f=b.changedTouches[d],
g=this.jh(f.identifier),-1===g){g=f.pageX-c.left;var k=f.pageY-c.top;this.Nd=this.touches.length;this.Pg=f.identifier;this.touches.push(n(g,k,f.identifier,this.Nd));this.b.trigger(Z.prototype.n.qo,this);this.b.trigger(Z.prototype.n.wo,this);this.Td=g;this.Ud=k;this.b.trigger(Z.prototype.n.il,this)}this.b.Ta=!1};c.kn=function(a,b){a.preventDefault&&nb(a)&&a.preventDefault();this.b.Ta=!0;var c,d,f;c=0;for(d=a.changedTouches.length;c<d;c++)f=a.changedTouches[c],f=this.jh(f.identifier),0<=f&&(this.Nd=
this.touches[f].si,this.Pg=this.touches[f].id,this.b.trigger(Z.prototype.n.po,this),this.b.trigger(Z.prototype.n.vo,this),b||this.touches[f].bq(this,f),100>e.length&&e.push(this.touches[f]),this.touches.splice(f,1));this.b.Ta=!1};c.ql=function(){return this.b.qc&&0===this.bk&&0!==d?90*d:this.bk};c.Yx=function(){return this.b.qc&&0===this.ck&&0!==u?90*u:this.ck};c.cy=function(){return this.b.qc&&0===this.dk&&0!==f?90*f:this.dk};c.gn=function(a){this.vq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,
identifier:0}]});this.Wm=!0};c.hn=function(a){this.Wm&&this.uq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};c.jn=function(a){a.preventDefault&&this.b.Cj&&!this.b.de&&a.preventDefault();this.b.Cj=!0;this.kn({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Wm=!1};c.Ai=function(){var a,b,c,d=$a();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Jm=d),c.zv(this,a)};k.prototype.wo=function(){return!0};k.prototype.vo=function(){return!0};k.prototype.il=
function(a){return a?this.b.wi(a,this.Td,this.Ud):!1};k.prototype.qo=function(a){a=Math.floor(a);return a===this.Nd};k.prototype.po=function(a){a=Math.floor(a);return a===this.Nd};k.prototype.qs=function(){return!0};k.prototype.uo=function(){return!0};k.prototype.ns=function(){return!0};k.prototype.rs=function(a){return a?this.b.wi(a,this.Td,this.Ud):!1};k.prototype.ws=function(a){return a?this.b.wi(a,this.Td,this.Ud):!1};k.prototype.os=function(a){return a?this.b.wi(a,this.Td,this.Ud):!1};r.n=new k;
p.prototype.xo=function(a,b){var c=this.bg;if(0>c||c>=this.touches.length)a.C(0);else{var d,e,f,g,k;fa(b)?(d=this.b.$d(0),e=d.scale,f=d.Sb,g=d.ec,k=d.i,d.scale=1,d.Sb=1,d.ec=1,d.i=0,a.C(d.$a(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Sb=f,d.ec=g,d.i=k):(d=ga(b)?this.b.$d(b):this.b.lh(b))?a.C(d.$a(this.touches[c].x,this.touches[c].y,!0)):a.C(0)}};p.prototype.jl=function(a,b){var c=this.bg;if(0>c||c>=this.touches.length)a.C(0);else{var d,e,f,g,k;fa(b)?(d=this.b.$d(0),e=d.scale,f=d.Sb,g=d.fc,
k=d.i,d.scale=1,d.Sb=1,d.fc=1,d.i=0,a.C(d.$a(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.Sb=f,d.fc=g,d.i=k):(d=ga(b)?this.b.$d(b):this.b.lh(b))?a.C(d.$a(this.touches[c].x,this.touches[c].y,!1)):a.C(0)}};r.Sa=new p})();function vc(b){this.b=b}
(function(){var b=vc.prototype;b.ya=function(b){this.behavior=b;this.b=b.b};b.ya.prototype.V=function(){};b.na=function(b,k){this.type=b;this.behavior=b.behavior;this.j=k;this.b=b.b};var n=b.na.prototype;n.V=function(){var b=this.L[0];this.Ha=this.L[1];this.Ee=this.L[2];this.Xs=0!==this.L[3];this.Fn=0!==this.L[4];this.H=Math.cos(this.j.i)*b;this.F=Math.sin(this.j.i)*b;this.yf=this.j.x;this.zf=this.j.y;this.Ic=this.j.i;this.Sk=0;this.enabled=0!==this.L[5]};n.Cb=function(){return{acc:this.Ha,g:this.Ee,
dx:this.H,dy:this.F,lx:this.yf,ly:this.zf,lka:this.Ic,t:this.Sk,e:this.enabled}};n.Wb=function(b){this.Ha=b.acc;this.Ee=b.g;this.H=b.dx;this.F=b.dy;this.yf=b.lx;this.zf=b.ly;this.Ic=b.lka;this.Sk=b.t;this.enabled=b.e};n.Na=function(){if(this.enabled){var b=this.b.ag(this.j),k,p;this.j.i!==this.Ic&&(this.Fn&&(k=Ra(0,0,this.H,this.F),this.H=Math.cos(this.j.i)*k,this.F=Math.sin(this.j.i)*k),this.Ic=this.j.i);0!==this.Ha&&(k=Ra(0,0,this.H,this.F),p=0===this.H&&0===this.F?this.j.i:Ma(0,0,this.H,this.F),
k+=this.Ha*b,0>k&&(k=0),this.H=Math.cos(p)*k,this.F=Math.sin(p)*k);0!==this.Ee&&(this.F+=this.Ee*b);this.yf=this.j.x;this.zf=this.j.y;if(0!==this.H||0!==this.F)if(this.j.x+=this.H*b,this.j.y+=this.F*b,this.Sk+=Ra(0,0,this.H*b,this.F*b),this.Fn&&(this.j.i=Ma(0,0,this.H,this.F),this.j.I(),this.Ic=this.j.i),this.j.I(),this.Xs&&(k=this.b.td(this.j)))this.b.ji(this.j,k),k=Ra(0,0,this.H,this.F),p=this.b.$s(this.j,this.yf,this.zf),this.H=Math.cos(p)*k,this.F=Math.sin(p)*k,this.j.x+=this.H*b,this.j.y+=this.F*
b,this.j.I(),this.Fn&&(this.Ic=this.j.i=p,this.j.I()),this.b.$v(this.j,this.H/k,this.F/k,Math.max(2.5*k*b,30))||this.b.Mq(this.j,100)}};b.n=new function(){};b.Aa=new function(){};b.Sa=new function(){}})();function wc(b){this.b=b}
(function(){var b=wc.prototype;b.ya=function(b){this.behavior=b;this.b=b.b};b.ya.prototype.V=function(){};b.na=function(b,k){this.type=b;this.behavior=b.behavior;this.j=k;this.b=b.b;this.Ln=this.Kn=this.Jn=this.Mn=this.km=this.li=this.Lh=this.eh=this.Ei=!1;this.Im=this.Hm=this.Gm=this.Km=-1;this.F=this.H=0};var n=b.na.prototype;n.V=function(){this.Zh=this.L[0];this.Ha=this.L[1];this.Bd=this.L[2];this.Hl=this.L[3];this.ol=this.L[4];this.kt=1===this.L[5];this.enabled=0!==this.L[6];this.kt&&!this.b.Ka&&
(jQuery(document).keydown(function(b){return function(k){b.dn(k)}}(this)),jQuery(document).keyup(function(b){return function(k){b.en(k)}}(this)))};n.Cb=function(){return{dx:this.H,dy:this.F,enabled:this.enabled,maxspeed:this.Zh,acc:this.Ha,dec:this.Bd,ignoreInput:this.km}};n.Wb=function(b){this.H=b.dx;this.F=b.dy;this.enabled=b.enabled;this.Zh=b.maxspeed;this.Ha=b.acc;this.Bd=b.dec;this.km=b.ignoreInput;this.Ln=this.Kn=this.Jn=this.Mn=this.li=this.Lh=this.eh=this.Ei=!1;this.Im=this.Hm=this.Gm=this.Km=
-1};n.dn=function(b){var k=this.b.bd;switch(b.which){case 37:b.preventDefault();this.Hm<k&&(this.Lh=!0);break;case 38:b.preventDefault();this.Km<k&&(this.Ei=!0);break;case 39:b.preventDefault();this.Im<k&&(this.li=!0);break;case 40:b.preventDefault(),this.Gm<k&&(this.eh=!0)}};n.en=function(b){var k=this.b.bd;switch(b.which){case 37:b.preventDefault();this.Lh=!1;this.Hm=k;break;case 38:b.preventDefault();this.Ei=!1;this.Km=k;break;case 39:b.preventDefault();this.li=!1;this.Im=k;break;case 40:b.preventDefault(),
this.eh=!1,this.Gm=k}};n.Qe=function(){this.li=this.Lh=this.eh=this.Ei=!1};n.Na=function(){var b=this.b.ag(this.j),k=this.Lh||this.Kn,p=this.li||this.Ln,n=this.Ei||this.Mn,c=this.eh||this.Jn;this.Jn=this.Mn=this.Ln=this.Kn=!1;if(this.enabled){var a=this.b.td(this.j);if(a&&(this.b.ji(this.j,a),!this.b.Mq(this.j)))return;this.km&&(c=n=p=k=!1);0===this.Hl?p=k=!1:1===this.Hl&&(c=n=!1);2===this.Hl&&(n||c)&&(p=k=!1);k==p&&(0>this.H?(this.H+=this.Bd*b,0<this.H&&(this.H=0)):0<this.H&&(this.H-=this.Bd*b,0>
this.H&&(this.H=0)));n==c&&(0>this.F?(this.F+=this.Bd*b,0<this.F&&(this.F=0)):0<this.F&&(this.F-=this.Bd*b,0>this.F&&(this.F=0)));k&&!p&&(this.H=0<this.H?this.H-(this.Ha+this.Bd)*b:this.H-this.Ha*b);p&&!k&&(this.H=0>this.H?this.H+(this.Ha+this.Bd)*b:this.H+this.Ha*b);n&&!c&&(this.F=0<this.F?this.F-(this.Ha+this.Bd)*b:this.F-this.Ha*b);c&&!n&&(this.F=0>this.F?this.F+(this.Ha+this.Bd)*b:this.F+this.Ha*b);if(0!==this.H||0!==this.F){Math.sqrt(this.H*this.H+this.F*this.F)>this.Zh&&(a=Math.atan2(this.F,
this.H),this.H=this.Zh*Math.cos(a),this.F=this.Zh*Math.sin(a));p=this.j.x;n=this.j.y;k=this.j.i;this.j.x+=this.H*b;this.j.I();if(a=this.b.td(this.j))this.j.x=p,this.H=0,this.j.I(),this.b.ji(this.j,a);this.j.y+=this.F*b;this.j.I();if(a=this.b.td(this.j))this.j.y=n,this.F=0,this.j.I(),this.b.ji(this.j,a);b=kb(this.H);a=kb(this.F);if(0!==b||0!==a)1===this.ol?this.j.i=La(90*Math.round(Ea(Math.atan2(a,b))/90)):2===this.ol?this.j.i=La(45*Math.round(Ea(Math.atan2(a,b))/45)):3===this.ol&&(this.j.i=Math.atan2(a,
b));this.j.I();this.j.i!=k&&(a=this.b.td(this.j))&&(this.j.i=k,this.j.I(),this.b.ji(this.j,a))}}};b.n=new function(){};b.Aa=new function(){};b.Sa=new function(){}})();function xc(b){this.b=b}
(function(){function b(){}var n=xc.prototype;n.ya=function(b){this.behavior=b;this.b=b.b};n.ya.prototype.V=function(){};n.na=function(b,g){this.type=b;this.behavior=b.behavior;this.j=g;this.b=b.b};var g=n.na.prototype;g.V=function(){this.ib=null;this.jk=-1;this.mode=this.Ic=this.Pk=this.yg=this.ie=this.fi=0;var b=this;this.xc||(this.iq=function(g){b.cn(g)});this.b.kl(this.iq)};g.Cb=function(){return{uid:this.ib?this.ib.uid:-1,pa:this.fi,pd:this.ie,msa:this.yg,tsa:this.Pk,lka:this.Ic,m:this.mode}};
g.Wb=function(b){this.jk=b.uid;this.fi=b.pa;this.ie=b.pd;this.yg=b.msa;this.Pk=b.tsa;this.Ic=b.lka;this.mode=b.m};g.xd=function(){-1===this.jk?this.ib=null:this.ib=this.b.mh(this.jk);this.jk=-1};g.cn=function(b){this.ib==b&&(this.ib=null)};g.Ff=function(){this.ib=null;this.b.dw(this.iq)};g.Na=function(){};g.Ai=function(){if(this.ib){this.Ic!==this.j.i&&(this.yg=Ga(this.yg+(this.j.i-this.Ic)));var b=this.j.x,g=this.j.y;if(3===this.mode||4===this.mode){var n=Ra(this.j.x,this.j.y,this.ib.x,this.ib.y);
if(n>this.ie||4===this.mode&&n<this.ie)g=Ma(this.ib.x,this.ib.y,this.j.x,this.j.y),b=this.ib.x+Math.cos(g)*this.ie,g=this.ib.y+Math.sin(g)*this.ie}else b=this.ib.x+Math.cos(this.ib.i+this.fi)*this.ie,g=this.ib.y+Math.sin(this.ib.i+this.fi)*this.ie;this.Ic=n=Ga(this.yg+(this.ib.i-this.Pk));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.j.x===b&&this.j.y===g||(this.j.x=b,this.j.y=g,this.j.I());0!==this.mode&&2!==this.mode||this.j.i===n||(this.j.i=n,this.j.I())}};n.n=new function(){};
b.prototype.zs=function(b,g){if(b){var n=b.lp(this.j);n&&(this.ib=n,this.fi=Ma(n.x,n.y,this.j.x,this.j.y)-n.i,this.ie=Ra(n.x,n.y,this.j.x,this.j.y),this.Ic=this.yg=this.j.i,this.Pk=n.i,this.mode=g)}};n.Aa=new b;n.Sa=new function(){}})();function yc(b){this.b=b}
(function(){var b=yc.prototype;b.ya=function(b){this.behavior=b;this.b=b.b};b.ya.prototype.V=function(){};b.na=function(b,k){this.type=b;this.behavior=b.behavior;this.j=k;this.b=b.b};var n=b.na.prototype;n.V=function(){this.speed=U(this.L[0]);this.Ha=U(this.L[1])};n.Cb=function(){return{speed:this.speed,acc:this.Ha}};n.Wb=function(b){this.speed=b.speed;this.Ha=b.acc};n.Na=function(){var b=this.b.ag(this.j);0!==b&&(0!==this.Ha&&(this.speed+=this.Ha*b),0!==this.speed&&(this.j.i=Ga(this.j.i+this.speed*
b),this.j.I()))};b.n=new function(){};b.Aa=new function(){};b.Sa=new function(){}})();function zc(b){this.b=b}
(function(){var b=zc.prototype;b.ya=function(b){this.behavior=b;this.b=b.b};b.ya.prototype.V=function(){};b.na=function(b,g){this.type=b;this.behavior=b.behavior;this.j=g;this.b=b.b;this.mode=0};b=b.na.prototype;b.V=function(){this.mode=this.L[0]};b.Na=function(){};b.Ai=function(){this.j.xa();var b=this.j.Ba,g=this.j.k.fb,k=!1;0===this.mode?(0>this.j.x&&(this.j.x=0,k=!0),0>this.j.y&&(this.j.y=0,k=!0),this.j.x>g.width&&(this.j.x=g.width,k=!0),this.j.y>g.height&&(this.j.y=g.height,k=!0)):(0>b.left&&
(this.j.x-=b.left,k=!0),0>b.top&&(this.j.y-=b.top,k=!0),b.right>g.width&&(this.j.x-=b.right-g.width,k=!0),b.bottom>g.height&&(this.j.y-=b.bottom-g.height,k=!0));k&&this.j.I()}})();
function nc(){return[pc,qc,rc,sc,oc,tc,uc,Z,wc,zc,xc,vc,yc,X.prototype.n.no,xc.prototype.Aa.zs,qc.prototype.n.as,X.prototype.n.Xr,oc.prototype.Aa.Fs,oc.prototype.Aa.As,oc.prototype.n.bs,oc.prototype.Aa.Vr,oc.prototype.n.ls,oc.prototype.Aa.Gs,oc.prototype.n.Tr,pc.prototype.Aa.Play,X.prototype.Aa.Or,tc.prototype.Aa.Cs,X.prototype.n.ys,oc.prototype.Aa.Bs,X.prototype.Sa["int"],X.prototype.Sa.random,uc.prototype.n.Ur,uc.prototype.Sa.Is,uc.prototype.Aa.Es,uc.prototype.Sa.jl,Z.prototype.n.uo,X.prototype.Aa.Yr,
rc.prototype.n.gl,Z.prototype.n.il]};
